Abstract
We study communication from layer to layer of a network modeling it as a bipartite graph of transmitters and receivers. We seek to minimize the time needed for all receivers to get a message held by all transmitters. We study this Layer Dissemination problem under the Weighted Topological Interference Management (W-TIM) framework, which subsumes previous models of interference.

We present randomized and deterministic protocols for Layer Dissemination, based on Selective-with-Interference Families, a combinatorial object related to group testing non-adaptive algorithms and superimposed codes.

Our approach combines an engineering solution with theoretical guarantees. We characterize the network with a global measure of interference based on measurements in the specific deployment area. Then, our protocols distributedly produce an ad-hoc transmissions schedule for dissemination.

We complement our theoretical study with simulations of a real network-deployment area to compare our protocols with previous work for models that ignore some physical constraints. The striking improvement in performance shown by our simulations with respect to using previous simplified models of interference shows the importance of using W-TIM to develop algorithms.

Keywords
Wireless networks
Topological interference management
Contention resolution

1. Introduction
In this work, we study information dissemination in ad-hoc wireless networks. Propagating information from its source to all other network nodes is known to have a core challenge in passing such information from one layer1 to the next one (cf. [1], [2], [3]). The reason is the interference among the transmissions of nodes in the same layer. Thus, we focus in two contiguous layers considering a bipartite topology where nodes are partitioned as transmitters and receivers. To complete the task, the same message held by all transmitters must be passed to all receivers. We call this problem Layer Dissemination.

We study time bounds for Layer Dissemination under a general framework for communication subject to interference that we term Weighted Topological Interference Management (W-TIM). Our framework generalizes many other models of interference (cf. [4], [5], [6], [7], [8], [9], [10], [11], [12], [13]).

We present randomized and deterministic Layer Dissemination protocols. Our running time guarantees are logarithmic on the size of the network and an interference characteristic. For our protocols, we generalize the selective-families combinatorial object [14], [15] to W-TIM. Selective families are related to group testing non-adaptive algorithms and superimposed codes. We complement the study with simulations. To the best of our knowledge, this is the first study of Layer Dissemination under a general framework for communication under interference.

Roadmap  In the following section we detail our results, followed by an overview of previous related work in Section 3, and the details of our models and the relation between Selective-with-Interference Families and dissemination in bipartite graphs in Sections 4 and 4.4. Sections 5, 6, and 7 contain our analysis and the protocols presented. In Section 8 we present our simulation results, and we conclude with a discussion on motivation.

2. Our results
•
Our first contribution is the definition of a general framework of communication under interference, that we call Weighted Topological Interference Management (W-TIM). We specify W-TIM with two graphs: a topology graph modeling the network and a conflict graph modeling interference among network nodes. The interference matrix underlying the conflict graph is the affectance matrix in the Affectance model of interference in [2].2 Our W-TIM Framework generalizes the Topological Interference Management (TIM) problem as defined in [4], [5], [6] to make it applicable to multiple communication problems, and to take into account physical constraints that appear in real-world wireless ad-hoc networks. The W-TIM Framework subsumes previous models of additive interference, such as Radio Network, SINR, and Rayleigh-fading. A detailed comparison between the Radio Network, SINR and Affectance models was presented in [2]. For completeness, we recreate such analysis and extend to the Rayleigh-fading model in the Appendix.

•
Our first technical contribution is the definition of a combinatorial object what we call Selective-with-Interference Family. For a given family 
 of subsets of integers in  and a given interference matrixA, we show the existence of a family  of subsets of  that is selective in presence of interference3 on . Under certain conditions on the relation between  and A, the family  is proved to have a number of sets that is in 
 
. That is, at most logarithmic on n and logarithmic on the maximum average interference 
 
. The latter is a characterization based on  and A. The proof of that bound is existential because it is based on the probabilistic method. Nevertheless, it provides a method to derive algorithms for Layer Dissemination. Our Selective-with-Interference Families are a generalization of the classical combinatorial definition of Selective Families [14], [15], extensively used to compute transmission schedules for the Radio Network model and in combinatorial group testing, to models that include interference, such as W-TIM.

•
We present two Layer Dissemination distributed protocols, one randomized and one deterministic. We show that both protocols have the same running time guarantee, which is asymptotically the same as the size of the Selective-with-Interference Family shown. That is, 
 
. The randomized protocol is Monte Carlo, it is very simple (a version of Decay [16]), and only requires knowledge of n, 
 
, and two constants. The deterministic protocol (inspired by [15]) provides worst-case guarantees, but nodes need to know the topology and the interference matrixA.

•
We also include simulations to evaluate the impact of W-TIM. We compare our randomized protocol with previous work for the Radio Network, SINR, and Rayleigh-fading models. Our experimental results show a striking improvement in performance because the Radio Network protocol neglects interference from non-neighboring nodes, whereas SINR and Rayleigh-fading protocols do not take advantage of low interference from nodes that, although located at a short distance, are blocked by obstacles. The performance comparison is under the conditions of the W-TIM model presented in this work (which subsumes previously considered models), while the previous algorithms evaluated have been developed for less physically-accurate models. Hence, our results provide an evidence that we should follow more accurate models to develop algorithms.

Our experimental results also show that for the particular inputs tested our randomized protocol performs better than predicted by our theoretical analysis.

3. Related work
TIM [4], [5], [6] is specified by a bipartite graph G modeling the topology of a communication network, with source and destination nodes and links between them, a subset  of links in G that must transfer a message wirelessly, and a conflict graph where each link of  (i.e., a message) is a node and edges exist between two nodes if the two links (i.e., messages) represented by the end points of that edge conflict with each other. Communication conflicts are defined as in the classic Radio Network and Multiple-access Channel models [7], [8], [9]. That is, two simultaneous messages conflict if they have the same source, the same destination, or if there is a communication link between the source of one message and the destination of the other.

TIM's definition integrates a communication model with a communication problem. Hence, as a model, it is only well-suited for some communication problems, even though it could be applied to others. For instance, TIM is well suited for the Link Scheduling problem, where a given set of network links must be “realized” independently. However, it does not capture Local Broadcast (each source node must realize all outgoing links simultaneously) or Wake-up (it is enough to realize any one link to each destination node). Also, TIM does not capture the physical nature of radio transmissions where a signal may be received if it is strong enough to overcome other signals.4

Closely related to W-TIM, the generalized affectance model was introduced and used only in the context of one-hop communication, more specifically, to Link Scheduling by Kesselheim [17], [18]. He also showed how to use it for dynamic link scheduling in batches. This model was inspired by the affectance parameter introduced in the more restricted SINR setting [10]. They give a characteristic of a set of links, based on affectance, that influence the time of successful scheduling these links under the SINR model. In [1], [2], we generalized this characteristic, called the maximum average tree-layer affectance, to be applicable to multi-hop communication tasks such as broadcast, together with another characteristic, called the maximum path affectance. A detailed comparison between Radio Network, Multiple-access Channel, SINR, and the closely related affectance models can be found in [2].

Layer Dissemination is closely related to the combinatorial problem of computing selective families ad-hoc for a given family of sets. The notion of selective families, related to group testing and superimposed codes [19], [20], was introduced in [14] as a generalization of the dissemination problem in the Radio Network model to a combinatorial problem, and it is defined as follows. Given any set of items U, a family  of subsets of U is called k-selective for the set U if and only if for any , such that , there is a set  satisfying . Later in [15], Clementi et al. showed how to compute selective families ad-hoc, that is, for a given input family. The results are applicable to dissemination under the Radio Network model of interference when the topology is known. Here, we introduce the concept of Selective-with-Interference Families, taking into account the specific conditions to achieve a successful transmission under interference.

With respect to selective families, our work can be seen as an extension of [15] to consider interference. Indeed, in [15], Clementi et al. showed how to compute selective families ad-hoc for a given family. That is, their algorithm can be used for dissemination under the Radio Network model. For instance, the input families can be seen as the different subsets of nodes that may be active at a given time, or as in Layer Dissemination as the subsets of transmitters connected to each receiver. Here, we revisit this problem under interference, that is, we show the existence of Selective-with-Interference Families(the precise notion is defined in Section 4.4), we present randomized and deterministic protocols to solve Layer Dissemination based on the Selective-with-Interference Families, and we analyze their performance.

4. Model, problem, and preliminaries
4.1. Communication model
We study Layer Dissemination under the Weighted Topological Interference Management (W-TIM) Framework, which we define with two graphs: a topology graph and a conflict graph.

Topology graph  The topology graph is a bipartite graph 
, where V is the set of transmitters, W is the set of receivers, , and E is the set of links from V to W. That is, for every , we have  and . For each , we denote by 
 the set of links incoming to receiver w, and by 
 the set of transmitters of those links.

The rationale to consider a bipartite topology is the following. To reduce traffic, information dissemination protocols for ad-hoc wireless communication networks often use a minimal subset of the available communication links, call it T. Given that nodes communicate through radio broadcast, nodes may still receive messages through other links; however, in order to upper bound the running time in the worst case, only T is assumed to be available, but taking into account the interference from links that do not belong to T. When the dissemination task involves delivery to all nodes, T defines a tree topology. (Since all nodes must be reachable but the set is minimal.) Either because there is a single source node (e.g. [1], [2]), or because packets are first aggregated at a single node for later dissemination (e.g. [21], [22]), the problem reduces to dissemination from a root to all other nodes through a Broadcast Tree, more precisely, broadcasting from layer to layer in a Breadth First Search fashion. As observed in [1], [2] the bottleneck for such dissemination on broadcast trees occurs at layers with high interference. In other words, while interference at all layers and between layers must be taken into account, the time to disseminate at the layer with highest interference dominates the total running time. Indeed, as shown in [1], [2], in the long run throughput is a function of maximum layer interference, and it is independent of interference in paths where packets can be pipelined (despite interference).

This phenomenon has also been observed in other works, such as the following fragment in [3].

In fact, if one has a fast way of transmitting one or more messages from one layer to the next, repeating this and using pipelining would yield a fast broadcast algorithm. Thus, the crux of the broadcast problem lies in how fast can this task be solved in bipartite graphs.

So, in this work, we focus on the core challenge of dissemination from one layer to the next one of a broadcast tree.
Conflict graph  The conflict graph is a complete weighted directed graph 
, where the set of nodes is the set of links in 
, the set of links is the set of all ordered pairs of nodes in 
, and a is a real-valued interference function . We refer to the adjacency matrix of 
 as the interference matrix

In this work, we assume that the transmission power used by a given node is the same, independently of which neighbor is that node trying to reach. (Notice that this is more general than uniform power assignment in that transmission power of different nodes may be different.) Hence, interference from a transmitter u into any link , for , is independent of the particular destination of u's transmission. That is, it is , for all . Thus, we simplify the interference matrix as follows.
 

We extend the definition of the interference function to sets of transmitters and sets of links, as follows. We denote 
 as the aggregated interference of a set of transmitters 
 on a link  (i.e., the sum of interference on  over all nodes in 
), and further, 
 as the aggregated interference of a set of transmitters 
 on a set of links 
 (i.e., the sum of interference of 
 over all links in 
). We do not restrict the interference function, as long as its effect is additive5; that is,
 
 

Transmission result  Without loss of generality we assume that time is slotted. Then, under the above W-TIM framework, a successful transmission in a time slot t is defined as follows. For any link , a transmission from v is received at w in time slot t if and only if:

•
v transmits in time slot t, and

•
, where  is the set of nodes transmitting in time slot t.

The event of a non-successful transmission, that is, when the aggregated interference is at least 1, is called a collision. We assume that a node listening to the channel cannot distinguish between a collision and background noise present in the channel in absence of transmissions; in other words, the model is without collision detection.
Notice that, specializing the co-domain of the interference function to , the interference matrix of the W-TIM framework, as well as the definition of a successful transmission, naturally become the adjacency matrix of the conflict graph and the definition of a successful transmission in the TIM model. Additionally restricting W-TIM to a particular set of messages to deliver independently, W-TIM collapses to TIM as defined in [4].

4.2. Problem definition
Under the model above, the Layer Dissemination Problem is defined as follows: for each node , w must receive a successful transmission from some node in 
.

4.3. Performance parameter
To analyze performance of our Layer Dissemination protocols, we define the following characterization based on a family  and an interference matrix A. Recall that 
 is a family of subsets of integers in . For each , let
 
  
  
  be the maximum average interference at receiver w, and
 
 
 
 be the maximum average interference. Intuitively this parameter measures, for a worst-case node  and a worst-case subset 
 of in-neighbors of w, how all network nodes  jointly interfere on an “average link” , with the average taken over all .

4.4. Preliminaries
We define Selective-with-Interference Families as a purely combinatorial object defined on a family of subsets of integers and a matrix of real numbers (i.e. the interference matrix), and we term the related problem of computing such an object as Selective-with-Interference Families Problem. (Refer to Section 3 for a definition of classic selective families.)

The relation between Selective-with-Interference Families and Layer Dissemination is the following. For each receiver , consider the set 
 of transmitters connected to w. These sets of transmitters define a family  of subsets of nodes in V. On the other hand, for a given Layer Dissemination protocol, the schedule of transmissions from nodes in V can also be viewed as a family  of subsets of nodes. Specifically, for each time slot t, the subset of nodes in V transmitting in t is a member of . In the Radio Network model, the family  is called selective on the family  if and only if for any 
 there is some 
 such that 
. This is because w successfully receives a message if and only if exactly one node in 
 transmits. Given an integer , consider a family 
 of subsets of integers in . Let A be a matrix of real numbers in  defined on  in such a way that for each  there is a corresponding row, and for each  and each 
 there is a column in A corresponding to the pair . Then, we say that a family 
 of subsets of  is selective in presence of interference on the family  if for each  there exists  such that:

•
, and

•
for some 
 it is 
.

We say that the family  has length s, and that each w is selected.
In terms of Layer Dissemination, labeling the transmitters as well as the receivers with consecutive integers in , each 
 is the subset of transmitters connected to receiver w, A is the interference matrix, and each value  in A corresponds to the interference of node u on link . Then, the family  is a solution for Layer Dissemination setting each node in set 
 to transmit in time slot t, for each .

5. Selective-with-Interference Family of polylogarithmic size
Theorem 1

For any , consider a family 
 of subsets of integers in  and any interference matrixA defined on . If there exists a constant  such that 
 
 for all , then, there exists a family 
 that is selective in presence of interference on , and its size s satisfies
 
 where 
 
 is the maximum average interference at receiver w and 
 
 is the maximum average interference over all receivers.

Proof

We prove the claim using the probabilistic method. That is, we show a randomly generated family  such that the probability that  does not select some set in  is strictly less than one.

Let S be a subset of  defined as follows. For each , independently include v in S with some probability p (we will discuss the best choice for p later). Let 
 be a random variable indicating whether v is in S or not. Let 
 be a random variable indicating whether  is selected or not. The probability that w is not selected given that some 
 is in S is
 
  
 
 

The above inequality is true because, for w not to be selected, the interference in all pairs  such that 
 and 
 has to be at least one. The inequality is due to the right-hand side possibly including events where some pairs have interference less than one, but others have interference larger than one so that the overall sum is still larger than 
. This right-hand side can be bounded as follows using a Markov-type inequality that can be proved as in [23]. 
  
 
 
 

Replacing
 
  
  
  
  
 
 for any 
, we get the following bound.
 
 
 
 
 

Then, we have that(1)
 
 
 
 
 
(2)
 
 
 

Consider now a family 
 of subsets of  where 
 is obtained including each  independently with probability 
 for 
 
 and . If 
 
, replacing in Equation (2) we have that 
 for , which is strictly smaller than 1. Otherwise, if 
 
, we know that, for some i, it is 
 
 
. Replacing,
 
 
 
 

Using that 
 
 for some constant , we obtain
 
 
 
 
 
 
 The latter inequality holds using that 
. Replacing  we get
 
 
 

To show that there is a positive probability that w is selected, we show that for each constant c there is a constant  such that the latter is strictly smaller than 1 as follows.
 
 
 
 
 
 
 
 
 
 

The left hand side is equal to 1 for  and monotonically decreasing for any b such that , which is the range of  for any .

Having proved that there is a positive probability that w is selected, we add a multiplicity m on the sets 
 to show that the probability that some  is not selected is small, as follows.

We redefine  as the family 
 of subsets of  where the set 
 is obtained including each  in 
 independently with probability 
, for each 
 
 and each .

Then, the probability that a given w is not selected is 
, where  is some constant as shown above. Using the union bound, the probability that some  is not selected is 
, which is smaller than 1 for some , showing the existence of a Selective-with-Interference Family of size 
 
. □

The bound shown matches the  bound for the Radio Network model in [15], because in our setting the number of subsets to select is , and in the Radio Network model it is 
 
.

6. Randomized Layer Dissemination protocol
The proof of Theorem 1, showing the existence of a Selective-with-Interference Family, yields a Monte Carlo distributed randomized protocol for Layer Dissemination applicable to settings where the conditions of the theorem hold; that is, there exists a constant c bounding 
 
 for each receiver w. The protocol requires that all transmitters have knowledge of the maximum average interference 
 
, the constant c, the number of transmitters n, and the constant  computed in the proof of Theorem 1. The protocol, detailed in Algorithm 1, is a version of the Decay protocol [16] extended to the W-TIM Framework, which requires a different analysis with respect to Radio Network models. Its correctness and running time are established in the following theorem.

Algorithm 1
Download : Download high-res image (27KB)
Download : Download full-size image
Algorithm 1. Randomized Layer Dissemination protocol for each node v ∈ V. 
 
 
, is the maximum average interference, where 
 
 is the maximum average interference on w, d < 1 is a constant as computed in the proof of Theorem 1, and c > 1 is the constant bounding 
 
 for each receiver w.

Theorem 2

Consider two consecutive layers of a radio network with interference matrixA and topology 
, where , where for each receiver  there is at least one transmitter  such that . Then, if there exists a constant  such that 
 
 for all , Algorithm 1 solves the Layer Dissemination problem with high probability,6 and the running time is in 
 
, where 
 
 is the maximum average interference at receiver w and 
 
 is the maximum average interference over all receivers.

Proof

The first claim follows from the proof of Theorem 1, together with computing the value m that makes 
. The running time follows from the number of iterations in Algorithm 1. □

For settings where only n and c are known to the transmitters, we can run the loop in Line 3 of Algorithm 1 for 
 times, since we know that 
 
 for any . The running time in that case would be 
 steps.

7. Deterministic Layer Dissemination protocol
Algorithm 1 is simple and it is easily distributed because only requires knowledge of a few global parameters (namely 
 
, c, and n), and also does not require intensive computations at each node. However, the running time guarantee is only stochastic. In this section we present a deterministic algorithm that provides the same running time guarantee but worst-case, although to implement it distributedly knowledge of the graph 
 and the interference matrix A is required.

The ideas of algorithm 
 [15] can be re-used here to compute a transmission schedule that solves Layer Dissemination, but 
 cannot be used as-is because it does not cope with interference or families of sets with different sizes. So, building upon the ideas of 
, we present in this section an algorithm for Layer Dissemination under the W-TIM Framework. That is, the transmission schedule is computed to cope with interference, and without assuming anything about the number of neighbors of each receiver. We specify such protocol in Algorithm 2 and an explanation of the details follows.

Algorithm 2
Download : Download high-res image (144KB)
Download : Download full-size image
Algorithm 2. Deterministic Layer Dissemination protocol for each node v ∈ V. 
 
 
, is the maximum average interference, where 
 
 is the maximum average interference on w, and c > 1 is the constant bounding 
 
 for each w.

The receivers pending to be selected (initially all) are partitioned in subsets so that, for each receiver w, it is 
 
 
 

The expectations in Lines 13 and 14 of the protocol correspond to the following. Recall that we assume the transmitters to be labeled by consecutive integers. That is, the set of transmitters is . Then, in Algorithm 2, for each time slot t, we keep track of whether each node in V transmits or not in an array of booleans 
, where index i of the array is true if i transmits in t and false otherwise. The array is filled incrementally for  as follows. For each index i, let 
 if , or 
 otherwise. Likewise, let 
 if , or 
 otherwise.

Then, for each value of , taking into account the action of transmitters in 
 that was already decided, we decide whether transmitter i transmits or not in t computing the expected number of receivers from a given subset that will be interference-selected, if i transmits and the actions of transmitters in 
 are chosen at random with probability 
 (Line 13). We do the same for the case that transmitter i does not transmit (Line 14). The expectations are taken over the random choice of transmitters in 
. Such computation is feasible given that every transmitter  is assumed to know 
 and the interference matrix A. The specific computation of expectations is the following.

The calculation corresponds to the ith iteration of the inner loop (Line 12) and probability 
 for some r. Let 
 be an indicator variable defined as follows. The variable 
 is random if 
, and deterministic otherwise. For each 
, 
 if and only if 
. For each 
, 
 with probability p or 
 with probability . Finally, it is 
 to compute the expectation 
 (Line 13) or 
 to compute the expectation 
 (Line 14). Also, let 
 be a random variable indicating whether receiver w is selected or not.

Then, it is
 
 
 

In the following theorem, we prove that each time the probability p is updated to 1 (Line 9), at least a constant fraction of receivers is selected, solving Layer Dissemination in a logarithmic number of steps.

Theorem 3

Consider a layer of a radio network with interference matrix A and topology 
, where , where for each receiver  there is at least one transmitter  such that . Then, if there exists a constant  such that 
 
 for all , Algorithm 2 solves the Layer Dissemination problem, and the running time is in 
 
, where 
 
 is the maximum average interference at receiver w and 
 
 is the maximum average interference over all receivers.

Proof

Algorithm 2 is correct as long as it terminates, as it does not stop until 
 (Line 7). Then, to prove the claim, it is enough to prove the upper bound on the running time, which we do as follows.

Consider the execution divided in stages, where a new stage starts each time that p is set to 1 (Line 1 and Line 9). Moreover, consider each stage divided in rounds according to the value of r. That is, starting from round  when , a new round starts each time that p and r are updated in Lines 18 and 19. Thus, each stage is composed by rounds  when 
 respectively, and when p becomes smaller or equal than 
 
, a new stage begins and p is reset to 1 in Line 9.

We show now that, in any given round r, a constant fraction of receivers in 
 is selected. Thus, a constant fraction of receivers is selected in each stage, which yields  stages, each of 
 
 rounds, proving the claimed running time.

Fix any given round r when 
. We focus then on showing that a constant fraction of receivers in 
 is selected, knowing that, for each receiver 
, if  it is 
 
, and if  it is 
 
.

We showed in the proof of Theorem 1 that, for any , if a subset  is chosen including each  with a probability 
, for i such that 
 
 
, the probability of selecting w with S is a positive constant q. The specific bound on q is dependent on whether 
 
 or not, but still a constant for both cases. This bound applies to round r for any receiver 
 and S a subset of transmitters, each chosen with probability 
. Thus, the expected number of receivers selected by S from 
 would be 
, that is, a constant fraction q. Let this expectation be denoted as 
, where each  indicates whether .

Then, to complete the proof, now we show that the expected number of receivers selected from 
 by the set of transmitters defined by the array 
 after completing the loop in Lines 12-15 (which indeed is the actual number because no random choice is made in the last iteration) is at least 
. Indeed, we prove the stronger claim that 
 for each iteration of the loop, which we show by induction on the iteration index . For clarity, we denote 
 as 
. For , we have that
 and

Given that 
, the claim is true. Now, assuming that the claim is true for iteration , we want to prove that 
 for iteration i, where

By inductive hypothesis we know that(3)

Call 
 the expected number of receivers selected after we fix the value of 
 in Line 15. That is,

Replacing in Equation (3), we have that(4)

We also have that(5)

Combining inequalities (5) and (4), the claim follows. □

8. Simulations
In this section we present our simulations, developed to evaluate the impact of W-TIM on Layer Dissemination. For that purpose, we run simulations for a real-world deployment area, comparing the performance of our randomized protocol with previous protocols designed for the Radio Network, SINR, and Rayleigh-fading interference models. The details follow.

8.1. Network topology
We used as a model of a network deployment area the floor plan of the Seidenberg School of Computer Science and Information Systems at Pace University.7 We consider nodes installed in the intersections of each square of four ceiling panels Fig. 1a shows a grid laid over the floor plan, where the intersection of two lines indicates the placement of a network node. We normalize distance between nodes as distance in cell grids. To evaluate Layer Dissemination, we focused on two consecutive layers of this network going across various offices. Fig. 1b shows such layers in color, on the red line the transmitters are placed, while the blue line is occupied by the receivers. For simplicity, to evaluate scalability, i.e., the performance as n grows, instead of restricting to the actual number of offices located under those lines (which would result in a constant number of nodes), we replicated the same office as many times as needed to reach the desired number of nodes n.

Fig. 1
Download : Download high-res image (1MB)
Download : Download full-size image
Fig. 1. Illustration of network deployment. (For interpretation of the colors in the figure(s), the reader is referred to the web version of this article.)

The walls of these offices have a metallic structure. Hence, each office behaves as a Faraday cage blocking radio transmissions (specially millimeter wave). Consequently, most of the radio waves propagate through doors (which are not metallic). We fixed the radio transmission power to be large enough to reach five grid cells, so that transmissions from layer to layer are possible. Given the offices dimensions, transmitters within an office are connected to all receivers. Hence, all transmitters interfere at the receivers (as in the Radio Network model). Thus, interference within such range is taken into account setting the corresponding entry of the interference matrix to 1. The resulting network topology in each office can be seen in Fig. 1c.

On the other hand, due to the above-mentioned Faraday cage effect, the interference between offices is assumed to come from the signal going through the hallway from one office to another. (See Fig. 1d.) That is, it corresponds to a distance that is longer than the straight line between nodes. To make this effect significant in our simulations, the interference was computed as a pessimistic function inversely proportional to the distance. The distance from a node in one office to nodes in each of the other offices is approximated as 3 grid cells for the origin office, plus 10 grid cells for each additional office of distance (which is approximately the distance in grid cells from the rightmost node in one office to the leftmost node in the next office when the signal goes through the hallways, as seen in Fig. 1a and Fig. 1b). Then, the entry of the interference matrix corresponding to the interference of a transmitter v on links incoming to a receiver w in another office was set to . (Transmitters and receivers were labeled consecutively from left to right in the grid. Hence, the term  is the distance in cells between nodes v and w, and dividing by 3 we obtain the number of offices. The multiplicative factor of 2 and the square root were setup experimentally to make the interference significant.) We leave the experimental evaluation of other distance functions and metrics for future work.

8.2. Design and methods
Using the network topology and the resulting interference matrixdescribed above as input, and for , we simulated our randomized protocol in Algorithm 1, which requires knowledge of only global variables n, c, and 
 
. (Refer to Algorithm 1 for further details.) For comparison, we also simulated protocols designed for the Radio Network, SINR, and Rayleigh-fading models of interference on the same inputs, but considering a transmission successful under the W-TIM Framework constraints, as defined in Section 4. That is, the Radio Network protocol is parameterized only using the communication links, and the SINR and Rayleigh-fading protocols are parameterized on Euclidean distances, but when these protocols are executed a message is assumed to be delivered only if the successful transmission conditions defined in Section 4 are met.

All the protocols evaluated provide theoretical guarantees on the number of rounds of communication needed to complete Broadcast, but running them for that fixed time would not provide any performance comparison. Instead, for each of the protocols we measured the number of rounds of communication passed until all receivers have received the message.

8.3. Protocols evaluated
For the Radio Network model of interference, we simulated the classic Decay [16] protocol, for SINR we simulated the Broadcast protocol in Algorithm 1 in [24] (most of the work for SINR is oriented to link scheduling, which cannot be accurately mapped to Layer Dissemination or Broadcast), and for the Rayleigh-fading model we simulated Algorithm 2 in [25]. The protocol in [16] requires knowledge of global variable Δ, which is the maximum in-degree in the network, whereas the protocol in [24] requires knowledge of global variables  and  as defined in that paper.

In the Rayleigh-fading model the strength of the signal received by a receiver is an exponentially distributed random variable, with mean equal to the strength of the signal received in the SINR model. Then, the transmission range is defined as the maximum distance between transmitter and receiver so that a signal of strength equal to the mean is able to overcome the background noise. We assume this transmission range to be 5 grid cells as above so that the connectivity graph is the same for all models of interference. The protocol in [25] requires to precompute an inductive coloring on the nodes that hold a message to disseminate. Then, rounds of communication are mapped to each color so that nodes attempting to transmit in each round have all the same color. The Layer Dissemination problem corresponds to one of these rounds of communication in multi-hop networks. That is, the transmitters of one layer (one color) are propagating the message to the receivers connecting to them. Hence, for our simulation, we assign all transmitters the same color.

In Algorithm 3, Algorithm 4, Algorithm 5 we specify how we adapted the Radio Network, SINR, and Rayleigh-fading protocols respectively for our simulations. The original Rayleigh-fading model includes constants σ and λ that relate to each other but not to network size. Adopting the value  as used in simulations in [25] (cf. Table I), and using the relation between σ and λ (cf. Claim 1 in [25] and Lemma 1 in manuscript cited therein), it yields 
. The results of the simulations, which are the average over 10 executions of the simulator, are plotted in Fig. 2 and analyzed in the following section.

Algorithm 3
Download : Download high-res image (55KB)
Download : Download full-size image
Algorithm 3. Decay protocol [16] for each transmitter v ∈ V. Δ is the maximum in-degree of the network.

Algorithm 4
Download : Download high-res image (34KB)
Download : Download full-size image
Algorithm 4. Algorithm 1 in [24] for each transmitter v ∈ V. density and dilution are parameters of the network as defined in [24].

Algorithm 5
Download : Download high-res image (51KB)
Download : Download full-size image
Algorithm 5. Algorithm 2 in [25] for each transmitter v ∈ V. cv = 0 is the color of transmitter v, ρ = 0, λ = 0.66, and σ = 30.

Fig. 2
Download : Download high-res image (136KB)
Download : Download full-size image
Fig. 2. Simulation results.

8.4. Discussion of results
As seen in the plot of Fig. 2, our experimental results show a striking improvement in performance of our protocol with respect to Algorithm 3, Algorithm 4, Algorithm 5. Indeed, the running times of Algorithm 3, Algorithm 4 grow exponentially with n (the scale of the y axis is logarithmic), and Algorithm 5 is even slower (we were unable to obtain results for this algorithm within realistic time period for values of ). On the other hand, our algorithm's running time grows exponentially slower. (Moreover, the plot shows also that the theoretical upper bound proved in Theorem 2 is worse than the experimental performance.) This difference in performance among protocols could be due to an algorithmic improvement. However, at their core, all three algorithms are based on iteratively choosing to transmit with some probability. Thus, we conclude that the improvement is due to a careful choice of such transmission probability, making it a function of the network characteristic derived from the interference measured experimentally. This conclusion should not come as a surprise, given that Algorithm 3 was designed neglecting interference from non-neighboring nodes, whereas Algorithm 4, Algorithm 5 do not take advantage of low interference from nodes that, although located at a short distance, are blocked by obstacles.

The reason why the W-TIM Framework is more accurate than interference based on Euclidean distance can be seen also in Fig. 1d. For instance, it can be seen that transmitters that are close to a wall in one office have low interference on links that are close to other side of that wall in the contiguous office, even though they are separated by only one grid-cell in Euclidean distance. However, in the SINR and Rayleigh-fading models the interference from other offices is based only on Euclidean distance, whereas in the Radio Network model transmitters in different offices are assumed not to interfere. That is, protocols for those models were designed assuming that the interference is either larger (SINR and Rayleigh-fading) or smaller (Radio Network) than the actual interference, because the effect of these walls is either neglected (SINR and Rayleigh-fading) or overestimated (Radio Network).

9. Discussion
Motivated by the problem of disseminating information between consecutive layers of a broadcast tree, in this work we studied the Layer Dissemination problem under the W-TIM framework. W-TIM generalizes the Topological Interference Management (TIM) problem as defined in [4], [5], [6] to make it applicable to multiple communication problems, and to take into account physical constraints that appear in real-world wireless ad-hoc networks.

In W-TIM, conflicts are given as a real-valued matrix instead of a Boolean matrix as in TIM. This allows to aggregate interference, and define a threshold above which a message from a source may still be received by a destination, even if another source connected to the same destination is transmitting. Also, interference from all sources, even if they are not connected to a destination, is considered.

We did not restrict W-TIM to a given communication problem so that the framework can be applied to different cases. If the problem to solve is Link Scheduling, then two links outgoing the same source are in conflict in the interference matrix, but for the Wake-up problem they are not. Thus, we include all communication links available rather than a subset that needs to be realized for a specific problem.

As the most general case, we keep the conflict matrix of links on links as in TIM, but we allow it to collapse to a matrix of nodes on links when it is irrelevant which is the particular outgoing link from a transmitter. E.g., when the transmission power used by any given node is the same independently of which neighbor is trying to reach.

The W-TIM framework comprises also other models of interference studied before that neglect some physical constraints. For instance, in the Radio Network and Multiple-access Channel models [7], [8], [9] interference from non-neighboring nodes is neglected, and in the Signal to Interference-plus-Noise Ratio (SINR) model [10], [11], [12], [13] other constraints, such as obstacles, are not taken into account.

To conduct our study, we followed up on [14], [15] introducing the concept of Selective-with-Interference Families. That is, we modeled dissemination in bipartite graphs as a combinatorial problem, but taking into account the specific conditions to achieve a successful transmission under W-TIM.

Our approach combines an engineering solution with theoretical guarantees. That is, we provide a method to characterize the network with a global measure of interference based on measurements in the specific deployment area. Our protocols distributedly produce an ad-hoc transmissions schedule for dissemination. The randomized protocol only requires information on the network characterization (which could be hardwired), whereas the deterministic protocol requires full information of interference and it is computationally intensive. Similar approaches have been explored in practice, e.g. Conflict Maps (CMAP) [26], where nodes probe the network to build a map of conflicting transmissions.

An interesting question, that we leave for future work, is whether our deterministic algorithm could yield a polynomial-time method to construct a Selective-with-Interference Family of similar size.