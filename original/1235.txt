Abstract
In this paper we study various notions of bi-immunity over alphabets with b≥2 elements and recursive transformations between sequences on different alphabets which preserve them. Furthermore, we extend the study from sequences bounded by a constant to sequences over the alphabet of all natural numbers, which may or may not be bounded by a recursive function, and relate them to the Turing degrees in which they can occur.

Previous articleNext article
Keywords
Randomness
Immune sequence
Bi-immune sequence
Immune function
Bi-immune function
Martingale

1. Introduction
Randomness is an important resource in science, statistics, cryptography, gambling, medicine, art and politics. For a long time pseudo-random number generators (PRNGs) – computer algorithms designed to simulate randomness – have been the main, if not the only, sources of randomness. As early as 1951 von Neumann noted [52] that: “Anyone who attempts to generate random numbers by deterministic means is, of course, living in a state of sin.” This statement was not meant to stop people from using PRNGs, but to caution against mistakenly believing that PRNGs produce “true” randomness. With the development of algorithmic information theory [21], [39], [23] classes of different quality of random strings/sequences have been studied and von Neumann intuition was rigorously proved: mathematically there is no “true” random string/sequence [15].

In many domains requiring random numbers it is crucial to have high quality randomness. This is obvious in cryptography, where good randomness is vital to the security of data and communication, but is equally true in other areas such as medicine, where decisions of consequence may be made based on scientific and statistical studies relying essentially on randomness. Problems with the poor quality of randomness of various PRNGs are well known and can have serious consequences: a classical example is the discovery in 2012 of a weakness in a worldwide-used encryption system which was traced to a PRNG [38].

These practical requirements have driven a recent surge of interest in developing random number generators “better than PRNGs”, in particular, quantum random number generators (QRNGs) [17], [28]. QRNGs are generally considered to be, by their very nature, “better” than classical RNGs and “should excel” precisely on properties of randomness where algorithmic PRNGs obviously fail: incomputability and inherent unpredictability. To date only one class of QRNGs has been proved to satisfy these desiderata by Abbott, Calude, Svozil [4], [5], [37]. This type of QRNGs is based on a located form [1], [3], [6], [7], [8] of the Kochen-Specker Theorem [35], a result true only in Hilbert spaces of dimension at least three. These QRNGs – which locate and repeatedly measure a value-indefinite quantum observable – produce more than incomputable sequences (over alphabets with at least three letters), more precisely, bi-immune sequences,1 that is, sequences for which no algorithm can compute more than finitely many exact values. As almost all applications need quantum random binary strings, there is a stringent demand of randomness-preserving algorithms transforming non-binary strings into binary ones. This is the context motivating the following questions studied in this paper: (a) which sequences on non-binary alphabets are immune or bi-immune?, (b) how can one algorithmically transform a bi-immune sequence over a non-binary alphabet into a binary bi-immune sequence?

Historically, the notion of immunity grew out of attempts to solve Post's problem [43]; it has since been studied in other areas such as algorithmic randomness [31], [22], [9], the theory of minimal index sets [50] as well as the theory of numberings and 
-dense sets [12]. Traditionally, algorithmic information theory was presented for binary strings and sequences [23], [41]. In Calude [15] the theory was developed in the general case of an alphabet with at least two elements, so the invariance under the change of the size of the alphabet became important. Early results go back to Borel normality, which is not invariant under the change of the base; in contrast, Martin-Löf randomness is invariant Calude and Jürgensen [16] and Staiger [49]. In [19] the relations between four classes of real numbers, Liouville numbers, computable reals, Borel absolutely-normal numbers and Martin-Löf random reals are studied.

In this context we investigate various generalised notions of (bi-)immunity for sequences over finite and infinite alphabets, in particular sequences that do not grow too quickly in the sense that a single recursive function bounds each term of such a sequence. The following questions will be studied: (c) how does the Turing degree of a (bi-)immune sequence bounded by a recursive function h (or recursively bounded (bi-)immune sequence) depend on h?, (d) which oracles are powerful enough to compute recursively-bounded (bi-)immune sequences?, (e) what is the computational power of recursively-bounded (bi-)immune sequences compared to that of the Halting Problem?, (f) are the Turing degrees of recursive-bounded bi-immune sequences closed upwards?

2. Notation
For background on algorithmic randomness, we refer the reader to books of Schnorr, Calude, Downey and Hirschfeldt, Nies [47], [15], [23], [41]. The set of positive integers will be denoted by ;  will be denoted by 
. Consider the alphabet 
, where  is an integer; the elements of 
 are to be considered the digits used in natural positional representations of numbers in the interval B at base b where B is the unit interval of real numbers. By 
⁎
 and 
 we denote the sets of (finite) strings and (infinite) sequences over the alphabet 
. Strings will be denoted by ; the length of the string 
, 
, is denoted by 
 (the subscript b will be omitted if it is clear from the context); 
 is the set of all strings of length m. Sequences will be denoted by 
; the prefix of length m of w is 
. Sequences can be also viewed as 
-valued functions defined on . Further, we consider a generalised kind of sequence called an h-bounded sequence for some recursive function h; for such a sequence 
, one has 
 for each  ( is excluded for notational convenience). An h-bounded function is any (possibly partial) function g satisfying  for each . We denote by ⪯ the prefix relation (between two strings or a string and a sequence). The complement of 
 will be denoted by 
 
, that is, 
 
.

Any unexplained recursion-theoretic notation can be found in the textbooks of Rogers, Soare and Odifreddi [44], [48], [42]. We assume knowledge of elementary computability theory over different size alphabets [15].

For any string 
⁎
, the class of b-ary infinite sequences extending y is denoted by 
; as before, the subscript b will be omitted if it is clear from the context. Extending this notation, if W is any set of strings belonging to 
⁎
, then 
 where ⋅ is the concatenation of strings with other strings or sequences. Given alphabets 
 and 
, a morphism (or homomorphism) of 
 into 
 is a mapping 
⁎
⁎
 such that  for all 
⁎
. A morphism μ of 
⁎
 into 
⁎
 is alphabetic if, for every 
,  is either a letter of 
 or the empty word, and it is non-erasing if no 
, is the empty word. We extend a morphism 
⁎
⁎
 as follows in a natural way to sequences 
⁎
: 
⁎
.

The value of a string 
⁎
 is the real number 
. The value of the sequence 
 is the real number 
. Clearly, 
 as .

If 
 is irrational, then 
 implies 
. Some rational numbers have two different representations. Since our interest is in incomputable reals and rational numbers are far from being incomputable, this issue will not cause a problem.

Let  denote the class of all partial-recursive functions of one argument over 
, let 
 denote the class of all partial-functions of two arguments over 
, and let  denote the class of all recursive functions of one argument over 
.

Any function 
 is called a numbering of partial-recursive functions. Set 
 and 
. A numbering 
 is said to be an acceptable numbering or Gödel numbering of all partial-recursive functions if 
 and for every numbering 
, there is a  such that 
 for all 
 (see [44]). Throughout this paper, φ denotes a fixed acceptable numbering and 
 denotes the partial-function computed by the e-th program in the numbering φ. Φ denotes a fixed Blum complexity measure [13] for the numbering φ. For every e, 
 denotes the domain of 
.

Let 
; if 
 is defined then we write 
 and also say that 
 converges. Otherwise, 
 is said to diverge (abbr. 
).

A martingale is a function 
⁎
 that satisfies for every 
⁎
 the equality 
. For a martingale mg and a sequence 
, the martingale mg succeeds on w if 
.

Let 
 be a canonical indexing of all finite sets. For any two sets U and V, U is truth-table reducible or tt-reducible to V, denoted 
, if for some recursive functions f and g,  for all i, where a is the canonical index of 
. U is bounded truth-table reducible or btt-reducible to V, denoted 
, if 
 and there is some number m such that 
 for all i (where f is as in the definition of tt-reducibility). In the latter definitions, the role of f is to select the elements to be queried, while g evaluates the value of the truth-table condition. U is tt-equivalent (resp. btt-equivalent) to V if 
 (resp. 
) and 
 (resp. 
). A set U has PA degree (or is PA-complete) if U computes a -valued diagonally non-recursive (d.n.r.) function, that is, a -valued function f such that 
 for any e such that 
. Equivalently, a set U has PA degree if one can compute relative to oracle U a total extension of any partial-recursive -valued function, that is, for any -valued function ψ, there is a total function 
 such that  whenever ; moreover, g may be chosen to be -valued.

An r.e. open set is an open set generated by an r.e. set of binary strings. Regarding 
 as a subset of 
⁎
, one has an enumeration 
 of all r.e. open sets. A uniformly r.e. sequence 
 of open sets is given by a recursive function f such that 
 for each m. A Martin-Löf test is a uniformly r.e. sequence 
 of open sets such that 
; here λ denotes the uniform measure, that is, for every 
, 
. A sequence 
 fails the test if 
; otherwise w passes the test. w is Martin-Löf random if w passes each Martin-Löf test [40].

Martin-Löf randomness may be defined analogously for non-binary sequences over a finite alphabet; however, this work will consider Martin-Löf randomness only for binary sequences. Thus, throughout this paper, by “Martin-Löf random sequence” will always be meant “Martin-Löf random binary sequence”.

3. Degrees of bi-immunity over different size finite alphabets
We recall that an infinite set 
 is immune (in the sense of recursion theory) if it contains no infinite recursively enumerable (r.e.) subset; U is bi-immune set if both U and 
 
 are immune [44], [42]. Bi-immune sets are highly non-recursive in the sense that no partial-recursive function with an infinite domain can be extended to the characteristic function of such a set. The notion of algorithmic randomness is also closely related to that of immunity: every Martin-Löf random sequence w, for example, is effectively bi-immune in the sense that there is a recursive function that computes for every e such that 
 is contained in 
 (resp. 
) an upper bound on the size of 
. Even stronger than the notion of immunity is that of hyperimmunity: an infinite set U is hyperimmune if it is infinite and there is no recursive function f such that  for all n. In what follows, we generalise the notions of immunity and bi-immunity to sequences. One may take a cue from how Martin-Löf randomness for binary sequences is adapted to sequences over an arbitrary base  by identifying a sequence 
 with the real number 
; these definitions of Martin-Löf randomness and asymptotic Kolmogorov complexity (constructive dimension) are base-invariant [16], [49]. Unfortunately, as we will show later in Proposition 21, Proposition 23, there are reals that are bi-immune in one base but not in another base; thus the concept of bi-immunity is – like the concepts of Borel normality and disjunctiveness (see [20], [45], [46], [34]) – base-dependent if one directly adapts the definition of bi-immune sets to sequences.

Further, motivated by non-binary quantum random number generators [1], [7] we study which recursive transformations between sequences on different alphabets preserve bi-immunity. A specific case of interest is the ternary and binary sequences: which recursive transformations between ternary and binary sequences preserve bi-immunity?

In this paper we introduce and study a formalisation of bi-immunity for sequence over an alphabet with  elements. Broadly speaking, a sequence 
 is b-graph-immune (resp. b-graph-bi-immune) if no algorithm that outputs only elements of 
 can generate infinitely many correct (resp. incorrect) values of its elements (pairs, 
).2 This condition can be formalised directly by the following definition (given in [11]):

Definition 1

A sequence 
 is b-graph-immune (resp. b-graph-bi-immune) if there exists no partial-recursive function φ from  to 
 having an infinite domain  with the property that 
 (resp. 
) for all .

Note that b-graph-bi-immunity does not only imply that the complement is immune, but also that the graph itself is immune, see Proposition 4 below, the reason we have called it graph-bi-immunity. Clearly, graph-bi-immunity is a stronger form of incomputability.
Remark 2

If 
 does not contain a certain letter 
 then the recursive function  witnesses that w cannot be b-graph-bi-immune.

In case of b-graph-immunity the situation is different. Therefore, we introduce a more restrictive type of b-graph-immunity, known as strong b-graph-immunity:

Definition 3

A sequence 
 is strongly b-graph-immune if it is b-graph-immune and for every  there are infinitely many i with 
.

For the next proposition, we define 
. This proposition provides various characterisations for the notion of b-graph-immune and b-graph-bi-immune sequences; the reader should note that we will generalise these notions in Section 7 to the case where the bound b is not a constant but where it is either absent (alphabet is 
) or where the size of the alphabet depends on the index of the item in the sequence. Also there a characterisation similar to the next proposition is possible.

Proposition 4

The following three items characterise b-graph-immunity, strong b-graph-immunity and b-graph-bi-immunity, respectively.

(a)
w is b-graph-immune if one of the following equivalent characterisations holds:

1.
for all 
, 
 is immune or finite;

2.
b-graph  is immune.

(b)
w is strongly b-graph-immune if and only if for all 
, 
 is immune.

(c)
w is b-graph-bi-immune if one of the following equivalent characterisations holds:

1.
for all 
, 
 is bi-immune;

2.
for all non-empty 
, 
 is immune;

3.
for all non-empty 
, 
 is bi-immune;

4.
b-graph  is bi-immune;

5.
b-graph  is co-immune.

Proof

(a) Assume that w is not b-graph-immune. Then there is a partial-recursive function φ with infinite domain such that 
 on the domain of φ; one can now select a value 
 such that φ takes a infinitely often and let ψ be the restriction of φ to the set of inputs which are mapped by φ to a. It follows that the domain of ψ is an infinite r.e. subset of 
. Thus Item 1 is not satisfied. Now if Item 1 is not satisfied, then some 
 is neither immune nor finite, hence 
 has an infinite recursive subset R. Now  is an infinite recursive subset of b-graph .

Finally, if b-graph  is not immune, as it is infinite, it has an infinite recursive subset R. Then  if and only if  defines a partial-recursive function witnessing that w is not b-graph-immune.

(b) This statement is only an obvious variant of the definition.

(c) Let 
 be not bi-immune. If there exists an infinite recursive subset 
, then define the partial-recursive function 
 via . Otherwise, there is an infinite recursive subset 
, so define the partial-recursive function 
 via 
. In either case, φ witnesses that w is not b-graph-bi-immune.

If, for all 
, the set 
 is bi-immune then its complement 
 and all its infinite subsets 
, are immune, so Item 1 implies Item 2.

If all sets 
, are immune, so are their complements. Hence Item 2 implies Item 3.

Let b-graph  be not bi-immune. Then there is an infinite recursive subset 
 such that  or . Without loss of generality, let 
. Consider 
. Then, in case  the set 
 is an infinite recursive subset of 
, and in case  the set 
 is disjoint to 
. Thus, Item 3 implies Item 4.

Item 4 trivially implies Item 5.

Finally, let w be not b-graph-bi-immune and φ be a partial-recursive function with infinite domain  such that 
 for . Then  is an infinite r.e. subset disjoint to b-graph . □

Remark 5

In the binary case (that is, ) Proposition 4 shows that 2-graph-immunity is equivalent with the property that 
 and its complement 
 are immune, and hence bi-immune, in the sense of recursion theory, i.e. they are infinite and do not contain infinite recursively enumerable (equivalently, recursive) sets [44]. Furthermore, we obtain that in the binary case all variants of immunity – 2-graph-bi-immunity, 2-graph-immunity and strong 2-graph-immunity – coincide. This does not hold for larger alphabets.

Example 6

An immune sequence 
 considered as an element of 
 is 3-graph-immune but not 3-graph-bi-immune since 
. In fact, every b-graph-bi-immune 
 as an element of 
 is -graph-immune but neither strongly -graph-immune nor -graph-bi-immune. □

It follows from Proposition 4 that every b-graph-bi-immune sequence is strongly b-graph-immune. The converse does not hold for  as shown by the following Example 7.

Example 7

Let 
 be an immune set whose complement (with respect to ) 
 is recursively enumerable, let 
 be an injective recursive mapping, and let  be a bi-immune set. Set 
 and 
. Then 
 and 
 are immune.

Define a sequence 
 via the preimages 
. Then, clearly, every preimage 
 is immune, but as a recursively enumerable set the union 
 is not immune.

Observe that the other combinations 
 and 
 are immune. Assume e.g. 
 to be recursive. Then 
 as a recursively enumerable subset of 
 is finite. Thus 
 is recursive too, hence also finite. □

Remark 8

One might also ask how b-graph-bi-immunity relates to other notions. Clearly, b-graph-bi-immunity is implied by but not equivalent to b-randomness. The study of b-randomness was motivated by the idea that the sequence should be as near as possible to the typical outcome of a sequence drawn by a b-sided coin; such a sequence is formally defined that there are no structures on which an effective martingale can bet successfully [15].

For example, b-random sequences contain every finite string infinitely often, thus they contain squares, that is, sequences of the form uu infinitely often. For the binary alphabet, this is shared with all sequences, as even every finite binary word of length 4 or more contains at least one of the following squares as a subword: 00, 11, 0101, 1010. In contrast to this, Morse as well as Thue [51] constructed ternary sequences which do not contain any single square. Subsequent research [26], [29], [33] asked questions like how many squares a prefix of length n of a sequence can contain and Jonoska, Manea and Seki [33] conjectured that if a binary word contains k 1s and  0s with , then there are at most  distinct squares. Here two squares are distinct if they are different as strings. The value  does not satisfy this conjecture as the string 
 has  squares while .

One might ask how the number of squares in the prefixes of length n of a b-graph-bi-immune sequence grows with n? The upper bound can be expected to be similar to the case of arbitrary words, as one can take a sequence which has about  squares in a prefix and then in a very thin way adjust the bits to make it 2-graph-bi-immune. So one might be more interested in lower bounds which are taken by some sequence instead of all sequences. The following example shows that for , one can make a sequence which is 6-graph-bi-immune.

Example 9

There is a 6-graph-bi-immune sequence without any square as a subword. This stands in contrast to random sequences in which the number of squares in prefixes of length n cannot be bounded by any constant.

To construct a square-free 6-graph-bi-immune sequence w, one first constructs, using the undecidable Halting Problem as an oracle, a sequence 
 of natural numbers such that 
 and 
 and whenever 
 has an infinite domain and is -valued then 
. Next one defines on each interval 
 that w is chosen as follows:

1.
 is a square-free word;

2.
if k is even then the digits  are used else the digits  are used;

3.
if  and 
 then 
;

4.
if  and 
 then 
.

Next consider a square uu of length 2h and on positions . Choose k such that the interval 
 contains the upper end  of the positions of the square uu, that is, the inequalities 
 hold. As for all , 
 and neighbouring intervals use the disjoint sets  and  of digits,  and  must either be in the same interval or at least two intervals apart. Note that the chain of inequalities 
 follows from the choice of the sequence 
; thus these inequalities postulate that 
. It follows that 
, as it cannot be in the neighbouring 
. As both halves of uu use the same digits, 
. By construction, the sequence w is square-free within the interval 
 and therefore the square uu cannot be a subword of w. Thus it follows that the full sequence w is square-free.  □
4. Base-invariance
In this section, we study the question of whether (bi-)immunity for sequences over a finite alphabet is preserved over different bases. The main insight is that while b-graph-immunity is indeed preserved over bases of the form 
, where , the same does not hold for b-graph-(bi-)immunity and thus for strong b-graph-immunity.

The simplest computable transformation of a sequence 
 into a binary sequence 
 is to delete all occurrences of 2 in w; we call this transformation 
. The next lemma shows that 
 does not preserve graph-bi-immunity.

Lemma 10

(1)
There exists a sequence 
 which is not 3-graph-bi-immune such that 
 is 2-graph-bi-immune.

(2)
There exists a 3-graph-bi-immune sequence 
 such that 
 is not 2-graph-bi-immune.3

Proof

For (1) we take a 2-graph-bi-immune sequence 
 and define the ternary sequence w by 
. For (2) we consider the family of all infinite r.e. subsets 
 of 
 and choose from 
 the first three elements 
 larger than4 
 and let 
. Then every 
 is bi-immune as each of them contains (and does not contain) at least one element from every infinite r.e. subset. Now define w as follows:
  Then the image under the mapping 
 is 
. □

Remark 11

Lemma 10 (2) was communicated in [10] with a different proof.

Next we start with the preservation of (strongly) b-graph-(bi)-immune sequences under morphisms. We also provide sufficient conditions that guarantee a morphism 
⁎
 preserves (strong) b-graph-(bi-)immunity.

We start with a property of morphisms of a special kind. Let 
⁎
 be the projection on the ith letter, that is, 
 for . We call a morphism 
 stable if for all  and for every 
 there is an 
 such that 
, that is, the letters at a fixed position i in the words 
, are just a permutation of 
.

Lemma 12

Let  and let 
 be a stable morphism. Then  is b-graph-immune (b-graph-bi-immune, respectively) if and only if w is b-graph-immune (b-graph-bi-immune, respectively).

Proof

Assume that 
, contains an infinite recursive subset  and consider 
. Then 
 and  is also infinite and recursive.

Conversely, let  be an infinite recursive subset of 
, 
. Then there is a  such that 
 is also infinite and recursive. Let 
. Then 
 is an infinite recursive subset of 
. □

Remark 13

Lemma 12 does not hold for arbitrary morphisms μ even if all letters are mapped to words of the same length. Consider e.g. 
⁎
 where .

Lemma 14

Let 
 and let 
 be b-graph-bi-immune. If μ is a non-erasing alphabetic morphism of 
 onto 
 then 
 is 
-graph-bi-immune.

Proof

We have 
 and 
 for 
. Consider a nonempty subset 
. Then 
 and 
. If 
 is b-graph-bi-immune, according to Proposition 4, every set 
 is immune, and therefore  is 
-graph-bi-immune. □

Lemma 14 does not hold for (strongly) b-graph-immune sequences.

Example 15

We refer to the immune subsets 
 defined in Example 7 where 
 is recursively enumerable. Define 
 via 
, and . Then w is strongly 3-graph-immune but  is not 2-graph-immune. □

The preimages of alphabetic morphisms preserve b-graph-immunity of sequences but not b-graph-bi-immunity even if we require that every letter occurs infinitely often in the preimage.

Lemma 16

Let μ be a non-erasing alphabetic morphism of 
 onto 
. If 
 is 
-graph-immune then 
 is also b-graph-immune.

Proof

Observe that 
. Consequently, if 
 is immune or finite then its subset 
 is also immune or finite. □

Example 17

To show that Lemma 16 cannot be extended to b-graph-bi-immunity we refer to Example 7 and the sequence w defined there, and we use the morphism 
 defined by  and . Since 
 and 
 are both immune, 
 is 2-graph-bi-immune, but, as shown in Example 7 the sequence 
 is not 3-graph-bi-immune. □

As a special case essential in the design of a quantum random generator (cf. [1], [7], [8]), from Lemma 14 we obtain the following:

Corollary 18

Consider  and a non-erasing alphabetic morphism μ of 
 onto 
. Then for every b-graph-bi-immune sequence 
, the sequence 
 is -graph-bi-immune.

Next we study the preservation of b-(bi-)immunity under base change, that is, we consider sequences 
 and 
 which are expansions of the same real number 
.

Proposition 19

Let 
 be the b-ary expansion of the real . If 
, is the 
-ary expansion of r and for some 
 the subset 
 is infinite and not immune then there is an 
 such that 
 is infinite and not immune.

Proof

Let 
 be infinite but not immune, and let  be an infinite and recursive set such that 
. Since w is the b-ary expansion of r there is a homomorphism 
 satisfying . Let 
. Then 
, and consequently 
 is infinite and not immune. □

Corollary 20

Let 
 be b-graph-immune and the b-ary expansion of the real . If 
, is the 
-ary expansion of r then v is 
-graph-immune.

Corollary 20 cannot be extended to b-graph-bi-immunity.

Proposition 21

For every base b there is a sequence which is b-graph-bi-immune but only 
-graph-immune in base 
.

Proof

Note that when w is strongly b-graph-bi-immune, so is also v with 
. This follows from Lemma 12 since the morphism 
 with  is stable.

However, if we consider the real r whose b-expansion is given by v then its 
-expansion is given by 
 which has only multiples of  as digits, thus this sequence is not strongly 
-graph-immune. □

One might also have a b-graph-bi-immune x such that the corresponding w is strongly 
-graph-immune but not 
-graph-bi-immune.

Example 22

Let 
 be b-graph-bi-immune. Define 
 by
  Then according to Proposition 4, the sequence 
 is also 2-graph-bi-immune, e.g. 
. Let 
 such that 
.

By construction w contains at even positions only the letters 1 and 2 and at odd positions only the letters 0 and 3. Thus Proposition 19 and Proposition 4 show that w is strongly 4-graph-immune but not 4-graph-bi-immune. □

The following proposition shows that another natural algorithmic transformation fails to preserve graph-bi-immunity.

Proposition 23

There exists a real whose base 8-expansion is strongly 8-graph-bi-immune while its base 4 expansion is not 4-graph-bi-immune.

Proof

Let c denote the mirror image of the binary complement of b, so possible pairs bc in the system of base 8 are  and from now on, bc is always one pair of these octal digits. Next we define the stable morphism 
 via  and choose an 8-bi-immune sequence v. According to Lemma 12 the image  is also 8-bi-immune.

However, the base 4 counterpart 
 of w translates every block 
 into three quaternary digits where the middle digit is either 1 or 2 as this is binary  and the pairs bc are such selected that the end digit of b in binary differs from the first digit of c in binary. Thus 
 contains the infinite recursive subset , and according to Proposition 4 the sequence y is not 4-bi-immune. □

5. Blind martingales
In this section we use blind martingales to study recursive transformations preserving bi-immunity.

A martingale is called blind if its bet on 
⁎
 only depends on the length  and not on the actual history coded in u; furthermore, the share of the capital betted on a digit 
 is also blindly computed, but the scaling in dependence of the available capital can, of course, be done.

We start with the definition of the blind martingale:

Definition 24

A martingale over 
 is referred to as blind if there is a family 
, such that, for 
⁎
 and 
 it holds 
 
  A blind martingale is recursive if the mapping 
 with 
 is recursive.

We note that 
 is equivalent to abstaining from betting.
Proposition 25

(a)
A sequence 
 is b-graph-bi-immune if and only if there is no blind recursive martingale succeeding on w.

(b)
A sequence 
 is b-graph-immune if and only if there is no blind recursive martingale succeeding on w with 
 for infinitely many 
.

Proof

(a) If w is not b-graph-bi-immune then there is a nonempty subset 
 for which 
 is infinite and not immune. Let 
 be infinite and recursive. Then the martingale
 
  succeeds on w.

Conversely, let a blind recursive martingale succeed on w. Since 
 is finite, there is an infinite recursive set 
 such that for some subset 
, for all , 
. Consequently, 
, and according to Proposition 4, w is not strongly b-graph-bi-immune.

(b) Assume w to be not b-graph-immune. Then the subset 
 can be chosen to be a singleton, and the construction is the same as in part (a).

Let a blind recursive martingale succeed on w with 
 for infinitely many 
. As in case (a) there is an infinite recursive set 
 such that for some 
 and all , 
, that is, 
. Again Proposition 4 shows that w is not b-graph-immune. □

6. Mappings preserving strong b-graph immunity
For any function , say that f preserves strong b-graph-immunity if for any strongly b-graph-immune sequence 
, the sequence v defined by 
 for all  is strongly 
-graph-immune for some 
.

Theorem 26

1.
Suppose . Then for all recursive functions , f preserves strong b-graph-immunity if and only if  is co-finite and 
 is finite for all .

2.
Suppose . Then for all recursive functions , f preserves strong b-graph-immunity if and only if  is infinite and 
 is finite for all .

Proof

Assertion 1. Let f be any recursive function. Suppose  is co-finite and 
 is finite for all . Take any strongly b-graph-immune sequence 
. By the definition of strong b-graph-immunity, 
 and every 
 occurs infinitely often in w. As  is co-finite, it follows that every 
 occurs infinitely often in the sequence 
 given by 
 for all . Thus for each 
, 
 is infinite. Since 
 is finite for all , it follows that if M were an infinite recursively enumerable subset of 
, then  would be an infinite recursively enumerable subset of 
, contradicting the immunity of 
. Therefore v is strongly b-graph-immune.

Next, suppose that  is co-infinite. We first prove the statement “ is co-infinite ⇒ f does not preserve strong b-graph-immunity” for the case , and then explain at the end how to extend the proof to the case . Consider two cases.

Case 1:
 is finite. Take any strongly b-graph-immune sequence 
. Without loss of generality, assume that  is infinite (otherwise, one may replace 1 by any 
 for which 
 is infinite in the subsequent argument; such an i exists because  is finite). Then  is an infinite recursively enumerable subset of 
, and so v is not strongly 
-graph-immune for any 
.

Case 2:
 is infinite.

Consider any bi-immune set U such that  is infinite. We will show later that such a set U exists. Let ; such an s exists due to the bi-immunity of U. Now define a sequence 
 as follows. For all ,
  Let v be the sequence defined by 
 for all . Then by construction, 
; the latter set being recursively enumerable (possibly even finite), it follows that v cannot be a strongly 
-graph-immune sequence for any 
. On the other hand, w is a strongly 3-graph-immune sequence because:

•
, which is infinite due to  being infinite by assumption, and 
⁎
. Since  is immune, 
 must also be immune.

•
 is an infinite subset of U and so it is immune.

•
 is an infinite subset of ; otherwise, 
⁎
, which would contradict the immunity of U. Therefore, since  is immune, 
 is also immune.

It remains to show that a set U as chosen above exists. Let 
 be a one-one enumeration of all infinite recursively enumerable sets. For all , define U and pairs 
 in stages as follows.
•
 is any pair of distinct elements belonging to 
 for the least j such that 
 and 
 are different from any 
 or 
 with 
, and 
 or 
. Put 
 into U.

•
 is any pair of distinct elements belonging to 
 for the least j such that 
 and 
 are different from any 
 or 
 with 
, and 
 and 
. Such 
 and 
 exist because the infinitude and coinfinitude of  together imply that there are infinitely many infinite recursively enumerable sets that infinitely intersect both  and . Put 
 into U.

By construction, every infinite recursively enumerable set 
 intersects both U and . Thus U is bi-immune. Furthermore,  intersects  infinitely often. Consequently,  is infinite, as required.
To finish this part of the proof, we explain how to convert the strongly 3-graph-immune sequence w into a strongly b-graph-immune one 
 for any . In the definition of w, replace the last condition “
 if ” by “
 if 
”, where 
 is a partition of  ∖U into  infinite sets. For all other values of i, 
 is defined to be 
. Each 
 is an infinite subset of the immune set , and is thus immune too. Therefore 
 and 
 is immune for all . The same argument as before shows that the sequence 
 with 
 for all  cannot be strongly 
-graph-immune for any 
.

Finally, suppose there is some  such that 
 is infinite. Fix any such j. Take any bi-immune set 
. Without loss of generality, assume that 
 (otherwise, one may replace 
 by 
 in the subsequent argument). Let 
 be any partition of 
 into  infinite sets. Let 
 be the sequence for which 
 if 
 and 
 if 
. The bi-immunity of 
 implies that 
 is immune for every 
, and so w is strongly b-graph-immune. If v is the sequence given by 
 for all , then 
 is an infinite recursively enumerable subset of 
. Therefore v cannot be a strongly 
-graph-immune sequence for any 
.

Assertion 2. Suppose , and f is any recursive function such that  is infinite and 
 is finite for all . As mentioned earlier, all variants of immunity coincide over binary alphabets; thus it suffices to consider 2-graph-immune sequences in the following proof. Let 
 be any 2-graph-immune sequence. By the 2-graph-immunity of w, 
 and 
 are both infinite. Thus the sequence v defined by 
 for all  belongs to 
, and 
 and 
 are both infinite. If M were an infinite recursively enumerable subset of 
, then  would be contained in 
; moreover, since 
 is finite for all ,  would be an infinite recursively enumerable subset of 
, contradicting the 2-graph-immunity of w. A similar argument shows that 
 cannot contain any infinite recursively enumerable subset. Thus v is 2-graph-immune, as required.

If  is finite, then the argument in Case 1 of the proof of Assertion 1 shows that f cannot be 2-graph-immune-preserving. Finally, if  is infinite and there is some  such that 
 is infinite, then an argument similar to that in the proof of Assertion 1 shows that f is not 2-graph-immune-preserving. □

Remark 27

Suppose a function  is said to be strongly b-graph-weakly-immune-preserving if for any strongly b-graph-immune sequence 
, the sequence v defined by 
 for all  is b-graph-bi-immune (in contrast to being strongly 
-graph-immune for some 
). Then any one-one increasing recursive function  is strongly b-weakly-immune-preserving: for each 
, either 
 is finite, or 
 is infinite; in the latter case, if there were an infinite recursively enumerable subset M of 
, then, since f is one-one and increasing, the set  would be an infinite recursively enumerable subset of 
, which would contradict the immunity of 
.

7. Immunity and bi-immunity for sequences over infinite alphabets
In this section we introduce and study various notions of (bi-)immunity for sequences over an infinite alphabet. Immunity and bi-immunity for sequences over infinite alphabets are defined almost exactly as they are for sequences over finite alphabets: a graph-immune (resp. graph-bi-immune) sequence w is one such that no algorithm (with no restriction on the output range) can generate infinitely many, and only correct (resp. incorrect) values of its elements – pairs of the form 
. Graph-immunity of w is equivalent to immunity, in the usual recursion-theoretic sense, of the graph of w as a subset of 
; this is analogous to the earlier observation (Proposition 4) that w is b-graph-immune if and only if  is immune as a set. We also consider sequences that are strictly bounded above by a single recursive function h with  for all i, or h-bounded sequences. Unless otherwise specified, when we refer to a h-graph-(bi-)immune sequence, h is always taken to be a generic recursive function such that  for all i. The terms of such a recursively-bounded sequence may range over an infinite alphabet, though they do not grow too quickly in that they are bounded by a single recursive function. Since no h-bounded sequence is graph-bi-immune, as witnessed by h itself, it is fairly natural to define immunity and bi-immunity for h-bounded sequences with respect to h-bounded partial-recursive functions with an infinite domain. An interesting question, which is partially addressed in this section, is whether, and if so how, the choice of the bound function h influences the computational power of the class of h-graph-(bi-)immune sequences. We proceed with the formal definitions of graph-(bi-)immunity.

Definition 28

Let h be a recursive function such that  for all i. An h-bounded sequence is any sequence 
 satisfying 
 for each . Let 
 be a sequence.

(i)
w is graph-immune if for every partial-recursive function g with an infinite domain, there is an  with 
.

(ii)
w is graph-bi-immune if for every partial-recursive function g with an infinite domain, there are  with 
 and 
.

(iii)
w is h-graph-immune if w is h-bounded and for every partial-recursive function g such that the domain of g is infinite and g is h-bounded, there is an  with 
.

(iv)
w is h-graph-bi-immune if w is h-bounded and for every partial-recursive function g such that the domain of g is infinite and g is h-bounded, there are  with 
 and 
.

Remark 29

(i)
Definition 28(i) is just a reformulation of the fact that 
 is immune as a subset of 
. However, Definition 28(ii) does not imply that 
 is bi-immune as a subset of  since, for example, 
 is already an infinite recursive subset of 
.

(ii)
Flajolet and Steyaert introduced the concept of immunity into computational complexity theory by defining an infinite set U to be immune for a complexity class  if U contains no infinite subset belonging to ; an infinite, coinfinite set U is bi-immune for  if U and 
 
 are both immune for  [24], [25]. The notion of h-graph-immunity may be formulated in a similar fashion: w is h-graph-immune if 
 is immune for 
 
 . The notions of graph-(bi-)immunity, h-graph-bi-immunity and strong b-graph-(bi)-immunity may be defined analogously.

Here are some examples of graph-(bi-)immune sequences, as well as h-graph-(bi-)immune sequences.

Example 30

(i)
If U is limit-recursive and non-recursive, then its convergence-module sequence given by 
 is a graph-immune sequence, where for each j, the uniformly recursive approximation 
 converges to .

(ii)
Let 
 be an enumeration of all partial-recursive functions with infinite domain. For every i, let 
 be a pair of elements in the domain of 
 such that 
 whenever . Then for every sequence w such that for each i, w and 
 agree on exactly one of 
 (for example, 
 and 
), w is graph-bi-immune. Thus there are 
 graph-bi-immune sequences.

(iii)
Let h be a recursive function with  for all i. Let 
 be an enumeration of all partial-recursive functions with infinite domain such that 
 for each 
. Let 
 be a strictly increasing sequence such that 
 for each i. Then the sequence w defined by 
 for each  and 
 for each 
 is h-graph-bi-immune. □

We begin by providing equivalent characterisations of (h-)graph-(bi-)immunity; these characterisations will be useful later in some proofs.

Proposition 31

Let 
 be a sequence.

(i)
w is graph-immune if and only if every partial-recursive g with infinite domain satisfies that 
 for infinitely many .

(ii)
w is graph-bi-immune if and only if every partial-recursive g with infinite domain satisfies that 
 for infinitely many .

(iii)
w is graph-bi-immune if and only if for every partial-recursive function g with infinite domain, there is an  such that 
.

(iv)
Assertions (I), (II) and (III) hold also for h-graph-(bi-)immunity, where w and g are h-bounded for any recursive function h satisfying  for all i.

Proof

Assertion (I). Let g be a partial-recursive function with infinite domain. Suppose on the contrary that 
 for only finitely many . Let 
. Define f as follows(1) 
  Since U is finite, f is partial-recursive. Moreover, 
 for all , where  is infinite. This contradicts that w is graph-immune. Hence, every partial-recursive g with infinite domain satisfies that 
 for infinitely many .

The proof of the converse is trivial.

Assertion (II). We prove the contrapositive. Let g be a partial-recursive function with infinite domain such that 
 for only finitely many . Define f as follows(2) 
  Since there are finitely many i such that 
, f is partial-recursive. Moreover,  is infinite and 
 for all . Thus w is not graph-bi-immune. Now, suppose that w is not graph-bi-immune. Then, there is a partial-recursive function 
 with infinite domain such that 
 for all 
 or there is a partial-recursive function 
 with infinite domain such that 
 for all 
. In the first case define 
 as 
. Then, 
 is partial-recursive and 
 is infinite but 
 for all 
.

Thus in both cases there is a partial-recursive function 
 with infinite domain such that 
 for all .

Assertion (III). Suppose that for every partial recursive function g with infinite domain, there is an  such that 
. Let g be a partial recursive function. Define 
. Then, for every partial recursive function g with infinite domain, there is a 
 such that 
. So w is graph-bi-immune. The proof of the converse is trivial.

Assertion (IV). The above proofs also apply for the h-bounded version, since if w and g are both bounded by h, then so are the functions constructed in the proofs. □

The following series of propositions will establish methods for constructing new h-graph-(bi-)immune sequences from given ones. In the subsequent proposition, it is shown that any recursive finite-one function preserves graph-bi-immunity of each h-graph-bi-immune sequence, albeit with respect to a recursive bound function that may be different from h in general.

Proposition 32

Assume that w is h-graph-bi-immune and f a recursive finite-one function. Then the function 
 is 
-graph-bi-immune, where 
 for all i.

Proof

First, note that since 
 for all i, 
 for all i. Suppose that 
 is a partial-recursive function with infinite domain such that 
 for all 
. Let 
 be a partial-recursive function defined such that 
 is the first 
 found that satisfies . Define 
. Then, g is a partial-recursive function with domain 
 and 
 for all . Since f is finite-one and 
 has infinite domain,  is also infinite. Then there are  with 
 and 
. Then, 
 and 
 and 
. So, by Proposition 31, the function is 
-graph-bi-immune. □

Proposition 33

Assume that 
 are recursive functions, w is h-graph-bi-immune and 
. Let 
 for all i. Now 
 is 
-graph-bi-immune.

Proof

Let g be a partial-recursive function with infinite domain such that 
 for all . Since w is h-graph-bi-immune and 
, by Proposition 31, 
 for infinitely many i. Since g is strictly bounded by 
, for all i such that 
, we also have that 
. Hence, 
 for infinitely many i. So, by Proposition 31, 
 is 
-graph-bi-immune. □

Proposition 34

If w is graph-bi-immune and h is a recursive function such that  for all i, then 
 with 
 is h-graph-bi-immune.

Proof

Let g be a partial-recursive function with infinite domain such that  for all . Since w is graph-bi-immune, by Proposition 31, 
 for infinitely many . Since g is strictly bounded by h, for all , if 
, then 
. Hence, 
 for infinitely many i. So, by Proposition 31, 
 is h-graph-bi-immune. □

Proposition 35

If there is a U-recursive sequence w and an unbounded recursive function h such that  for all i, and w is h-graph-bi-immune then for any recursive function 
 with 
 it holds that there is a 
 such that 
 is 
-graph-bi-immune.

Proof

Let  be the first number j found such that 
 and if , . Since h is unbounded, f is recursive and one-one. Then by Proposition 32, the sequence 
 is 
-graph-bi-immune where 
 for all i. By the definition of f, 
 for all i. So, by Proposition 33, the sequence 
 is 
-graph-bi-immune. Moreover, since 
 is recursive in w, 
. This completes the proof. □

The next theorem shows that for every many-one recursive function h, the class of h-graph-immune sequences is fairly rich; in fact, every non-recursive Turing degree contains such a sequence. The proof is effective in that it shows how to construct such a sequence from any given set in the non-recursive degree.

Theorem 36

Let h be a recursive function such that  for all i. If h is finite-one then every non-recursive Turing degree contains an h-graph-immune sequence.

Proof

Let a be a non-recursive Turing degree. Let U be a set in a. Define 
 where  takes the value 1 if  and 0 otherwise.

Let g be a partial-recursive function with infinite domain, bounded by h. Suppose that 
 for all . Since h is finite-one, for any i there must be a  such that 
. Then,  is the -st digit counted from the right of the binary representation of . So, U is Turing reducible to every recursive enumeration of the graph of g. Such recursive enumerations exist and therefore then U would be recursive, a contradiction. Hence, w must be h-graph-immune.

Clearly, 
. Moreover, we can determine whether or not  from w where 
 as shown earlier. Hence, w is in a. □

The next result characterises the Turing degrees containing at least one h-graph-immune sequence for any recursive function h such that h takes at least one value infinitely often.

Theorem 37

Let h be a recursive function such that  for all i. If h takes some value infinitely often then a Turing degree contains an h-graph-immune function if and only if it contains a bi-immune set.

Proof

We will use the following lemma to prove the backward direction.

Lemma 38

Let 
 be recursive functions such that 
. If sequence w is h-graph-immune, then w is 
-graph-immune.

Proof

Let g be a partial-recursive function strictly bounded by 
 with infinite domain. Suppose that g is strictly bounded by h. Then, there is an  with 
. Otherwise, there is an  such that 
. So, 
. □

Let a be a bi-immune Turing degree. Then, there is a bi-immune set V in a. By Proposition 4, the characteristic function of V is 2-graph-immune. Thus, by the above lemma, the characteristic function of V is h-graph-immune.

Conversely, suppose that a contains an h-graph-immune sequence w. By definition, there is a c such that h takes the value c infinitely often. Then, there is a one-one recursive function f such that  for all i. Suppose that there is a partial-recursive function g with infinite domain, bounded by c such that 
 for all . Then, there is a partial-recursive function 
 where 
 for all 
. Since f is one-one, 
 is also infinite. This contradicts that w is h-graph-immune. So,  is c-graph-immune. Note that  is Turing reducible to w.

To show that the degree of w is bi-immune, we use the following lemma.

Lemma 39

Let 
 be a c-graph-immune sequence. Then, there is a sequence reducible to 
 which is 2-graph-immune.

Proof

Suppose that 
 is c-graph-bi-immune. Then, by Proposition 33, the sequence 
 is 2-graph-bi-immune and so 2-graph-immune. This sequence is Turing reducible to 
.

Otherwise, suppose that there exists a partial-recursive function g with infinite domain and bounded by c such that 
 for all . There exists an a such that 
 is infinite. Without loss of generality, assume that . Now we can find a one-one recursive function f such that 
 for all i. Then, 
 for all i. By the c-graph-immunity of 
, 
 is thus -graph-immune. Moreover, 
.

By iterating this process repeatedly, we can find a sequence 
 which is 2-graph-immune and Turing reducible to 
. □

Hence, by the lemma, there is a sequence reducible to w which is 2-graph-immune and thus is a characteristic sequence of a bi-immune set. By the upward closure of bi-immune degrees (as shown in [30], [32]), the degree a containing w is also bi-immune. □

The following theorem shows that for any unbounded recursive function h with  for all i, Martin-Löf random sequences of hyperimmune-free degree cannot compute any h-graph-bi-immune sequence.

Theorem 40

Let h be a recursive unbounded function which is always at least 2. Then no Martin-Löf random sequence v which has a hyperimmune-free degree can compute an h-graph-bi-immune sequence w.

Proof

Recall from [39] that v is Martin-Löf random if and only if the prefix-free Kolmogorov complexity H satisfies the inequality 
 for all sufficiently large n.

Now assume that v has hyperimmune-free Turing degree and 
. Then w is truth-table reducible to v (see, for example, [42, Proposition VI.6.18]). Furthermore, there is a recursive function f such that f is strictly ascending and 
, as h is unbounded. Furthermore one can for the truth-table reduction choose a use-function which is recursive and one-one; here a use-function is a function which bounds all the queries of the truth-table reduction.

Now let g be a partial-recursive function with the recursive domain , …} such that  is that value m below  for which the number of tuples of length  mapped by the truth-table reduction to m is the smallest among all possible values. So there are at most 
 many strings mapped to  by the truth-table reduction and the prefix of v up to  must be among these strings for those n where 
 and there exist infinitely many of those in the case that w is h-graph-bi-immune. So one can describe the string 
 in a prefix-free way by  bits giving n in a prefix-free way and then compute from n the value  and the right choice among the 
 possibilities can be selected with a binary number of length  plus constant bits.

The length of this binary number can also be computed from n. Thus there is a prefix-free code using  bits where d is a constant to describe 
 infinitely often; as 
 where 
 is some constant for almost all n, there are infinitely many n where 
 for some constant 
 and so, for binary sequences v of hyperimmune-free degree, either v is not Martin-Löf random or there is no h-graph-bi-immune sequence Turing reducible to v. □

Remark 41

There are Martin-Löf random sequences that have hyperimmune-free degree, so Theorem 40 is not vacuously true. By the characterisation of Martin-Löf randomness via prefix-free Kolmogorov complexity, for any fixed b, if 
, then every member of 
 is Martin-Löf random. Furthermore, 
 is a 
-class since it is closed and the corresponding tree 
 is co-r.e. It is known (see, for example, [41, Theorem 1.8.42]) that every non-empty 
 class has a member that is recursively dominated.

The fact that there exist Martin-Löf random sequences with hyperimmune-free degree also implies that the condition in Theorem 40 that the function h be unbounded cannot be lifted: otherwise, taking  for all i, any Martin-Löf random sequence with hyperimmune-free degree would automatically be h-graph-bi-immune.

Remark 42

Kučera [36] and Gács [27] independently showed that any sequence is weak truth-table reducible to some Martin-Löf random sequence. In particular, an h-graph-bi-immune sequence is always weak truth-table reducible to a Martin-Löf random sequence. Thus the condition in Theorem 40 that v be of hyperimmune-free degree is essential.

In contrast to Theorem 40, the next result shows that for any PA-complete set U, there is a sequence 
 for which w is h-graph-bi-immune.

Theorem 43

Let h be a recursive function with  for all i. Let U be a PA-complete set. Then there is a sequence 
 such that w is h-graph-bi-immune.

Proof

The proof is based on the fact that PA-complete sets can compute an infinite branch in a finitely branching infinite co-r.e. tree [42, Theorem V.5.35]. The tree will at input i branch with all functions which on input i take one of the values . Furthermore, let the interval 
 and fix a recursive enumeration 
 of all partial-recursive functions with recursive domains; here 
 can either code an undefined place with ? or remain undefined from some point i onwards. The specific domain of 
 are those i where 
 outputs a natural number (and not ?).

Now a string σ satisfies the requirement  if and only if there is an  such that 
 and 
?. A string σ gets cancelled if either there is a requirement  for which there are at least  intervals 
 completely covered by the domain of σ and which intersect the specific domain of 
 but  is not satisfied or if there is an interval 
 completely inside the domain of σ on which σ does not take at least twice the value ?. The cut-off branches of the tree T are all those which extend some cancelled string σ.

Note that one can, using the oracle for the Halting Problem K, construct an infinite branch of this tree such that no prefix σ gets cancelled: The algorithm is to find in each 
 the smallest e such that on one 
, 
 is defined and the prefix σ up to the beginning of 
 does not satisfy the requirement . Let 
 be the smallest such 
. Then one lets 
 and ? for the two other members j of 
.

Note that this priority algorithm blocks the requirement  on at most e many intervals where 
 is defined on some member of 
; on the first such interval where the requirement is not blocked, a coincidence with 
 is put and therefore the requirement is satisfied before the requirement can cancel the branch constructed. Furthermore, it is made sure that always at least two values in 
 are assigned a ?.

Note that the tree T of all σ which never get cancelled and never have a prefix which gets cancelled is a co-r.e. tree which has an infinite branch and which is finitely branching, due to the bound function h. As argued two paragraphs ago, this tree T has infinite branches and since T is co-r.e., the class of all infinite branches of T is a 
 class and consequently U allows to compute one such branch 
. Now on any interval 
 and 
, if 
? then 
 else 
. The so constructed w is Turing equivalent to U, as  is the majority-value of w on 
.

Now consider a partial-recursive function g with infinite domain which is bounded by h. This g extends some 
 which has an infinite recursive domain; that 
 coincides with w on some 
. Thus g agrees with w at least once. Thus w is h-graph-bi-immune. □

The notion of a diagonally non-recursive (d.n.r.) function, that is, a function f such that 
 whenever 
, arises quite naturally in the study of Martin-Löf randomness. For example, every Martin-Löf random set weak truth-table computes a d.n.r. function [36]. The following observation follows from the definition of h-graph-bi-immunity together with the fact that there are infinitely many recursive functions f such that  for all i.

Proposition 44

Let h be a recursive function with  for all i. Then no h-graph-bi-immune sequence is d.n.r.

We recall that the Boolean algebra of r.e. sets does not contain any bi-immune set: this follows from an argument by induction, using the fact that the difference between two r.e. sets cannot be bi-immune. A similar observation extends to h-graph-bi-immune sequences, as the next proposition shows.

Proposition 45

If h is a recursive function satisfying  for all i, then the Boolean algebra of r.e. sets does not contain the graph of any h-graph-bi-immune sequence.

Proof

Consider any Boolean combination 
 of r.e. sets equal to the graph of some sequence w such that 
 for all i; without loss of generality, assume 
, where, for all i, 
 and 
 are r.e. sets for which 
. Assume further that for each i, there are infinitely many 
 such that for some j, 
; this assumption will be lifted at the end of the proof. It will be shown by induction that for each , there is a partial-recursive function g with infinite domain and  for each  such that (i) 
 or (ii) 
. The induction statement holds for  (the empty union); now assume it holds for some k, and let g be a partial-recursive function with infinite domain such that (i) or (ii) holds. If (i) holds, then 
, so the induction statement for  automatically follows. Suppose (ii) holds. Consider two cases.

Case 1:
⁎
. Then there is a partial-recursive function 
 and a finite set F with 
 and 
, so the induction statement (for some partial-recursive 
 satisfying (ii)) holds for .

Case 2:
Not Case 1. Then 
 is infinite. If 
 is also infinite, then one could enumerate an infinite subgraph 
 of 
 for some partial-recursive function 
; therefore 
, and again the induction statement (for some partial-recursive 
 satisfying condition (ii)) holds for . Suppose 
 is finite. Then 
⁎
.5 It follows that 
 is an infinite r.e. set equal to the graph of some partial-recursive function 
 with 
 for all i, so the induction statement (for some partial-recursive 
 satisfying condition (i)) holds for .

This completes the proof by induction. To conclude the proof of the original statement, take the union of 
 and the graph of any function f with finite domain such that  for all i, and consider the case that 
 contains the graph of some partial-recursive function g with infinite domain and  for all i (if, instead, 
 contains such a function g, then there is nothing more to prove). Then 
⁎
, so 
 contains the graph of some partial-recursive function 
 with infinite domain and 
 for all i, as required. □
In the next series of results, we compare the computational power of h-graph-bi-immune sequences to that of the Halting Problem K by studying various types of reducibilities between them. The following proposition shows that K is truth-table equivalent to some h- graph-bi-immune sequence. Since, as mentioned earlier, every set is weak truth-table reducible to some Martin-Löf random set, and, as shown by Calude and Nies [18], no Martin-Löf random set truth-table computes K, it follows that an h-bi-immune sequence may not be truth-table reducible to any Martin-Löf random set.

Proposition 46

Suppose h is a recursive function such that  for all i. Then there is an h-graph-bi-immune sequence w such that 
. In particular, no Martin-Löf random sequence v satisfies 
.

Proof

We construct a sequence w satisfying two requirements for each s: (1) 
 if and only if exactly one of 
 equals 0; (2) if 
 is infinite and 
 for all i, then there is some j satisfying 
. Requirement (1) codes K into the values of w, while Requirement (2) ensures that no h-bounded partial-recursive function g with infinite domain satisfies 
 for all  (this would in turn ensure that w is h-graph-bi-immune).

In detail: at stage s, the following steps are carried out in sequence using oracle K:

1.
Search for the least  such that 
 has not yet been diagonalised against and 
 or 
. If such an e exists, go to Step 2. If no such e exists, go to Step 3.

2.
Let 
 be the minimum of  such that 
 and set 
. Let 
 be the unique element of 
, and define
 

3.
If 
, set 
 and 
. If 
, set 
.

By construction, 
 if and only if exactly one of 
 equals 0. Thus K is btt-reducible to w. To see that 
, let g and f be recursive functions such that for all e, s and j,
 Given any number , the tt-reduction from w to K makes queries to the given oracle for elements in . The reduction then determines 
 based on the answers to these queries. First, based on the answers to queries for elements in , one may determine whether there is a least  such that 
 has not yet been diagonalised against up to stage s and 
 or 
; moreover, if such a least e exists, then its value may be determined. If no such e exists, then 
. If such an e exists, then the answers to queries for elements in  allow one to determine the least 
 such that 
, as well as the value of 
 and whether 
; it follows from Step 2 of the earlier algorithm that this information may be used to determine 
. We note that this procedure for determining 
 is recursive for any oracle (not just K). A similar tt-reduction applies to any even number. □
Remark 47

Although, as shown in the proof of Proposition 46, K is btt-reducible to some h-graph-bi-immune sequence, in general no h-graph-bi-immune sequence is btt-reducible to K. This follows from Proposition 45 and the fact that a set is btt-reducible to K if and only if it is in the Boolean algebra generated by the r.e. sets [42, Proposition III.8.7]. More generally, we observe in the next proposition that no h-graph-bi-immune sequence is bounded Turing reducible to any r.e. set.

Any tt-reduction from an h-graph-(bi-)immune sequence w to an r.e. set cannot be positive; in other words, the tt-condition in any such reduction must contain negation. For otherwise, one could recursively enumerate infinitely many pairs  for which the tt-condition is true (which implies that 
), thereby contradicting the h-graph-(bi-)immunity of w.

If U is a non-recursive r.e. set, then any tt-reduction from U to an h-graph-(bi-)immune sequence w cannot be conjunctive, that is, the tt-condition is not a conjunction of positive formulas. For otherwise, given a one-one recursive enumeration 
 of U, one obtains a corresponding enumeration 
 (for some recursive function g) of queried sets such that 
 for all i. Furthermore, 
 is infinite; otherwise, 
 would be finite and one could then determine recursively whether 
 for each i via the relation 
. Thus there would be an infinite one-one recursive enumeration of a subset of , contradicting the h-(bi-)immunity of w. Similarly, if 
 
 is a non-recursive r.e. set, then any tt-reduction from U to an h-graph-(bi-)immune sequence cannot be disjunctive, that is, the tt-condition is not a disjunction of positive formulas.

We recall that a function f is bounded Turing reducible to a set U (
) if there is a Turing functional 
 and a constant c such that 
 and for all i, 
 on input i makes at most c queries to the oracle U.

Proposition 48

No graph-immune sequence and no h-graph-immune sequence is bounded Turing reducible to an r.e. set.

Proof

Assume that 
 for an r.e. set U with constant c. Now one can for each i define the computation-track of i as the oracle answers given by U while computing 
 followed by a 2. These finite strings have at most length . Furthermore, one can define similar strings for approximations 
 to U and observe that those computation-tracks which converge in s states converge from below lexicographically to the computation track for U at i. Let σ be the lexicographically maximal computation track taken by infinitely many i, let X be the set of these i. There are only finitely many i in a further set Y where some approximation has a computation track which takes the value σ as at those  the computation track is larger. For that reason, the set X is recursively enumerable as the set of all  where at some s the computation track σ is taken. For the  one can compute 
 by supplying the oracle answers of U according to the bits in σ and will eventually obtain the correct value of w. Thus there is a partial-recursive function with the infinite domain X which coincide with w on its domain. Thus w is not graph-immune and also not h-graph-immune for any h. □

In the next proposition, we observe that the bi-immune-free Turing degrees exclude not only traditional bi-immune sets, but also h-graph-bi-immune sequences and graph-bi-immune sequences. This contrasts with Theorem 36, where it was shown that every non-recursive Turing degree contains an h-graph-immune set whenever h is a many-one recursive function.

Proposition 49

Let h be a recursive function such that  for all i. The bi-immune-free Turing degrees do not contain any h-graph-bi-immune sequence and also no graph-bi-immune sequence.

Proof

Let U be a set of bi-immune-free Turing degree. Assume that 
 is graph-bi-immune or h-graph-bi-immune for a suitable h; now 
 given by 
 is 2-graph-bi-immune and thus the characteristic function of a bi-immune set. However, U does not Turing compute any bi-immune set. Therefore such an w cannot exist. □

It is known (see, for example, [41, Proposition 4.3.11]) that the Martin-Löf random Turing degrees are not closed upwards; the following proposition shows, in contrast, that the degrees of h-graph-bi-immune sequences are closed upwards.

Proposition 50

Let h be recursive such that  for all i. If w is an h-graph-bi-immune sequence and v is a binary sequence in a hyperimmune-free Turing degree which can compute w then there is a further h-graph-bi-immune sequence within the same Turing degree as v.

Proof

Let B be the set of all binary strings x which are a prefix of the sequence 
 (written ) and assume that there is a recursive set R of strings which contains infinitely many members of B and also infinitely many non-members of B. In the case that for each , the set R contains only finitely many strings extending x, then one can compute B in the limit, as for each string of length n, one guesses always that the string of length n with the most extensions found so far in R is the member of B; this algorithm converges for all n to 
. However, the only binary sequences of hyperimmune-free Turing degree which are limit recursive are the recursive sequences (see, for example, [41, Proposition 1.5.12]) and those do not compute an h-graph-bi-immune sequences; hence this case does not occur. Thus there is an  such that infinitely many extensions of x are in R; all these are not in B and R has the infinite recursive subset  not containing a member of B. This fact will be used in the construction of 
 – the sequence with the same Turing degree as v and is h-graph-bi-immune.

One makes a recursive bijection from binary strings to the natural numbers following the length-lexicographic ordering, so the empty string gives 0, the string 0 gives 1, the string 1 gives 2 and the string 00 gives 3. Let  be the natural number assigned to x. Now one defines
  One can reconstruct v recursively from 
 as 
, so 
. Now consider any partial-recursive function 
 such that the domain of 
 is infinite and, for all 
, 
 and 
. The domain of 
 has an infinite recursive subset R which, as explained above, can be chosen to be disjoint from . Now one defines, for all , 
; for all other x,  is undefined. It follows that  and 
 for all . Thus if 
 witnesses that 
 is not h-graph-bi-immune then g witnesses that w is not h-graph-bi-immune, in contradiction to the choice. Hence 
 is h-graph-bi-immune. It was already mentioned that 
. It can also be seen that 
 and, as 
, 
. Here  denotes the join of two binary sequences w and v, defined to be the sequence 
 as usually done in recursion theory. □

8. Conclusions
The motivation of this study came from the necessity to find an algorithm to transform an infinite ternary graph-bi-immune sequence into a binary graph-bi-immune sequence. This problem has arisen in the design of a QRNG based on measuring a value-indefinite quantum observable [1], [3], [6], [7]. Each ternary sequence generated by such a QRNG is graph-bi-immune, which shows that the quality of randomness generated is provable higher than the quality of randomness generated by software. Preserving graph-bi-immunity in algorithmic transformations of infinite ternary graph-bi-immune sequences into a binary sequence turned to be a non-trivial problem: to solve it we had to better understand the notion of graph-bi-immunity on non-binary alphabets, the scope of this paper. Corollary 18 has been used in the design of the QRNG by Agüero and Calude in [8] whose protocol is based on measuring a located form [1], [3], [6], [7], [8] of the Kochen-Specker Theorem, a result true only in Hilbert spaces of dimension at least three. Such a QRNG – which locates and repeatedly measures a value-indefinite quantum observable – always, not only with probability Lebesgue one – produces graph-bi-immune sequences, that is, sequences for which no algorithm can compute more than finitely many exact values. In fact, no algorithm can compute any exact value of any sequence generated by the QRNG [8]. As almost all applications need quantum random binary strings, there is a stringent demand of randomness-preserving algorithms transforming non-binary strings into binary ones.

In this paper we have studied various notions of b-graph-bi-immunity over alphabets with  elements and recursive transformations between sequences on different alphabets which preserve them. Furthermore, we have extended the study from sequence bounded by a constant to sequences over the infinite alphabet 
 which may or may not be bounded by a recursive function, and related them to the Turing degrees in which they can occur.

Finally we mention a few open questions. What is the computational power of algorithms using various bi-immune sequences as oracles [2]? In particular, can the Halting Problem be solved with such an algorithm? A weaker question is to replace the Halting Problem with the lesser principle of omniscience [14]: given a recursive binary sequence 
 containing at most one 1, decide whether 
 for each  or else 
 for each .