MAHNOB-HCI is a multimodal database recorded in response to affective stimuli with the goal of emotion recognition and implicit tagging research. A multimodal setup was arranged for synchronized recording of face videos, audio signals, eye gaze data, and peripheral/central nervous system physiological signals. Twenty-seven participants from both genders and different cultural backgrounds participated in two experiments. In the first experiment, they watched 20 emotional videos and self-reported their felt emotions using arousal, valence, dominance, and predictability as well as emotional keywords. In the second experiment, short videos and images were shown once without any tag and then with correct or incorrect tags. Agreement or disagreement with the displayed tags was assessed by the participants. The recorded videos and bodily responses were segmented and stored in a database. The database is made available to the academic community via a web-based system. The collected data were analyzed and single modality and modality fusion results for both emotion recognition and implicit tagging experiments are reported. These results show the potential uses of the recorded modalities and the significance of the emotion elicitation protocol.
SECTION 1Introduction
Although the human emotional experience plays a central part in our lives, our scientific knowledge about human emotions is still very limited. Progress in the field of affective sciences is crucial for the development of psychology as a scientific discipline or application that has anything to do with humans as emotional beings. More specifically, the application of human-computer interaction relies on knowledge about the human emotional experience, as well as on knowledge about the relation between emotional experience and affective expression.

An area of commerce that could obviously benefit from an automatic understanding of human emotional experience is the multimedia sector. Media items such as movies and songs are often primarily valued for the way in which they stimulate a certain emotional experience. While it might often be the affective experience that a person is looking for, media items are currently primarily tagged by their genre, subject or their factual content. Implicit affective tagging through automatic understanding of an individual's response to media items would make it possible to rapidly tag large quantities of media, on a detailed level and in a way that would be more meaningful to understand how people experience the affective aspects of media content [1]. This allows more effective content retrieval, required to manage the ever-increasing quantity of shared media.

To study human emotional experience and expression in more detail and on a scientific level, and to develop and benchmark methods for automatic recognition, researchers are in need of rich sets of data of repeatable experiments [2]. Such corpora should include high-quality measurements of important cues that relate to the human emotional experience and expression. The richness of the human emotional expressiveness poses both a technological as well as a research challenge. This is recognized and represented by an increasing interest into pattern recognition methods for human behavior analysis that can deal with the fusion of measurements from different sensor modalities [2]. However, obtaining multimodal sensor data is a challenge in itself. Different modalities of measurement require different equipment, developed and manufactured by different companies, and different expertise to set up and operate. The need for interdisciplinary knowledge as well as technological solutions to combine measurement data from a diversity of sensor equipment is probably the main reason for the current lack of multimodal databases of recordings dedicated to human emotional experiences.

To contribute to this need for emotional databases and affective tagging, we have recorded a database of multimodal recordings of participants in their response to affectively stimulating excerpts from movies and images and videos with correct or incorrect tags associated with human actions. The database is freely available to the academic community, and is easily accessible through a web-interface.1 The recordings for all excerpts are annotated through an affective feedback form, filled in by the participants immediately after each excerpt. A summary of the MAHNOB-HCI database characteristics is given in Table 1. The recordings of this database are precisely synchronized and its multimodality permits researchers to study the simultaneous emotional responses using different channels. Two typical sets including responses to emotional videos and implicit tagging or agreement with displayed tags can be used for both emotion recognition as well as multimedia tagging studies. Emotion recognition and implicit tagging baseline results are given for researchers who are going to use the database. The baseline results set a target for the researchers to reach.

TABLE 1 MAHNOB-HCI Database Content Summary
Table 1- 
MAHNOB-HCI Database Content Summary
In Section 2, we give an overview of existing affective databases, followed by descriptions of the modalities we have recorded in our database in Section 3. Section 4 explains the experimental setup. The first experiment paradigm, some statistics and results of classifications of emotions are presented in Section 5 and for the second experiment in Section 6. A discussion on the use of the database and recommendations for recordings of such databases are given in Section 7, followed by our conclusions in Section 8.

SECTION 2Background
Creating affective databases is an important step in emotion recognition studies. Recent advances in emotion recognition have motivated the creation of novel databases containing emotional expressions. These databases mostly include speech, visual, or audio-visual data [5], [6], [7], [8]. The visual modality of the emotional databases includes face and/or body gestures. The audio modality carries acted or genuine emotional speech in different languages. In the last decade, most of the databases consisted only of acted or deliberately expressed emotions. More recently, researchers have begun sharing spontaneous and natural emotional databases such as [6], [7], [9]. We only review the publicly available spontaneous or naturalistic databases and refer the reader to the following review [2] for posed, audio, and audio-visual databases.

Pantic et al. created the MMI web-based emotional database of posed and spontaneous facial expressions with both static images and videos [5], [10]. The MMI database consists of images and videos captured from both frontal and profile view. The MMI database includes data from 61 adults acting different basic emotions and 25 adults reacting to emotional videos. This web-based database gives an option of searching in the corpus and is downloadable.2

One notable database with spontaneous reactions is the Belfast database (BE) created by Cowie et al. [11]. The BE database includes spontaneous reactions in TV talk shows. Although the database is very rich in body gestures and facial expressions, the variety in the background makes the data a challenging data set of automated emotion recognition. The BE database was later included in a much larger ensemble of databases in the HUMAINE database [6]. The HUMAINE database consists of three naturalistic and six induced reaction databases. Databases vary in size from 8 to 125 participants and in modalities, from only audio-visual to peripheral physiological signals. These databases were developed independently at different sites and collected under the HUMAINE project.

The “Vera am Mittag” (VAM) audio-visual database [7] is another example of using spontaneous naturalistic reactions during a talk show to develop a database. Twelve hours of audio-visual recordings from a German talk show, “Vera am Mittag,” were segmented and annotated. The segments were annotated using valence, activation, and dominance. The audio-visual signals consist of the video and utterances from 104 different speakers.

Compared to audio-visual databases, there are fewer publicly available affective physiological databases. Healey and Picard recorded one of the first affective physiological data sets at MIT, which has reactions of 17 drivers under different levels of stress [4]. Their recordings include electrocardiogram (ECG), galvanic skin response (GSR) recorded from hands and feet, electromyogram (EMG) from the right trapezius, as well as the respiration pattern. The database of stress recognition in drivers is publicly available from Physionet.3

The Database for Emotion Analysis using Physiological Signals (DEAP) [9] is a recent database that includes peripheral and central nervous system physiological signals in addition to face videos from 32 participants. The face videos were only recorded from 22 participants. EEG signals were recorded from 32 active electrodes. Peripheral nervous system physiological signals were EMG, electroocologram (EOG), blood volume pulse (BVP) using plethysmograph, skin temperature, and GSR. The spontaneous reactions of participants were recorded in response to music video clips. This database is publicly available on the Internet.4 The characteristics of the reviewed databases are summarized in Table 2.

TABLE 2 The Summary of the Characteristics of the Emotional Databases Reviewed

SECTION 3Modalities and Apparatus
3.1 Stimuli and Video Selection
Although the most straightforward way to represent an emotion is to use discrete labels such as fear or joy, label-based representations have some disadvantages. Specifically, labels are not cross-lingual: Emotions do not have exact translations in different languages, e.g., “disgust” does not have an exact translation in Polish [12]. Psychologists therefore often represent emotions or feelings in an n-dimensional space (generally 2 or 3D). The most famous such space, which is used in the present study and originates from cognitive theory, is the 3D valence-arousal-dominance or pleasure-arousal-dominance (PAD) space [13]. The valence scale ranges from unpleasant to pleasant. The arousal scale ranges from passive to active or excited. The dominance scale ranges from submissive (or “without control”) to dominant (or “in control, empowered”). Fontaine et al. [14] proposed adding a predictability dimension to PAD dimensions. Predictability level describes to what extent the sequence of events is predictable or surprising for a viewer.

In a preliminary study, 155 video clips containing movie scenes manually selected from 21 commercially produced movies were shown to more than 50 participants; each video clip received 10 annotations on average [15]. The preliminary study was conducted utilizing an online affective annotation system in which the participants reported their emotions in response to the videos played by a web-based video player.

In the preliminary study, the participants were thus asked to self-assess their emotion by reporting the felt arousal (ranging from calm to excited/activated) and valence (ranging from unpleasant to pleasant) on nine points scales. SAM Manikins were shown to facilitate the self-assessments of valence and arousal [16]. Fourteen video clips were chosen based on the preliminary study from the clips which received the highest number of tags in different emotion classes, e.g., the clip with the highest number of sad tags was selected to induce sadness. Three other popular video clips from online resources were added to this set (two for joy and one for disgust). Three past weather forecast reports (retrieved from youtube.com) were also used as neutral emotion clips. The videos from online resources were added to the data set to enable us to distribute some of the emotional video samples with the multimodal database described below. The full list of videos is given in Table 3.

TABLE 3 The Video Clips Listed with Their Sources
Table 3- 
The Video Clips Listed with Their Sources
Ultimately, 20 videos were selected to be shown which were between 34.9 and 117 s long (M=81.4s,SD=22.5s). Psychologists recommended videos from 1 to 10 minutes long for elicitation of a single emotion [17], [18]. Here, the video clips were kept as short as possible to avoid multiple emotions or habituation to the stimuli while keeping them long enough to observe the effect.

3.2 Facial Expressions and Audio Signals
One of the most well-studied emotional expression channels is facial expressions. A human being uses facial expressions as a natural mean of emotional communication. Emotional expressions are also used in human-human communication to clarify and stress what is said, to signal comprehension, disagreement, and intentions, in brief, to regulate interactions with the environment and other persons in the vicinity [19], [20]. Automatic analysis of facial expression is an interesting topic from both scientific and practical point of view. It has attracted the interest of many researchers since such systems will have numerous applications in behavioral science, medicine, security, and human-computer interaction. To develop and evaluate such applications, large collections of training and test data are needed [21], [22]. In the current database, we are interested in studying the spontaneous responses of participants while watching video clips. This can be used later for emotional implicit tagging of multimedia content.

Fig. 1 shows the synchronized views from the six different cameras. Two types of cameras have been used in the recordings: one Allied Vision Stingray F-046C, color camera (C1), and five Allied Vision Stingray F-046B, monochrome cameras (BW1 to BW5). All cameras recorded with a resolution of 780×580 pixels at 60 frames per second. The two close up cameras above the screen give a near-frontal view of the face in color Fig. 1a or monochrome Fig. 1b. The monochrome views have a better sharpness and less motion blur than the color camera. The two views from the bottom of the screen, Figs. 1c and 1d, give a close up view that may be more useful during down-facing head poses, and make it possible to apply passive stereo imaging. For this, the intrinsic and extrinsic parameters of all cameras have been calibrated. Linear polarizing filters were applied with the two bottom cameras in order to reduce the reflection of the computer screen in eyes and glasses. The profile view Fig. 1e can be used to extract backward-forward head/body movements or to aid the extraction of facial expressions, together with the other cameras. The wide-angle view Fig. 1f captures the upper body, arms and hands, which can also carry important information about a person's affective state.


Fig. 1. Snapshots of videos captured from six cameras recording facial expressions and head pose.
Show All

Although we did not explicitly ask the participants to express or talk during the experiments, we expected some natural utterances and laughter in the recorded audio signals. The audio was recorded for its potential to be used for video tagging, e.g., it has been used to measure the hilarity of videos by analyzing a user's laughter [23]. However, the amount of laughter and audio responses in the database from participants is not enough for such studies and therefore the audio signals were not analyzed. The recorded audio contains two channels. Channel one (or “left” if interpreted as a stereo stream) contains the audio signal from a AKG C 1000 S MkIII room microphone, which includes the room noise as well as the sound of the video stimuli. Channel two contains the audio signal from an AKG HC 577 L head-worn microphone.

3.3 Eye Gaze Data
The Tobii X1205 eye gaze tracker provides the position of the projected eye gaze on the screen, the pupil diameter, the moments when the eyes were closed, and the instantaneous distance of the participant's eyes to the gaze tracker device. The eye gaze data were sampled at 60 Hz due to instability of the eye gaze tracker system at 120 Hz. The blinking moments are also extractable from eye gaze data by finding the moments in the eye gaze responses where the coordinates are equal to −1. Pupil diameter has been shown to change in different emotional states [24], [25]. Examples of eye gaze responses are shown in Fig. 2.


Fig. 2. Natural expressions to a fearful (on the left) and disgusting (on the right) video. The snapshots of the stimuli videos with eye gaze overlaid and without eye gaze overlaid, frontal captured video, raw physiological signals, and raw eye gaze data are shown. In the first row, the red circles show the fixation points and their radius indicates the time spent in each fixation point. The red lines indicate the moments where each of the snapshots was captured.
Show All

3.4 Physiological Signals
Physiological responses (ECG, GSR, respiration amplitude, and skin temperature) were recorded with a 1, 024 Hz sampling rate and later downsampled to 256 Hz to reduce the memory and processing costs. The trend of the ECG and GSR signals was removed by subtracting the temporal low frequency drift. The low frequency drift was computed by smoothing the signals on each ECG and GSR channels with a 256 points moving average.

GSR provides a measure of the resistance of the skin by positioning two electrodes on the distal phalanges of the middle and index fingers and passing a negligible current through the body. This resistance decreases due to an increase of perspiration, which usually occurs when one is experiencing emotions such as stress or surprise. Moreover, Lang et al. discovered that the mean value of the GSR is related to the level of arousal [26].

ECG signals were recorded using three sensors attached on the participants' body. Two of the electrodes were placed on the chest's upper right and left corners below the clavicle bones and the third electrode was placed on the abdomen below the last rib for setup simplicity. This setup allows precise identification of heart beats and consequently to compute heart rate (HR).

Skin temperature was recorded by a temperature sensor placed participant's little finger. The respiration amplitude was measured by tying a respiration belt around the abdomen of the participant.

Psychological studies regarding the relations between emotions and the brain are uncovering the strong implication of cognitive processes in emotions [27]. As a result, the EEG signals carry valuable information about the participants' felt emotions. EEG signals were recorded using active AgCl electrodes placed according to the international 10-20 system. Examples of peripheral physiological responses are shown in Fig. 2.

SECTION 4Experimental Setup
4.1 Experimental Protocol
As explained above, we set up an apparatus to record facial videos, audio and vocal expressions, eye gaze, and physiological signals simultaneously. The experiment was controlled by the Tobii studio software. The Biosemi active II system6 with active electrodes was used for physiological signals acquisition. Physiological signals including ECG, EEG (32 channels), respiration amplitude, and skin temperature were recorded while the videos were shown to the participants. In the first experiment, five multiple choice questions were asked during the self-report for each video. For the second experiment, where the feedback was limited to yes and no, two big colored buttons (red and green) were provided.

Thirty participants with different cultural backgrounds volunteered to participate in response to a campus wide call for volunteers at Imperial College, London. Out of the 30 young healthy adult participants, 17 were female and 13 were male; ages varied between 19 to 40 years old (M=26.06,SD=4.39). Participants had different educational background, from undergraduate students to postdoctoral fellows, with different English proficiency from intermediate to native speakers. The data recorded from three participants (P9, P12, P15) were not analyzed due to technical problems and unfinished data collection. Hence, the analysis results of this paper are only based on the responses recorded from 27 participants.

4.2 Synchronized Setup
An overview of the synchronization in the recording setup is shown in Fig. 3. To synchronize between sensors, we centrally monitored the timings of all sensors, using a MOTU 8pre7 audio interface (“c” in Fig. 3) that can sample up to eight analog inputs simultaneously. This allowed the derivation of the exact temporal relations between events in each of the eight channels. By recording the external camera trigger pulse signal (“b” in Fig. 3) in a parallel audio track (see the fifth signal in Fig. 4), each recorded video frame could be related to the recorded audio with an uncertainty below 25μ s. More details about the data synchronization can be found in [28].


Fig. 3. Overview of our synchronized multisensor data capture system, consisting of (a) a physiological measurement device, (b) video cameras, (c) a multichannel A/D converter, (d) an A/V capture PC, (e) microphones, (f) an eye gaze capture PC, (g) an eye gaze tracker, and (h) a photo diode to capture the pulsed IR-illumination from the eye gaze tracker. Camera trigger was recorded as audio and physiological channels for synchronization.
Show All

Fig. 4. - Five tracks recorded in parallel by MOTU 8pre audio interface. From top to bottom: 1) room microphone, 2) head microphone, 3) serial port time stamp output (transmitted at 9, 600 bps), showing 2 time stamp signals, 4) measured infrared light in front of eye tracker, 5) camera trigger.
Fig. 4. Five tracks recorded in parallel by MOTU 8pre audio interface. From top to bottom: 1) room microphone, 2) head microphone, 3) serial port time stamp output (transmitted at 9, 600 bps), showing 2 time stamp signals, 4) measured infrared light in front of eye tracker, 5) camera trigger.
Show All

The gaze tracking data and physiological signals were recorded with separated capture systems. Because neither of them allowed the recording of the actual sensor trigger signals, they required alternative synchronization strategies. The physiological data were captured with a multichannel A/D converter (“a” in Fig. 3) that allowed recording one binary input signal alongside the data. This input was used to connect the camera trigger signal. Since the accurate timing of each camera frame is known, this allowed synchronizing the physiological data with all the other modalities.

The eye gaze tracker (“g” in Fig. 3) synchronized with the CPU cycle counter of its dedicated capture PC (“f”) with an accuracy of approximately one millisecond. To synchronize the respective CPU cycle counter to the audio interface, we developed an application that periodically (twice per second) outputs binary time stamp signals with the current time, through the serial port output (see the third signal in Fig. 4), with an error below 10μ s. To get a more accurate timing accuracy than the 1 ms accuracy of the time stamps of the gaze tracking data, the infrared strobe illumination of the gaze tracker was recorded using a photo diode (“h” in Fig. 3 and the fourth signal in Fig. 4). This allowed the correction of the gaze data time stamps with the temporal resolution as high as 10 microseconds.

The start moments of the stimuli data were time stamped using the same synchronized CPU cycle counter as the eye-gaze data. An uncertainty in timing of the stimuli data is introduced by the video player software, as well as by the latency of the audio system, graphics card, and the screen. Furthermore, the accuracy of the time codes of the fragments may introduce further errors in synchronizing the recorded data with the actual stimuli. The room microphone was placed close to the speaker that produced the stimuli sound. Therefore, the recorded ambient sound provides an implicit synchronization, as it includes the sound of the stimuli.

4.3 Practical Considerations
Although the protocol and setup was done carefully, problems arose during recordings. The data recorded from participants 9 and 15 are not complete due to technical problems. The physiological responses of participant 12 are missing due to recording difficulties. The physiological responses to each stimuli were recorded each in a separate file in Biosemi data format (BDF) which is an extension of European data format (EDF) and easily readable in different platforms. For each trial, the response to the 15 seconds neutral video is stored separately. All the files containing physiological signals include the signals recorded 30 s before the start and after the end of their stimuli. In accordance with the Biosemi recording methodology, we did not record a reference electrode with EEG signals. Therefore, EEG signals need rereferencing to a virtual reference, for example, the average reference. The stimuli videos were all encoded in MPEG-4 Xvid format and MPEG layer three format with 44, 100 Hz sampling frequency in an audio video interleave container (AVI). The frames were encoded in 1,280∗800 to match our display resolution.

SECTION 5Emotion Recognition Experiment
In this section, we present the emotion recognition experimental paradigm, analysis methods, and experimental results. Three modalities, including peripheral and central nervous system physiological signals and information captured by eye gaze tracker, were used to recognize emotions from participants' responses.

5.1 Emotion Experiment Paradigm
The participants were informed about the experiment, and their rights, in a verbal introduction, by e-mail, and through a consent form. Participants were trained to use the interface before the experiment and during the setup time. The participants were also introduced to the meaning of arousal, valence, dominance, and predictability in the self-assessment procedure, and to the nature of the video content. The five questions which were asked during self-reporting were

emotional label/tag,

arousal,

valence,

dominance,

predictability [14].

The emotional labels included neutral, anxiety, amusement, sadness, joy, disgust, anger, surprise, and fear. To simplify the interface for the first experiment a keyboard was provided with only nine numerical keys and the participants answered each question by pressing one of the keys. Questions 2 to 5 were on a nine point scale.

In emotional-affective experiments the bias from the emotional state needs to be reduced. For this purpose, a short neutral clip was shown to the participants before each emotional video. The neutral clip was randomly selected from the clips provided by the Stanford psychophysiology laboratory [18]. The 20 emotional video clips were played from the data set in random order. After watching a video clip, the participant filled in the self-assessment form. In total, the time interval between the start of a trial and the end of the self-reporting phase was approximately two and half minutes. This interval included playing the neutral clip, playing the emotional clip, and performing the self-assessment. Running of the whole protocol took, on average, 50 minutes, in addition to 30 minutes set up time.

5.2 Emotional Features
5.2.1 EEG and Physiological Signals
The following peripheral nervous system signals were recorded: GSR, respiration amplitude, skin temperature, and ECG. Most of the current theories of emotion [29] agree that physiological activity is an important component of an emotion. Heart rate and heart rate variability (HRV) correlate with emotional changes. Pleasantness of stimuli can increase peak heart rate response [26], and HRV decreases with fear, sadness, and happiness [30]. In addition to the HR and HRV features, spectral features derived from HRV were shown to be a useful feature in emotion assessment [31]. Skin temperature was also recorded since it changes in different emotional states [32]. Regarding the respiration amplitude, slow respiration is linked to relaxation, while irregular rhythm, quick variations, and cessation of respiration correspond to more aroused emotions like anger or fear [33], [30]. In total, 102 features were extracted from peripheral physiological responses based on the proposed features in the literature [34], [33], [30].

In addition to the peripheral nervous system responses, electroencephalogram signals were acquired. The power spectral features were extracted from EEG signals. The logarithms of the spectral power from theta (4Hz<f<8Hz), slow alpha (8Hz<f<10Hz), alpha (8Hz<f<12Hz), beta (12Hz<f<30Hz), and gamma (30Hz<f) bands were extracted from all 32 electrodes as features. In addition to power spectral features, the difference between the spectral power of all the symmetrical pairs of electrodes on the right and left hemispheres was extracted to measure the possible asymmetry in the brain activities due to the valence of perceived emotion [35], [36]. The asymmetry features were extracted from all mentioned bands except slow alpha. The total number of EEG features of a trial for 32 electrodes is 14×4+32×5=216 features. The total number of EEG features of a trial for 32 electrodes is 216 features. (Table 4 lists the features extracted from the physiological signals.)

TABLE 4 This Table Lists All 102 Features Extracted from Physiological Signals

5.2.2 Eye Gaze Data
After removing the linear trend, the power spectrum of the pupil diameter variation was computed. Standard deviation and spectral features were extracted from the pupil diameter. The Hippus effect is the small oscillations of the eye pupil diameter between 0.05 and 0.3 Hz and with amplitude of 1 mm [37], [38]. The Hippus effect has been shown to be present when one is relaxed or passive. In the presence of mental activity the effect will disappear. The Hippus effect is extracted by the first two power spectral features which are covering up to 0.4 Hz.

Eye blinking was extracted by counting the number of times when eye gaze data were not available, i.e., the moments when eyes were closed. The rate of eye blinking is shown to be correlated with anxiety. From the eye blinks, the eye blinking rate, the average and maximum blink duration were extracted as features. In addition to the eye blinking features the amount of time each participant spent with his/her eyes closed was also used as a feature to detect possible eye closing due to unpleasant emotions.

Although participants were asked not to move during experiments, there were small head movements which manifested themselves in the distance between participants' eyes and the eye gaze tracker. The distance of participants to the screen and its changes provide valuable information about participants' posture. The total change in the distance of a participant to the gaze tracker, gaze distance, was calculated to measure the possible approach and avoidance. The amount of time participants spent per trial getting close to or far from the screen was computed as well. These features were named approach and avoidance ratio to represent the amount of time participants spent getting close to or going far from the screen. The frequency of the participants' movement toward the screen during each trial, approach rate, was also extracted. Approach and withdrawal are closely related to emotional experiences [39].

The statistical features were extracted from eye gaze coordinates along the horizontal and vertical axes, namely, the standard deviation, Kurtosis, and skewness of horizontal and vertical projected eye gaze. Moreover, the power spectral density in different bands was extracted to represent different oscillations the eye gaze pattern (see Table 5). These bands were empirically chosen based on the spectral changes in eye gaze movements. Ultimately, 38 features were extracted from the eye gaze data. The features extracted from eye gaze data are listed in Table 5.

TABLE 5 This Table Lists the Features Extracted from Eye Gaze Data for Emotion Recognition
Table 5- 
This Table Lists the Features Extracted from Eye Gaze Data for Emotion Recognition
5.3 Rating Analysis
Regarding the self-reports, we computed the multirater Cohen's kappa for different annotations. A fair agreement was found on emotional keywords with the average κ=0.32. For arousal and valence rating, the cross correlation values were computed which was (M=0.40,SD=0.26) for arousal and (M=0.71,SD=0.12) for valence. The keyword-based feedbacks were used to generate each participant's ground truth. The histograms of emotional self-reports' keywords and ratings given to all videos are shown in Fig. 5. In Fig. 5, it is visible that the emotions which were not initially targeted (see Table 3) have the least frequencies.

Fig. 5. - This bar chart shows the frequency of the emotional keywords assigned to all videos.
Fig. 5. This bar chart shows the frequency of the emotional keywords assigned to all videos.
Show All

5.4 Emotion Recognition Results
In order to give the reader some baseline classification results, emotion recognition results from three modalities and fusion of ebest modalities are presented. Two classification schemes were defined: first, along the arousal dimension, three classes of calm, medium aroused, and excited, and second along the valence dimension, unpleasant, neutral valence and pleasant. The mapping between emotional keyword and classes which are based on [14] and are given in Table 6.

TABLE 6 The Emotional Keywords Are Mapped into Three Classes on Arousal and Valence
Table 6- 
The Emotional Keywords Are Mapped into Three Classes on Arousal and Valence
A participant independent approach was taken to check whether we can estimate a new participant's felt emotion based on others. For each video from the data set, the ground truth was thus defined by the feedback given by each participant individually. The keyword-based feedback was then translated into the defined classes. According to this definition, we can name these classes calm, medium aroused, and excited/activated for arousal and unpleasant, neutral valence, and pleasant for valence (see Table 6).

To reduce the between participant differences, it is necessary to normalize the features. Each feature was separately normalized by mapping to the range [0,1] on each participant's signals. In this normalization the minimum value for any given feature is subtracted from the same feature of a participant and the results were divided by the difference between the maximum and minimum values.

A leave-one-participant-out cross validation technique was used to validate the user independent classification performance. At each step of cross validation, the samples of one participant were taken out as test set and the classifier was trained on the samples from the rest of the participants. This process was repeated for all participants' data. An implementation of the SVM classifier from libSVM [40] with RBF kernel was employed to classify the samples using features from each of the three modalities. For the SVM classifier, the size of the kernel, γ, was selected between [0.01,10], based on the average F1 score using a 20-fold cross validation on the training set. The C parameter that regulates the tradeoff between error minimization and margin maximization is empirically set to 1. Prior to classification, a feature selection was used to select discriminative features as follows: First, a one-way ANOVA test was done on the training set for each feature with the class as the independent variable. Then, any feature for which the ANOVA test was not significant (p>0.05) was rejected.

Here, we used three modalities which are peripheral physiological signals, EEG, and eye gaze data. From these three modalities, the results of the classification over the two best modalities were fused to obtain the multimodal fusion results. If the classifiers provide confidence measures on their decisions, combining decisions of classifiers can be done using a summation rule. The confidence measure summation fusion was used due to its simplicity and its proven performance for emotion recognition according to [34].

The data from the 27 participants which had enough completed trials was used. Five hundred thirty-two samples of physiological responses and gaze responses were gathered over a potential data set of 27×20=540 samples; the eight missing ones were unavailable due to not having enough valid samples in eye gaze data.

The F1 scores and recognition rates for the classification in different modalities are given in the Table 7 and Fig. 6. In Table 7, two random level results are also reported. The first random level results represent a random classifier with uniform distribution, whereas the second random classifier (weighted) uses the training set distribution to randomly choose the class. The confusion matrices for each modality and their fusion show how they performed on each emotion class (Table 8). In these confusion matrices the row represents the classified label and each column represents the ground truth for those samples. For all cases, classification on gaze data performed better than EEG and peripheral signals. This is due to the fact that eye gaze is more correlated with the shown content and similar visual features induce similar emotions. The peripheral physiological responses have a high variance between different participants which makes interparticipant classification difficult to perform. Therefore, the classification using peripheral physiological features gave the worst results among these three modalities. This can be reduced in future studies by using better methods to reduce the between participants' variance. The high arousal, “activated,” class was the most challenging class. While EEG and peripheral physiological modalities were completely unable to classify the samples, eye gaze also did not obtain its superior accuracy for this class (see Fig. 5). This might have been caused by the lower number of responses for the emotions assigned to this class. The fusion of the two best modalities, eye gaze and EEG, ultimately outperformed all single modalities.

TABLE 7 The Recognition Rate and F1 Scores of Emotion Recognition for Different Modalities and Fusion of the Two Best Modalities, EEG and Eye Gaze
Table 7- 
The Recognition Rate and F1 Scores of Emotion Recognition for Different Modalities and Fusion of the Two Best Modalities, EEG and Eye Gaze
Fig. 6. - This bar chart shows the F1 score for classification results of each class from different modalities.
Fig. 6. This bar chart shows the F1 score for classification results of each class from different modalities.
Show All

TABLE 8 Confusion Matrices of Different Classification Schemes (Row: Classified Label; Column: Ground Truth)

SECTION 6Implicit Tagging Experiment
In this section, we describe the implicit tagging experiment paradigm, analysis methods, and experimental results. Two modalities were used to predict the correctness of displayed tags, namely, facial expression (captured by a camera) and the eye gaze location on the screen (captured by an eye gaze tracker). The results presented in this section are limited to the static images only. The sequences with tagged videos were not processed. In total, we analyzed 756 data sequences of 27 participants with the goal of recovering the correctness of the displayed tags. The average sequence length was 5s. The method utilized for facial expression analysis and its results were previously published in [41].

6.1 Implicit Tagging Experiment Paradigm
In this second experiment, 28 images and 14 video fragments were subsequently shown on their own and accompanied by a word tag. Once using a correct tag and once using an incorrect tag. The videos were chosen from the Hollywood human actions database (HOHA) [3] and were between 12 and 22 seconds long (M=17.6s,SD=2.2s). For each trial, the following procedure was taken:

Untagged Stimulus: The untagged stimulus was displayed (still images were shown during 5 seconds). This allowed the participant to get to know the content of the image/video.

Tagged Stimulus: The same stimulus was displayed with tag (still images were shown during 5 seconds). The participants' behavior in this period contained their reaction to the displayed tag.

Question: A question was displayed on the screen to ask whether the participant agreed with the suggested tag. Agreement or disagreement was expressed by pressing a green or a red button, respectively.

Only the color video capturing the frontal view of participants' faces was used in the analysis (see Fig. 1a). The length of each trial was about 11 seconds for images, and slightly more than double the stimulus' length in case of videos. The recording of each participant was segmented in three sets of 28 small clips, according to the order in which the images/videos were presented. Each fragment corresponds to the period between the time point when the stimulus appears and the point when the participant has given his/her feedback. Running of the second experiment's protocol took in average 20 minutes, excluding the setup time.

6.2 Facial Expression Analysis
To extract facial features, the Patras-Pantic particle filter [42] was employed to track 19 facial points. The initial positions of the 19 tracked points were manually labeled for each video and then automatically tracked for the rest of the sequence. After tracking, each frame of the video was represented as a vector of the facial points' 2D coordinates. For each frame, geometric features, f1 to f20, were then extracted based on the positions of the facial points. The extracted features are:

Eyebrows: Angles between the horizontal line connecting the inner corners of the eyes and the line that connects inner and outer eyebrow (f1, f2), the vertical distances from the outer eyebrows to the line that connects the inner corners of the eyes (f3, f4) (see Fig. 7a).

Eyes: Distances between the outer eyes' corner and their upper eyelids (f5, f9), distances between the inner eyes' corner and their upper eyelid (f6, f10), distances between the outer eyes' corner and their lower eyelids (f8, f12), distances between the inner eyes' corner and their lower eyelids (f7, f11), vertical distances between the upper eyelids and the lower eyelids (f13, f14) (see Fig. 7b).

Mouth: Distances between the upper lip and mouth corners (f15, f16), distances between the lower lip and mouth corners (f18, f18), distances between the mouth corners (f19), vertical distance between the upper and the lower lip (f20) (see Fig. 7c).

The line that connects the inner eye corners was used as a reference line since the inner eye corners are stable facial points, i.e., changes in facial expression do not induce any changes in the position of these points. They are also the two most accurately tracked points. For each sequence, the listed 20 features were extracted for all the frames. The difference of these 20 features with their values in a neutral frame was used in further processing.

Fig. 7. - The tracked points and features.
Fig. 7. The tracked points and features.
Show All

6.3 Analysis of Eye Gaze
Gaze fixations are the coordinates of the points on the display on which the eye gaze stayed fixed for a certain period of time. Each fixation is composed of its duration as well as the two-dimensional coordinates of the projection of the eye gaze on the screen. An example of an eye gaze pattern and fixations points on an image is shown in Fig. 8. The features extracted from eye gaze are listed in Table 9.


Fig. 8. An example of displayed images is shown with eye gaze fixation and scan path overlaid. The size of the circles represents the time spent staring at each fixation point.
Show All

TABLE 9 This Table Lists the 19 Features Extracted from Eye Gaze Data for Implicit Tagging
Table 9- 
This Table Lists the 19 Features Extracted from Eye Gaze Data for Implicit Tagging
6.4 Classification Methods
We have chosen Hidden Markov Models (HMMs) to classify the facial expression sequences according to the correctness of the displayed tags. HMMs have been commonly used for modeling dynamic sequences. For a more detailed description of the utilized HMM framework for facial expression analysis, see the early work on facial-expression-based implicit tagging [41].

As shown in [43], a temporal facial movement consists of four states:

neutral—there are no signs of muscular activation;

onset—the muscular contraction begins and increases in intensity;

apex—a plateau where the intensity reaches a stable level;

offset—the relaxation of muscular action.

Based on these states, the number of modeled states in the HMM was set to four. We chose the ergodic topology, in which all the states are connected with each other. This means that it is possible to jump from any of the four states to any other. The initial state and transition probabilities were randomly chosen. The emission probabilities were modeled by a mixture of two Gaussians with diagonal covariance matrices. For the implementation of the utilized HMM, the HMM toolbox for MATLAB was used. For each participant, two HMMs were trained: one for the participant's facial responses when the image with a correct tag was displayed and the other for when the incorrect tag was shown. The correctness of the displayed tags was predicted by comparing the likelihood of these two HMMS. The performance of the classification was investigated by a 10-fold cross validation.

Adaboost was employed for the classification of eye gaze data. The general idea of Adaboost is to combine a group of weak classifiers to form a strong classifier. A set of classifiers were trained sequentially and then combined [44]. The later generated classifiers focused more on the mistakes of the earlier classifiers. Let (x1,y1),(x2,y2),…,(xn,yn) denote the instances we have. For the gaze data, each xi→ is a 19-dimensional feature vector and yi=−1,+1 is its associated label. The weak classifiers used in this paper are decision stumps in the following form:
c(x,i,p,λ)={1−1ifpxi<pλotherwise,(1)
View SourceRight-click on figure for MathML and additional features.in which i,p,λ are the parameters of a decision stump. i is the feature chosen, p is a polarity flag with value 1 or −1, λ is the decision threshold, xi is an instance, and xi is the value of the ith feature of x. The decision stump simply chooses a feature from the instance and then compares its value to a threshold. The algorithm takes two parameters: the data set and the number of iterations T. It generates a sequence of weak classifiers and combines them with weights
H(x)=∑t=1αtht(x).(2)
View SourceRight-click on figure for MathML and additional features.At each iteration, Adaboost chooses the decision stump that minimizes the weighted classification error, which is equivalent to choosing the most discriminative feature. The weight for the weak classifier αt=12ln(1−.gifilont.gifilont) decreases when the error increases. The weights are then updated based on the classification result. A larger weight will be assigned to the misclassified samples at each iteration. This increases the importance of the misclassified sample in the next iteration. For the gaze data, 19 features were chosen to model the gaze pattern.

6.5 Facial Expression Results
At the single participant level, the best predication rate was not better than 62 percent. This led to using a strategy to predict the correctness of the displayed tag by the weighted sum of the predictions made from the behavior of different participants. In this combination, the prediction rate on the training set was used as the combining weight of the prediction based on a single participant. This strategy attenuates the negative effect of participants with less consistent behavior in the measured features.

The results of the fusion of the participants' responses are presented in Table 10. N is the number of classifiers, of which each was trained on a single participant's responses. The classifiers whose weights are among the top N are fused using our proposed method.

TABLE 10 Prediction Rate of Fusing HMM for Facial Expression Analysis and Fusing Adaboost for Eye Gaze Analysis
Table 10- 
Prediction Rate of Fusing HMM for Facial Expression Analysis and Fusing Adaboost for Eye Gaze Analysis
The best result is achieved by using only one classifier, which means only using one participant's data. Note that the results of N=1 and N=2 should always be the same because the classifier with the second largest weight cannot change a binary decision made by the top 1 classifier. The best result of 58 percent is worse than the best prediction rate on a single participant, which is 62 percent. The prediction rate decreases as the number of participants increases, which implies that the number of effective participants is very limited.

6.6 Eye Gaze Results
Using the gaze responses at the single participant level, the best prediction rate using Adaboost was 66 percent. Here, the same combination strategy was employed to combine multiple participants' responses to detect the correctness of tags.

The result of combining Adaboosts from different participants is presented in Table 10. N is again the number of participants used. When N is equal to 1 or 2, the results are slightly lower than the best result on the single participant. This might be due to the selection of overfitted participants from the training set. The performance of those ineffective participants can be regarded as nearly random guess.

As noted previously, the results for N=1, N=2 are the same. As N goes to 4, the prediction rate increases to 73 percent. Unlike the facial data, combining different participants' gaze responses improves the overall prediction rate. When N is larger than 4, the result starts to deteriorate. This indicates that the number of effective participants is also limited here.

6.7 Modality Fusion
After combining the responses from different participants, the combined classifiers of facial expression and eye gaze were fused at the decision level using a weighted sum of confidence measures. The assigned weights were found based on the performance of fusion on the training set. Since better results were obtained with gaze features, the weight of gaze confidence was set to one and the weight of facial analysis confidence was between [0,1].

The prediction rate improved from 73.2 to 75 percent by combining the facial and gaze results. The best result was achieved when the facial analysis confidence weight was between 0.1 and 0.35, which gives us an estimate of the relative importance of the two modalities. These results show that a participant's facial and eye gaze responses convey information about the correctness of tags associated with multimedia content.

SECTION 7Discussions and Recommendations
To our knowledge, MAHNOB-HCI is the first database which has five modalities precisely synchronized, namely, eye gaze data, video, audio, and peripheral and central nervous system physiological signals. This database can be of interest to researchers in different fields, from psychology and affective computing to multimedia. In addition to emotion recognition from a single modality or multiple modalities, the relations between simultaneous emotion-related activity and behavior can be studied. The high accuracy of synchronization of this database allows studying the simultaneous effects of emotions on EEG and other modalities, and fusing them in any desired way, from decision-level fusion (DLF) down to combined processing at the signal level. As the results reflect, not all recorded modalities are as correlated with the stimuli as the others. For example, there are not enough audio events and the peripheral physiological signals do not give the same emotion recognition results comparing to the eye gaze and EEG signals.

In any emotional experiment, having more trials gives the opportunity for single participant studies. At the same time, longer sessions make participants tired and unable to feel the stimuli emotions. Considering this tradeoff, we found that an upper limit of 20 video fragments was acceptable. Although 20 videos are enough to compute significant correlations, this number of samples is not sufficient for single-participant emotion recognition.

Inducing emotions and recording affective reactions is a challenging task. Special attention needs to be paid to several crucial factors, such as stimuli that are used, the laboratory environment, as well as the recruitment of participants. Our experience can be distilled into a list of recommendations that will enable the development of additional corpora to proceed smoothly.

The experiment environment in the laboratory should be kept isolated from the outside environment. The participants should not be able to see the examiners or hear noise from the outside. The light and temperature should be controlled to avoid variation in physiological reactions due to uncontrolled parameters.

Choosing the right stimuli material is an important factor in any affective study. They should be long enough to induce emotions and short enough to prevent boredom. Furthermore, to be sure variation in stimuli length does not introduce variance in the measurements between emotional and nonemotional stimuli, we suggest the stimuli durations be equal. The mixture of contradicting emotions can make problems for self-assessments. We recommend using videos which do not induce multiple emotions. A correct participant recruitment can make a big difference in the results. Due to the nature of affective experiments, a motivated participant with the right knowledge for filling the questionnaire in is desirable. The rewards can make the participants more motivated and responsible. However, cash compensation might attract participants who are not motivated or lack desired communication skills. Therefore, rewarded recruitment should be done by carefully considering the desired qualifications. Contact lenses usually cause participants to blink more, which introduces a higher level of artifacts on EEG signals. Therefore, participants with visual correction should avoid using contact lenses as much as possible. Thick glasses affect the eye gaze tracker performance. In the experiments in which both these modalities are recorded, recruiting participants with no visual correction is advised. Properly attending to participants takes an important part of one's attention, which can easily lead to forgetting parts of complicated technical protocols. Therefore, operation of the recording equipment during the experiments should be made as simple as possible (preferably just by pressing a single button). Alternatively, the tasks of controlling and monitoring correct data collection and attending to participants can be divided between multiple laboratory assistants with carefully defined procedures.

SECTION 8Conclusions
A multimodal affective database has been recorded and made available to the affective computing community. The large collection of modalities recorded (multicamera video of face, head, speech, eye gaze, pupil size, ECG, GSR, respiration amplitude, and skin temperature) and the high synchronization accuracy between them makes this database a valuable contribution to the ongoing development and benchmarking of emotion-related algorithms that exploit data fusion, as well as to studies on human emotion and emotional expression. Emotion recognition and implicit tagging results from different modalities set a baseline result for researchers who are going to use the database in the future.