VANETs solutions use aggregated graph representation to model the interaction among the vehicles and different aggregated complex network measures to quantify some topological characteristics. This modeling ignores the temporal interactions between the cars, causing loss of information or unrealistic behavior. This work proposes the use of both temporal graphs and temporal measures to model VANETs applications. To verify the viability of this model, we initially perform a comparative analysis between the temporal and aggregated modeling considering five different real datasets. This analysis shows that the aggregated model is inefficient in modeling the temporal aspects of networks. After that, we perform a network evaluation through a simulation by considering the impact of temporal modeling applied to the deployment of RSUs. First, we compare a solution based on our temporal modeling with a greedy algorithm based on an aggregated model to choose the positions of RSUs. In a scenario with 70 RSUs, we have 77% and 65% of coverage in the temporal and aggregated model (greedy algorithm), respectively. Second, we evaluate the use of aggregated and temporal measures applied as features in a genetic algorithm. The approach with temporal betweenness had the better result with 90% of the coverage area against 61% of aggregated one applied to the same scenario.

Keywords
VANETs
Complex networks
Temporal centrality measures

1. Introduction
A Vehicular ad hoc network (VANET) (Naboulsi and Fiore, 2017) consists of groups of moving or stationary vehicles connected by a wireless network. According to their communication radius, the communication occurs among the cars or through a fixed infrastructure along the roads. In both cases, the connection patterns between their elements have a dynamic behavior with the insertion and removal of links over time. It is usual to use a graph representation to model the interaction among the vehicles and different complex network measures to quantify some topological characteristics (Newman, 2010). These measures represent a mathematical and computational framework to understand better non-trivial topological features, like the dynamics of growing a network over time, and to enable the characterization, analysis, and modeling of the network topology based on different features like connectivity centrality, cycles, and distances.

Several VANETs applications and network infrastructure solutions use graph modeling and its measures as a static representation called aggregated modeling (Fiore and Härri, 2008, Diniz et al., 2020, Glacet et al., 2015). In this modeling, all quick contacts among the vehicles are permanent connections. For example, consider that we observed three vehicles 
, 
, and 
 on a VANET for ten minutes at one-minute intervals and obtained the following sequence of contacts between them: (i) 
 with 
 only during minute 1, (ii) 
 with 
 between minutes 2 and 5, and (iii) 
 with 
 between minutes 6 and 10. In this case, the aggregated modeling produces a complete graph among the three vehicles, and, consequently, we calculate the aggregated measures directly over this aggregated graph. This modeling ignores the temporal interactions between the vehicles, causing loss of information or unrealistic behavior.

Some applications and infrastructure solutions adopt temporal modeling to represent the graph and preserve the temporal characteristics (Qiao et al., 2017). In this case, quick contacts among the vehicles generate connections in a time interval , getting different graphs. Considering the previous example with three vehicles, the sequence of contacts in the temporal modeling produces temporal graphs with three disjoint edges 
 at minute 1, 
 during minutes 2 and 5 and 
 during minutes 5 and 10. However, the solutions calculate the average aggregated measures for all graphs in time interval t, losing global time information about the network.

In this way, the novelty of our proposal is the use of temporal models in conjunction with temporal measures to model and evaluate VANETs. To the best of our knowledge, we are the only ones that use these measures in VANETs scenarios. We use the temporal measures proposed by Kim and Anderson (2012): Degree, Betweenness, and Closeness. These measures relate node’s position and its ability to disseminate information efficiently in the network. In addition, they preserve the temporal relationships of the network. We perform a comparative analysis between the complete temporal (graph and measures) and aggregated modeling based on these measures.

To quantify the impact of temporal modeling compared with the aggregated one, we consider four static analyses: i. Quantification of the number of vertices and edges; ii. Kolmogorov–Smirnov test (KS-test) (Massey, 1951); iii. Hellinger distance (Basu et al., 2010); and iv. Visual scatter plot behavior. In all cases, we apply the temporal model to follow real scenarios: Cologne dataset (Naboulsi and Fiore, 2013) representing the car traffic in an urban area of Cologne, Germany; Motorway M40 (Gramaglia et al., 2016) representing part of the intermediate layer of the Madrid city; Autovía A6 (Lébre et al., 2015) representing the Motorway that connects the city of A Corunã to the city of Madrid; Créteil 7 am–9 am and Creteil 5 pm–7 pm Lébre et al. (2015) representing Créteil, Val-de-Marne (94) in France. The results show that the aggregated model is inefficient in modeling the network’s temporal aspects.

We also perform a network evaluation through a simulation by considering the deployment of Road Side Units (RSU) application (Moura et al., 2018). In this evaluation, we use both temporal and aggregated models to extract the features used by each algorithm evaluated and compare them using the temporal and aggregated modeling. We use only the Cologne scenario to perform this evaluation because it is a large-scale dataset that comprises more than 250.000 vehicle routes with varied road traffic conditions. We first compare our strategy with a greedy algorithm to choose the RSUs’ positions. This algorithm uses a contact matrix  to perform the solution. Thus, we generate  based on aggregated and temporal graphs. In a scenario with 70 RSUs, we have 77% and 65% of coverage in the temporal and aggregated model, respectively. After that, we compare aggregated modeling against the temporal ones as features in the genetic algorithm proposed by Moura et al. (2018). This algorithm considers a preprocessing based on different centrality measures. Thus, we evaluate both aggregated and temporal measures in specifics scenarios. The approach with temporal betweenness had the best result with 90% of the coverage area against 61% of aggregated one applied to the same scenario. The evaluation showed that the temporal model is adequate because it truly captures the network behavior.

We organized the remainder of this paper as follows: Section 2 gives an overview of the main related work. Section 3 describes the temporal VANETs topology modeling. Section 4 shows the evaluations and experiments. Finally, Section 5 presents the conclusion and future work.

2. Related work
Researchers using a complex network framework in VANETS show the deficiency of availability, connectivity, reliability, and navigability of these networks and reveal the risks of relying on simplistic models for vehicular mobility. These studies generally use models that do not consider the vehicular networks’ temporal relationships, showing the need to use more realistic models for these networks is necessary. Additionally, centrality measures are crucial for understanding the structural properties of complex relational networks and are also relevant for various spatial factors affecting human life and behaviors in cities (Crucitti et al., 2006). Other studies use the measures information to improve the application infer, for instance, using clustering measure in Quality of Service(QoS) or Security decision (Wahab et al., 2013a, Wahab et al., 2016). These theoretical analyses are helpful to understand the structural characteristics of these networks.

As mentioned previously, several VANETs applications and network infrastructure solutions use graph modeling and its measures to represent their behavior or extract application features. In this way, some works model the VANETs as an aggregated graph without considering any complex network measures. Elaraby and Abuelenin (2021) study the problem of estimating the probability of connectivity in vehicular ad hoc networks (VANETs). They discuss the Laplacian eigenvalue and Adjacency exponent approaches to model VANETs connectivity analysis. Bedogni et al. (2018) provide helpful guidelines for evaluating and predicting the performance of vehicular networks using an aggregated graph. They analyzed a real-world GPS trajectory dataset in a vehicle to vehicle networks. Feng and Xu (2016) and Chen et al. (2014) empirically investigate the evolution of spatial–temporal characteristics vehicular environments using mobility data from Shanghai.

We also find additional works using combined aggregated graphs and aggregated complex network measures to model and evaluate VANETs. Moura et al. (2018) and Wang et al. (2017) present different strategies to the RSU problem based on centrality measures. Naboulsi and Fiore (2017) present a topology analysis of two networks from Colony in Germany and Zurique in Switzerland. They show that these networks are poorly connected and, with availability and reliability, very weak. Youji et al. (2016) use the average degree, clustering coefficient, and global efficiency to analyze the topology and verify that the edge perturbations have an immediate effect on the characteristics of the topology. Loulloudes et al. (2015) provide a “higher-order” knowledge in the time-evolving dynamics of vehicular networks in large-scale urban environments through complex network analysis. Fiore and Härri (2008) present an in-depth analysis of the topological properties of a vehicular network, unveiling the physical reasons behind the peculiar connectivity dynamics generated by some mobility models. Crucitti et al. (2006) compare samples of various world cities, presenting a study of the centrality distributions over geographic networks of urban streets with five measures: centrality, degree, closeness, betweenness, straightness, and information.

On the other hand, different VANETs applications analyze the topology characteristics of mobility from a temporal perspective using temporal graph modeling with aggregated measures. Diniz et al. (2020) use three approaches to model the vehicular networks: instantaneous, aggregated, and time-varying analysis to verify which method can achieve the highest reliability and accuracy. They explore two real traces from Rome and San Francisco city and discussed different aggregated metrics that can reveal the fundamental properties of the network. They verify that instantaneous and time-varying models have the same behavior for the aggregated measures evaluated. Qu et al. (2020) apply complex network theory to capture the dynamics of the VANET and obtain the analytic definitions of the degree distribution (aggregated). Celes et al. (2018) present a comparison of graphs used in modeling mobility showing the strengths and weaknesses of current approaches in the characterization and analysis of vehicular network topology. Glacet et al. (2015) show that storage and transport mechanisms share the information efficiently. Several studies explore the temporal aspects of VANETs, for instance, vehicle mobility (Ho and Leung, 2007, Shioda et al., 2008).

The only work that uses, discretely, temporal measures in a specific application is the proposed by Qiao et al. (2017). They explore structural features on a taxi dataset in Beijing with 2927 vehicles. They use a temporal model based on the shortest time-ordered path to calculate efficiency and closeness measures. They conclude that the results can help create protocols and algorithms to achieve reliability and low latency of communications networks. However, they do not present a complete analysis of the impact of temporal modeling. Additionally, our work evaluates five different datasets with distinct characteristics (speed, lane, or congestion levels), allowing us to analyze different views of traffic conditions, and applies the temporal measures in a well-established solution presenting its better performance.


Fig. 1. Aggregate Graph  obtained from the graphs 
, 
, and 
 of  with time interval .

Table 1 present a qualitative comparison of the literature review with our proposal. It lists the manuscripts that consider graphs (aggregated and temporal) and metrics of complex networks (aggregated and temporal) in their applications, evaluations, or comparison. In Table, we list the real (R) and synthetic (S) scenarios; aggregated (A) and temporal (T) graphs; degree (D), closeness (C) and betweenness (B) aggregated measures; and degree (TD), closeness (TC) and betweenness (TB) temporal measures.


Table 1. Qualitative comparison of presented works with our proposal.

Literature	Scen.	Graph	Measures
R	S	A	T	D	C	B	TD	TC	TB
Elaraby and Abuelenin (2021)	✓	–	✓	–	–	–	–	–	–	–
Bedogni et al. (2018)	–	✓	✓	–	–	–	–	–	–	–
Feng and Xu (2016)	–	✓	✓	–	–	–	–	–	–	–
Chen et al. (2014)	–	✓	✓	–	–	–	–	–	–	–
Moura et al. (2018)	✓	–	✓	–	–	–	✓	–	–	–
Wang et al. (2017)	–	✓	✓	–	✓	✓	–	–	–	–
Naboulsi and Fiore (2017)	✓	–	✓	–	✓	–	✓	–	–	–
Youji et al. (2016)	–	✓	✓	–	✓	–	–	–	–	–
Loulloudes et al. (2015)	✓	–	✓	–	✓	–	✓	–	–	–
Fiore and Härri (2008)	–	✓	✓	–	✓	–	–	–	–	–
Crucitti et al. (2006)	–	✓	✓	–	✓	✓	✓	–	–	–
Diniz et al. (2020)	✓	–	✓	✓	✓	✓	✓	–	–	–
Qu et al. (2020)	✓	–	–	✓	✓	–	–	–	–	–
Celes et al. (2018)	✓	–	✓	✓	✓	✓	–	–	–	–
Glacet et al. (2015)	–	✓	–	✓	✓	–	–	–	–	–
Ho and Leung (2007)	–	✓	–	✓	✓	–	–	–	–	–
Shioda et al. (2008)	–	✓	–	✓	✓	–	–	–	–	–
Qiao et al. (2017)	✓	–	–	✓	–	–	–	–	✓	–
Present work	✓	✓	✓	✓	✓	✓	✓	✓	✓	✓
3. Temporal VANETs modeling
We are modeling the vehicular topology as a temporal graph and characterize it with temporal centrality measures. The centrality measures are suitable to relate the position of a node in the VANETs with its ability to disseminate information efficiently. In our model, the vehicular network is a temporal, undirected, and unweighted graph. The temporal characteristic defines that the vehicular network is alive from the start time 
 until the end time 
. Let  be a series of static graphs 
; 
 is the set of vehicles; and 
 is the set of disjoint subsets 
. Each 
 is the set of edges in 
, with ; and 
 is a temporal edge. The 
 exists, if we have a path between 
 and 
 in the instant , thus edges are added and/or removed over time (Kim and Anderson, 2012). The size of , or the number of temporal edges, is 
. Based on this description, an aggregated graph  is the composition 
 of static ones (Kim and Anderson, 2012), i.e., 
 is the set of vehicles; and 
 is the set of aggregated edges. Fig. 1 illustrates an aggregated graph and the statics used to compose the temporal ().

Over , we apply different temporal measures (degree, closeness, and betweenness). In all definitions of temporal measures, we always consider a generic time interval 
, and we use the aggregated measures as Ref. Costa et al. (2008).

Temporal degree centrality is the number of edges incident to the vertex  in the time interval 
, defined by (Kim and Anderson, 2012) (1)

Fig. 2 shows the edges considered to calculate the temporal degree the centrality of vertex 
 in temporal graph  in the time interval , in this case 
.

Temporal closeness centrality is a way of detecting nodes that can spread information efficiently through a graph and quantify its average distance to all other nodes. Nodes with a high closeness score have the shortest distances to all other nodes. Kim and Anderson (2012) defined as: (2)
 
where 
 is a temporal shortest path between , i.e., is a sequence of temporal edges which connect  and  in the time interval 
 such that no shorter path exists.



Fig. 2. Temporal edges to calculate the degree of vertex 
 in temporal graphs in the interval time .

If there is not temporal path from  to  on a time interval , we consider 
 and we assume . The normalization factor is , where  is the number of time interval, so .

Fig. 3 shows the edges considered to calculate closeness of vertex 
. To calculate 
 we consider the intervals  and . In the interval  the minimum paths are 
, 
, 
 and 
, in interval  node 
 is disconnected so we have a loop at vertex 
 and the minimum paths are 
, 
, 
 and 
 and in the last interval  we have 
, 
, 
 and 
. In this way 

Temporal betweenness centrality quantifies the extent to which a vertex lies on paths between other vertices. Thus, vertices with high betweenness may have considerable influence over the information passing between nodes. Besides that, removing these nodes from the network can disrupt communications between other vertices (Newman, 2010). Kim and Anderson (2012) defined as: (3)
 
where 
 is the set of temporal shortest paths between  and  in the interval 
 and 
 is the number of temporal shortest paths that pass through vertex . The normalization factor is , where 
,  is the number of nodes  that has the shortest path start in  passing through , and  is the number of nodes  with the shortest path that finishes in  and passes through .



Fig. 3. Temporal edges to calculate the closeness and betweenness in the interval time .

Fig. 3 shows the edges considered to calculate Betweenness of vertex 
. To calculate 
 we consider the intervals  and . In this case, 
, 
 and 
, so 
, where the normalization factor to vertex 
 is .

4. Evaluations and experiments
We show the temporal modeling impact by representing the VANETs connectivity with temporal graphs and characterize them with temporal centrality measures. Initially, we directly apply the temporal modeling in five real data and evaluate it statically. After that, to perform a dynamic evaluation through a simulation, we consider the deployment of Road Side Units (RSU) application.

4.1. Scenarios description
In our evaluations, we use five different real datasets. The datasets have distinct characteristics (speed, lane, or congestion levels), allowing us to analyze different views of traffic conditions. Table 2 shows the general properties of each scenario: number of vehicles(), number of aggregated edges(), number of temporal edges(). The datasets represent four different scenarios described as follows.

Cologne:
Naboulsi and Fiore (2013) present a realistic synthetic dataset that reproduces the car traffic in the greater urban area of Cologne, Germany. The synthetic data closely matches real-world road traffic, both in terms of volume and locality. They extracted the street layout and features from the OpenStreetMap (OSM) repository1; the Simulation of Urban Mobility (SUMO)2 software used to simulate the microscopic behavior of individual drivers (Naboulsi and Fiore, 2013). The dataset spans over 2 h (6 am–8 am) of a typical workday and encompasses 4500 km of roads in an area of 400 km
, with per-second information on the position and speed of vehicles involved in more than 700 000 trips. We generated 25 static graphs every 288 s (over two hours) for temporal network modeling.

Motorway M40:
It is part of the intermediate layer of Madrid city (Gramaglia et al., 2016, Lébre et al., 2015). It has an average distance of 10,7  from the city center and traverses both the municipality’s peripheral areas and several surrounding minor cities. The synthetic traces are composed of one day-long trace describing road traffic over sixteen traces (with 30 min) of vehicular mobility along the road for different days and hour combinations. The traces record the position of each vehicle at every 500 ms. In this scenario, we generated 20 static graphs every 60 s for temporal network modeling.

Autovía A6:
It is a Motorway that connects the city of La Corunã to Madrid. It enters the urban area from the northwest, collecting the traffic demand of the conurbation built along with it (Gramaglia et al., 2016, Lébre et al., 2015). Also, as the M40 trace, the A6 describes road traffic over sixteen traces of 30 min, for different days and hour combinations. The traces record the position of each vehicle at every 500 ms over a 10 km road stretch. We generated 20 static graphs every 60 s for temporal network modeling.

Créteil 7 am–9 am and 5 pm–7 pm:
It based on real traffic of Créteil in France (Lébre et al., 2015). It is a synthetic trace that includes a roundabout with six entrances/exits, two or three lanes roads, one bus road, four changing-lane spots, 15 traffic lights. It comprises around 10 000 trips, over rush hour periods of two hours in the morning (7 am to 9 am) and two hours in the evening (5 pm to 7 pm). We study each period separately, i.e., each period is a different scenario in our study. The authors used the OpenStreetMap database to obtain the street layout. They derived the traffic demand information on the traffic flow from counting and camera video analysis. The traffic assignment of the vehicular flows is performed by Gawron’s dynamic user assignment algorithm (Gawron, 1998), included in the SUMO. We generated 25 static graphs every 90 s for temporal network modeling.

Each scenario presents different characteristics useful in our analyses: i. Based on complex network analysis, Cologne presents low connectivity, availability, reliability, and navigability (Naboulsi and Fiore, 2013). Also, the structure of this vehicular network has small cliques loosely connected; ii. Motorway M40 and Autovía A6 have a significant variability of vehicular connectivity over time and space and their invariant correlation with vehicular density. The network is more fragmented on A6 than on M40 (Lébre et al., 2015); and iii. Créteil 7 am–9 am and Créteil 5 pm–7 pm present different traffic characteristics in traffic measures (i.e., density, flow, and speed).


Table 2. The general properties of each scenario.

Scenario			
Cologne	3558	54 268	59 769
Motorway M4	2012	33 731	93 336
Autovía A6	1507	24 098	68 128
Créteil 7–9 AM	3129	35 700	71 412
Créteil 5–7 PM	2968	30 347	60 694
4.2. Static evaluation of temporal modeling
To quantify the impact of temporal modeling compared with the aggregated one, we consider four static analyses: i. Quantification of the number of vertices and edges; ii. Kolmogorov–Smirnov test (KS-test) (Massey, 1951); iii. Hellinger distance (Basu et al., 2010); and iv. visual scatter plot behavior. In all cases, we model the real scenarios presented above.

In all cases, we use V2V communication among vehicles within a fixed communication radius of 100  (Basagni et al., 2004). We perform the static evaluations in Fedora 18 (Spherical Cow), with 32 processors Intel(R) Xeon(R) CPU  2.60 GHz, and 128 GB RAM. We use the programming languages R (R Core Team, 2016) and Python (Available on https://www.python.org/) to perform the statistical analysis. We use the packages plyr (Wickham, 2011), igraph3 (Csardi and Nepusz, 2006), and time-ordered (Blonder, 2015). They have efficient R/Python modules for manipulation and statistical analysis of graphs and offer methods to incorporate time into network analysis and the construction of temporal graphs.

In the first analysis, we observe the variations of the network topology. Fig. 4 illustrates the variation of the number of vertices and edges for the Cologne scenario (denser) in a temporal graph in the interval time . The aggregated modeling presents a higher number of edges (
). However, this number has a high variation along time, as observed in the temporal graph in Fig. 4b. This observation indicates that aggregated modeling does not identify topological temporal information.

Based on this initial observation, we perform the second and third analyses. The KS-test is a non-parametric test to compare two samples, quantifying a distance between two samples’ empirical distribution functions. It verifies if the local measures’ distributions (, , and ) of the aggregated and temporal modeling are the same. The null hypothesis is 
In this test, we found a -value 
 for all cases, so we rejected the null hypotheses. In detail, the Kolmogorov–Smirnov test, 
, the null hypothesis is rejected at the  level if (Massey, 1951) 
, where (4)
 
  is the samples’ size of each distribution, i.e., the number of nodes of networks. The value of  is 1.36 (Massey, 1951) representing a  (95% of confidence). Table 3 shows the distance values between aggregated and temporal models for the degree (
), closeness (
), and betweenness (
) measures; and the value of factor  for the five evaluates scenarios. As we can see, 
 is greater than the factor  in all cases.


Fig. 4. Number of static vertices and edges for Cologne scenario in the interval .

The KS-test statistic is cumulative, i.e., it accentuates low-frequency differences between the measures of aggregated and temporal models. In the betweenness case, we can distinguish this difference among the presented scenarios. For example, the aggregated vs. temporal (
) representation of the Motorway is more similar than Cologne one.


Table 3. Kolmogorov–Smirnov distance values between aggregated and temporal graph for the degree (
), closeness (
), and betweenness (
) measures for the five evaluate scenarios.

Scenario	
Cologne	0.9229	1.0000	0.7745	0.0322
Motorway M40	0.9950	1.0000	0.4602	0.0428
Autovía A6	0.9827	1.0000	0.4731	0.0495
Créteil 7 am–9 am	0.9041	1.0000	0.8590	0.0343
Créteil 5 pm–7 pm	0.9154	1.0000	0.8679	0.0353
The other analysis performed, the Hellinger distance, is a distance used to identify the similarity between two probability distributions based on information theory concepts. This measure quantifies the similarity between two probability distributions. Thus it ensures that the distance value is always between 0 and 1 and got a more precise result. Consider the discrete random variables  and  defined on the same sample space 
. The distributions are characterized by their probability functions , where 
 and 
. The Hellinger distance is (5)
 

By definition, the Hellinger distance is a metric satisfying triangle inequality. The  in the definition ensure that  for all probability distributions. In this work, our sample is the centrality measures probabilities. To get a probability for each measure, we generate a histogram of proportions with 100 bins for each measure evaluated. We choose the number of bins empirically by testing with 20, 40, 60, 100 (the best fit), 150, and 200 bins. Table 4 presents the values of Hellinger distance for all scenarios and measures evaluated. In general, we observe that the distance captured differences between the models with the measures evaluated.

Values for the degree (
) were smaller than 0.5 for all scenarios. Results for the Créteil present lower values (0.0077 and 0.0000) than the previous scenarios. This scenario has a high traffic demand and represents a small part of the street. Such features affect the network structure and the direct connectivity of vehicles, i.e., high connectivity. Based on this measure, the aggregated and temporal models are similar. Values for the closeness (
) were over 0.7 for the Autovía A6 and Créteil 7 am–9 am and Créteil 5 pm–7 pm scenarios. The highest value was 0.9603 in Autovía A6, and this scenario has a small number of vehicles and a significant number of edges distributed in a small area, so the number of edges in the aggregated graph is approximately three times more than a temporal graph. The smallest values for the betweenness (
) was 0.0905 for Cologne. This scenario has a very different topology from other ones, where the shortest paths in the temporal graph have a similarity to the shortest paths in the aggregated graph.


Table 4. Hellinger distance values between aggregated and temporal graph for the degree (
), closeness (
) and betweenness (
) measures for the five evaluates scenarios.

Scenario	
Cologne	0.2524	0.4373	0.0905
Motorway M40	0.2533	0.4654	0.5370
Autovía A6	0.3580	0.9603	0.4897
Créteil 7 am–9 am	0.0077	0.7351	0.2382
Créteil 5 pm–7 pm	0.0000	0.7407	0.3665


Fig. 5. Scatterplot of temporal vs. aggregated models: (a)–(c) Degree; (d)–(f) Closeness; and (g)–(i) Betweenness.

It is essential to point out that the measure used to characterize vehicular networks depends not only on the network topology but on the traffic density and network size. Another critical point is the information that we can assess from distributions and their correlation with topological structures. The network’s average degree is immediately obtained from the degree distribution, while closeness and betweenness use the distance distribution. Different from KS-test, we can distinguish better the impact of the aggregated model in the presented scenarios.

Finally, we analyze our modeling through a scatter plot. It shows the measures’ correlation between aggregated and temporal modeling. We are not interested in whether the correlation between the two measures is positive or negative, but only how strongly the two given measures are numerically related to each other. Fig. 5 presents the correlation between the aggregated model (represented on the X-axis) and the temporal one (represented on the Y-axis) regarding degree, closeness, and betweenness, respectively.

As presented in Figs. 5a–5c, there is a positive correlation, but it is not more durable, showing a difference between the aggregated and temporal models regarding degree. Otherwise, as we can see in Fig. 5c, Créteil 7am-9am has a strong positive correlation. When the aggregated degree increases, the temporal degree increases as well, so we can show that in this case, the temporal and aggregated networks have the same behavior, stating the result obtained by Hellinger distance. It is essential to highlight that the degree is a straightforward measure in studying the topology of networks, and its calculation in both models lost much information (Eq. (1)). Some works use degree nodes to determine route strength (Hashim et al., 2013, Wang and Lin, 2013, Zheng et al., 2014). In the aggregated graph, a vertex can be identified with a high connection in the wrong way since, by considering the temporal order of the edges, the high link is in a single moment. Thus, by aggregating the network, temporal relations are ignored, and we consider weak vertices as a great disseminator of information.

Figs. 5d–5f present the correlation between the aggregated and temporal closeness. A vehicle with a high value of temporal closeness centrality indicates that we can quickly reach other vehicles from it. Thus, vehicles that have high closeness centrality values can be selected as influence nodes to forward information. In this case, we identify no relationship between aggregated and temporal closeness because there is no clear relationship between two quantitative variables; this is because the shortest paths in an aggregated graph are entirely different in the temporal dimension. The paths are shortest in the aggregated graph because they abstract the time and interaction between the vertices. Also, the paths are shorter because the temporal interaction between the vertices is overlapping. Thus, we can conclude that the shortest paths in a temporal graph follow the links’ chronological order, which does not coincide with the shortest paths in an aggregated graph.

Figs. 5g–5i illustrate a relationship between the aggregated and temporal betweenness to Cologne, Autovía A6, and Créteil 7 am–9 am, respectively. In this case, the scatter plot’s non-structural appearance leads to the summary conclusion that there is no apparent correlation between aggregated and temporal betweenness. Nodes with high betweenness have greater control and considerable influence over the network, as more information will pass through these nodes, making them essential for directing network information exchange. Note, in Fig. 5g, the behavior of betweenness in the Cologne scenario. There is no relationship between variables, but Hellinger’s distance is 0.0905, which contradicts the result seen graphically; this happens because, in this scenario, there are a tiny amount of nonzero values. This behavior impacts the speed of the information dissemination process that we overlooked when network aggregation occurs, i.e., a node can always take part in all the shortest paths in the graph. On the other hand, in the temporal graph, this iteration can occur in a short time. Thus, the aggregated graph abstracts temporal edges that influence the network’s topology and are only visible when modeled as a temporal one.

4.3. Dynamic evaluation of temporal modeling
We hypothesize that the temporal model is more efficient than the aggregated model. In this way, this work considers the deployment of Road Side Units (RSU) application to quantify the impact of temporal modeling compared with the aggregated one in a dynamic and simulated environment. A solution to deploy RSUs provides affordable Internet access to connected vehicles and extends the vehicular network coverage (VANETs) (Naboulsi and Fiore, 2017). The deployment of RSUs is essential to design an efficient dissemination system for vehicular environments. Several solutions use the vehicular network topology to decide where to install the RSUs. The vehicular topology is naturally temporal, i.e., it changes at each instant time. However, the vehicular topologies are modeling as an aggregated graph. We identify previously that this assumption does not allow an adequate representation. Thus, we evaluate this application modeling the topology as a temporal graph instead of the usual one.

There are different strategies adopted in the literature to find RSUs positioning in VANETs (Moura et al., 2018). Generally, they want to choose a set of intersections that optimize the vehicles’ coverage time at the dissemination points. This problem considers an area of an urban road topology, a set of vehicles that transit over the area considered during a given period, a group of intersections between the roads, a subset of vehicles passing each intersection with a minimum contact time of . The goal is to select  intersections to install a set of RSUs to maximize the number of vehicles covered during a time threshold.

We apply the classical greedy algorithm to deploy the RSUs problem (Trullols et al., 2010) considering temporal modeling. Our goal is to show the greedy algorithm robustness when we model the VANET topology as a temporal graph. We use only the Cologne scenario to perform the analysis because it is a large-scale dataset that comprises more than 250.000 vehicle routes with varied road traffic conditions.

4.3.1. Greedy solution overview
Many solutions are available in the literature to maximize the number of vehicles covered by  RSUs. We use the traditional approach proposed by Trullols et al. (2010). The authors model the problem as a Maximum Coverage with Time Threshold Problem (MCTTP). Let 
 be a set of vehicles that transit over the area considered during a given period; 
 is a collection of  sets, where  is the number of intersections between the roads; each set 
 includes all vehicles that cross intersection  at least once over the observation period. Let  be a matrix , where  is the number of intersections, and  is the vehicle number. We generate the contact matrix  in different ways to aggregated () and temporal () graphs.

•
We generate the 
 based on the sum of contact times between vehicles and intersection over a set of aggregated graphs. We aggregated a set of static graphs every 320 s and calculated the sum of contact times considering V2I communication.

•
We generate the 
 considering the entire time interval (7200), so each element 
 is the sum of all contact times that the vehicle  remained at the intersection , i.e., 

Figs. 6–7 show the contact matrices 
 and 
 for aggregated and temporal graph, respectively, with   5 seconds. In this example, we generate the matrix 
 by aggregating the entire time interval from 1 to 3 s. Otherwise, the matrix 
 is generated consider all contact time in the interval from 1 to 3 s. As a result, the contact time to vertex  considering the intersection 
 is 
 and 
.

Trullols et al. (2010) formulate an integer linear problem named Maximum Coverage with Time Threshold Problem (MCTTP). The MCTTP selects  intersections to install a subset of RSUs in order to maximize the number of vehicles covered during a time threshold: (6)
s.t.: (7)
where 
 is one if there is an RSU in the intersection i, and 0 otherwise (Eq. (6)). We place an RSU at an intersection to maximize the number of covered vehicles, taking into account a contact time of vehicle up to a maximum value equal to  (in this work, we consider  s Trullols et al., 2010). The constraint in Eq. (7) instead limits the number of RSUs to . One or more RSUs may cover the vehicles; in the first case, we have only one contact time; in the second, the vehicle contact time is fragmented, i.e., the total contact time is the sum of the contacts among the vehicle and the RSUs.



Fig. 6. Contact matrix to the aggregated and the temporal graph.



Fig. 7. Vehicles and intersections interactions in the time interval .

The greedy algorithm 1, denoted by MCTTP-g, solves the MCTTP problem. It picks an intersection at each step to maximize the provided coverage time (Trullols et al., 2010). The algorithm’s input is the number of RSUs  to install, a candidate set , the contact time , and the matrix of contact time . The output is the set of RSUs to install .


Let 
 be the total contact time provided by intersection , considering for each vehicle an amount such that the vehicle’s coverage time does not exceed the threshold. Lines 5–7 select 
 that maximizes 
, removing from  and adding a greedy solution . The algorithm ignores the vehicles that have reached the minimum time and complete the transmission in time . If the vehicle stays time in intersection  not sufficient for transmission, we stored this value in a vector 
 (Line 8), and we calculate the time to complete the transmission (
) in the next iteration (Line 4).
After  intersections selected, or when , the algorithm returns the set of selected RSUs . Thus, we consider this algorithm to solve the MCTTP problem and analyze the positioning and coverage of RSUs positioned using the aggregated and temporal graphs.

Fig. 8 shows the map view of Cologne’s central region and the installed RSUs for the aggregated model (blue circles) and the temporal model (red diamonds). It is the result of the execution of the algorithm 1. As we can see, the positioning of the RSUs when we model the scenario with an aggregated graph is concentrated in the central part of the area, covering the same region and the identical vehicles. Otherwise, when we model with a temporal graph, the RSUs are more distributed, ensure better coverage.

Similar to static evaluation, we also use a scatterplot to show the correlation between the aggregated and local temporal measures. In this case, we regard  RSUs deployed by Algorithm 1 in Cologne scenarios considering the modeling details of both models. As mentioned before, we are interested in how strongly the temporal and aggregated measures are numerically related. Fig. 9 illustrates the correlation between the aggregated model (represented on the X-axis) and temporal one (represented on the Y-axis) regarding degree, closeness, and betweenness, respectively.


Fig. 8. Map view of the central region of Cologne and the installed RSUs to aggregated and temporal models.

As presented in Fig. 9a, there is a positive correlation, but it is not more durable, showing a difference between the aggregated and temporal models regarding degree. In the aggregated graph, a vertex can be identified with a high connection in the wrong way since, by considering the temporal order of the edges, the high link is in a single moment. Thus, by aggregating the network, temporal relations are ignored, and we consider weak vertices as a great disseminator of information.


Fig. 9. Scatterplot of temporal vs. aggregated models.

Fig. 9b presents the correlation between the aggregated and temporal closeness. In this case, we identify no relationship between aggregated and temporal closeness because there is no clear relationship between two quantitative variables; this is because the shortest paths in an aggregated graph are entirely different in the temporal dimension. The paths are shortest in the aggregated graph because they abstract the time and interaction between the vertices. Also, the paths are shorter because the temporal interaction between the vertices is overlapping. Thus, we can conclude that the shortest paths in a temporal graph follow the links’ chronological order, which does not coincide with the shortest paths in an aggregated graph.

Fig. 9c illustrates a relationship between the aggregated and temporal betweenness. In this case, the scatter plot’s non-structural appearance leads to the summary conclusion that there is no apparent correlation between aggregated and temporal betweenness. Nodes with high betweenness have greater control and considerable influence over the network, as more information will pass through these nodes, making them essential for directing network information exchange. Observe the case for the betweenness in the Cologne scenario. There is an impact on the speed of the information dissemination process that we overlooked when network aggregation occurs, i.e., a node can always take part in all the shortest paths in the graph. On the other hand, in the temporal graph, this iteration can occur in a short time. Thus, the aggregated graph abstracts temporal edges that influence the network’s topology and are only visible when modeled as a temporal one.

4.3.2. Network behavior simulation
This section evaluates the impact of temporal modeling (graph and measures) over the RSUs’ deployment. We conducted the experiments to assess the proposed system using Veins 5.0, an open-source framework for running vehicular network simulations. Network simulation was performed by OMNeT++ 5.5.1, a discrete event simulator for modeling communication networks, multiprocessors, and other distributed or parallel systems. Road traffic simulation was performed by SUMO 1.6.0, which is well-established in traffic engineering, designed to handle large networks. The Physical (PHY) and Medium Access Control (MAC) layers are implemented in Veins and based on the IEEE 802.11p (WAVE) standard. All the simulators are free-source under the Academic Public License.

In this simulation, we choose only a central submap of the city of Cologne. The submap displays a higher incidence of traffic jams, as illustrated in Fig. 10. Also, we consider that only vehicles send packages. The residual distance objective is to compute the stability of the network (Wahab et al., 2013b). We conduct all experiments thirty-three times on different traffic conditions with a confidence interval of 95%. Table 5 summarizes the simulation parameter settings.

Fig. 11 presents the average vehicle coverage and total package loss with different  values for both models. As we can see in Fig. 11a, for any RSU number, the coverage was higher when we use the temporal model. For example, when , the coverage is about  with the aggregated model and  with the temporal one using the same greed algorithm. For all cases, the greedy algorithm, in the aggregated model, selects the sets of RSUs, not considering the network dynamics and timing of temporal relationships. In contrast, in the temporal model, the greedy algorithm selects the sets of RSUs, considering paths that are non-instantaneous between vehicle and RSU. They respect the network dynamics and timing of temporal relationships.


Fig. 10. Cologne urban area.


Table 5. Simulation parameters settings.

Parameter	Value
Beacon transmission frequency	1 Hz
Total number of vehicles	13 716
Transmission range	287 m
Density of vehicles	[40–150] vehicles/
Bandwidth	10 MHz
Speed (average) (Wahab et al., 2013a)	60.27 mph (96.9 km/h)
Residual distance (Wahab et al., 2013a)	63%
Channel	178 (5.89 GHz)
MAC	layerIEEE 802.11p PHY
0.5
Fig. 11b shows the number of packet losses according to the RSU insertion rate. One factor that causes the rising of packet loss is improper RSUs placement (Viriyasitavat et al., 2009). For example, when , the packet loss rate is  with the aggregated and  with the temporal model. In the aggregated model, the RSUs are concentrated in the central part of the scenario, covering a few regions and vehicles. In contrast, in the temporal model, the RSUs are dispersed in the scenario, covering different regions and more vehicles than the aggregated model. Therefore, the temporal model has a higher road coverage ratio and packet delivery than the aggregated model.

4.3.3. Temporal measures based solution
Note that previous greedy heuristics provide a good approximation of the optimal solution but require global knowledge of the road topology and the vehicles that cross the intersections during the observation period. We also compare the aggregated model and measures against the temporal ones using the genetic algorithm proposed by Moura et al. (2018). They present a genetic algorithm strategy for the deployment of roadside units in VANETs and show that using a simple genetic algorithm with a betweenness centrality preprocessing could find a suitable solution when compared with other strategies. The preprocessing uses the aggregated betweenness centrality.

We use the temporal model and measures in the preprocessing step of the genetic algorithm proposed by Moura et al.. The objective is to find the best intersection to install an RSU. The algorithm considers the intersections with the highest betweenness centrality (aggregated vs. temporal) to install an RSU. The original algorithm (Moura et al., 2018) considers the aggregated Betweenness measure . In this work, we also evaluate the degree  and closeness  (aggregated vs. temporal).

We consider the aggregated, and temporal graphs of the interval from - (rush hour), in the Cologne scenario, with the 300 RSUs and contact time is 30 s. The temporal graph represents intervals of 30 s, totaling ten-time graphs. The results with the temporal model and measures were always superior to the aggregated ones.

•
 presents coverage of 41.6% with the aggregated model vs. 59.2% with the use of temporal one. This behavior occurs because, different of aggregated degree, the temporal one choose the RSUs based a degrees balance and consistent during the time observed.

•
 presents coverage of 39.8% with the aggregated model vs. 79.6% with the use of temporal one. This behavior occurs because the temporal one chooses the RSUs based on an actual vehicle’s proximity. The aggregated model could identify nonexistent proximity. For example, a node is present only in the first moment, but new proximity interactions will happen with future nodes present in the same area.

•
 presents coverage of 61.4% with the aggregated model vs. 91.3% with the use of temporal one. This difference occurs because of the same reasons given previously.

In summary, the approach with betweenness had the best result, more than 90% of the coverage area. In this way, we could see the differences between the models and how they influence this decision.

5. Conclusion and future work
In this work, we provide an essential analysis regarding the impact of modeling the VANETs as an aggregated and temporal graph. To do so, we use centrality measures for temporal networks and discuss how the results can be affected by the topology modeling approach.

In the first analysis, we observe the variations of the network topology. We realized that the aggregated modeling does not identify topological temporal information. In the second analysis, we quantify the aggregated model’s impact compared to the temporal one using the Kolmogorov–Smirnov test and Hellinger distance. We found a -value 
 for all cases in Kolmogorov–Smirnov test, so we rejected the null hypotheses: 
. Unlike KS-test, Hellinger distance can better distinguish the impact of the aggregated model in the presented scenarios. We presumed that the shortest paths in the temporal graph and an aggregated graph are similar because the smallest value for the 
 was 0.0905 in the Cologne scenario. Finally, we analyzed our modeling through a scatter plot and showed how strongly the temporal measures are numerically related to each other.

To quantify the impact of temporal modeling in a dynamic and simulated environment, we consider the RSU allocation problem in Cologne’s city’s central submap. First, we compare our strategy with a greedy algorithm to choose the RSUs’ positions. The results show that for all  values, the temporal model is always superior to the aggregated one using the same placement strategy. For instance, in a scenario with 70 RSUs, we have 77% and 65% of coverage in the temporal and aggregated model, respectively. Second, we compare aggregated modeling against the temporal ones as features in a genetic algorithm based on complex network measures. The approach with temporal betweenness had the better result with 90% of the coverage area against 61% of aggregated one applied to the same scenario.

An essential contribution of this work is to use temporal measures providing better solutions in a vehicular network environment. To the best of our knowledge, we are the only ones that use these measures in VANETs scenarios. As future work, we want to study more relationships in the vehicle environment, such as vehicle connectivity, traffic optimization, location of points of dissemination to maximize vehicle coverage, and analyze vehicle environments with V2X communication. Moreover, we intend to use temporal centrality measures to identify the most viable anchor zones to spread floating contents in VANETs.