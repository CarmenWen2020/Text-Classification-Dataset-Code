The goal of Twitter users and tweets discovery for the target area is to find resident users and tweets created in the area. Previous works usually utilize following relationships among users to discover new users, whose precision and speed are easily affected by fake followers and the rate-limiting of getting Twitter data. In this manuscript, an algorithm for users and tweets discovery based on mention relationship strength and local tweet ratio (MRS-LTR for short) is proposed. First, the initial tweets are obtained by using Twitter API, from which the seed users and the seed tweets are extracted, and the mention relationship graph is constructed. Then, two sound-reasonable hypotheses about the location information contained in mention relationship and user’s tweets are explored and verified on the public dataset. Next, based on the two hypotheses, three new recommendation indicators are proposed to recommend new users in the area from the users mentioned by seed users. Finally, the candidate user location verification method based on profile and iteration probability is used to expand the seed user set. The principle analysis of discovery precision, discovery speed and algorithm function shows the effectiveness of MRS-LTR. Experimental results on a dataset of 4.4M users and 112M tweets demonstrate that MRS-LTR outperforms the state-of-the-art algorithm. The precision infimum and modified precision are increased by 14.79% and 31.22%, respectively. Meanwhile, the discovery speed is significantly improved, and the number of users discovered in the same period is about 8.7 times that of the existing algorithm.

Previous
Next 
Keywords
Local tweet ratio

Mention relationship strength

Twitter

User discovery

1. Introduction
Nowadays, social media such as Twitter has a large scale of users. Up to September 5, 2019, Twitter had 139 million daily active users1 worldwide and posted about 500 million tweets2 every day. This provides a good data analysis platform for the government, sociologists, businesses and so on. The government can analyze local citizens’ tweets for event detection (Brandon et al., 2020), disaster detection (Gürkan and Damla, 2017, Zheng et al., 2019) and other work; Sociologists can analyze the laws of information diffusion (Liqing et al., 2021, Yadong et al., 2017) and people’s regional behavior in a given area (Desislava et al., 2016, Yue et al., 2017); Businesses can use Twitter to push ads to nearby users (Baral et al., 2019).

The above location-centric applications depend on the location-based user and tweet data analysis, which need large amounts of users and tweets data in the target area. However, although the existing work can find users for the target area, it is affected by fake followers and the rate-limiting of obtaining follower list, resulting in low precision and speed. It is of great theoretical value practical significance to discover users and tweets efficiently and accurately for the specified area.

Most early works related to Twitter users and tweets discovery for target area focused on the location inference of the target user. It can be divided into two categories: text-based (Hauff and Houben, 2012, Hulden et al., 2015, Ozdikis et al., 2018) and network-based (Li et al., 2014, Dong et al., 2012, Dougnon et al., 2015, Ye et al., 2012) user location inference methods.

Text-based location inference methods usually infer the user’s home location by identifying location indicators (words with strong regionality) in tweets (Ren et al., 2012, Li et al., 2019). Based on information theory, Hecht et al. (2011) first adopt the Calgary score to find the location indicators. Middleton et al. (2018) combine gazetteer and NER (Named Entity Recognition), achieving a sound effect of identifying location indicators. Many other studies learn probabilistic models from tweets to describe the distribution of users’ location (Cheng et al., 2013, Miura et al., 2017). Cheng et al. (2010) creatively regard local word recognition as a classification problem and use a spatial mutation model to fit the geographic distribution of words. Mahmud et al. (2014) combine statistics and heuristic classifier based on the user’s tweet content and posting behavior. Lourentzou et al. (2017) provide a comprehensive review of user location inference methods based on deep learning. Tang et al. (2019) construct a feature vector of text content by NER and introduce DBSCAN to determine the entity is local or global, which has a good effect. Chao et al. (2020) propose a Physical-Social-Aware Inference scheme to estimate users’ location by analyzing the spatial and temporal information of their check-in traces and the social constraints between users.

Network-based location inference methods usually infer location using user interaction (Luceri et al., 2019). The basic assumption is that users living in the same area may also be close to each other in social graphs (Li et al., 2012, Kotzias et al., 2015). Rahimi et al. (2015b) first use LPA (label propagation algorithm) to analyze the location of Twitter users. Aiming at the instability of LPA algorithm, Yan et al. (2014) propose an improved LPA based on node influence model, which shows a positive effect. Considering that sometimes the connected users in the social graph are far away, Yamaguchi et al. (2013) introduce landmarks, i.e., users with many friends in a small area, so that the location of many users can be inferred using a few landmarks. Jinpeng et al. (2016) propose a social tie factor graph model to estimate a Twitter user’s city-level location by performing similarity retrieval on various features, including the basic information of two users, link homophily, node influence and tie strength.

The purpose of these two types of methods is to infer the location for target users. However, these methods cannot find users and tweets for the specified area without any known users. Currently, there are few methods to find users and tweets in the target area. The most related work to our concern is Feedback algorithm, proposed by Kotzias et al. (2015). Feedback discovers users for target city based on the social graph. It uses the following relationship to build a friendship network and then selects users who have the most connections with known users to join the new user set of the area.

Text-based method can well dig out the location information in user’s text and infer the location of isolated nodes. However, the precision of these methods is susceptible to misspellings, acronyms, geographical ambiguity, etc. in tweets (Goyal et al., 2020); and the non-location indicators with similar statistical distribution to the location indicators are ignored, resulting in a large amount of noise in the extracted words, which makes the precision lower. In addition, these methods have high requirements on the basic geographic information database, and a large number of features require manual design. Network-based method can analyze the location information from the interaction between users, does not need to deal with the problem of different languages in the text, and is not susceptible to the impact of noisy text data. However, such methods cannot locate isolated nodes and lack accurate depiction of users’ first-order and second-order social relationships, resulting in inaccurate calculation of users’ social similarity, which affects the precision of location inference. Neither of these two kinds of methods has the function of discovering users and tweets for a specific area, while the Feedback algorithm can achieve this function. However, in recent years, with the increase of Twitter users, fake followers also increase (Adewole et al., 2017), and the correlation between the following relationships and geographic proximity decrease. Also, the Twitter Standard APIs have a strict limitation on the frequency of getting users’ friend lists. It results in low speed of Feedback to find users, which cannot meet the basic needs of practical researches.

In order to improve the precision and speed of user and tweet discovery, this manuscript proposes an algorithm for users and tweets discovery based on mention relationship strength and local tweet ratio, named MRS-LTR. Given a target area, the initial tweets are obtained first. After three-layers filtering, the seed users and the seed tweets are extracted, and the mention relation graph is constructed. Then, new users located in the area are recommended based on three recommendation indicators: how many users mention it, how many mentions receive, and local tweet ratio. Finally, the candidate new users are added to the seed user set after verification. To sum up, the main contributions of this manuscript are as follows:

•
Two sound-reasonable hypotheses are put forward and verified. One is that the users’ geographical proximity is positive to users’ mention relationship strength. The other is that the more times a mentioned user mentions an area, the more likely he/she is in the area. The verification results on the public dataset show that the two hypotheses are tenable, which can provide guidance for the user recommendation.

•
An algorithm for users and tweets discovery called MRS-LTR is presented. Different from the existing algorithm which only uses the following relationship, MRS-LTR combines the mention relationship strength and the location information in the tweet as the recommendation indicators. The precision infimum and modified precision are increased by 14.79% and 31.22%, respectively. The discovery speed is about 8.7 times faster than the existing method.

•
Two new evaluation metrics of algorithm performance are proposed. Not all recommended users fill in the profile location (GroundTruth in this manuscript), so the traditional precision does not apply. For users without profile location, we consider two cases that they are all not in the area and that they are in the area with a certain probability, and propose Precision-infimum and modified-Precision to reflect the minimum and approximation of precision.

The rest of this manuscript is structured as follows. In Section 2, the related work and principle analysis of the existing Feedback algorithm are discussed. Section 3 analyzes the two sound-reasonable hypotheses. Section 4 details the proposed algorithm and gives pseudo-code and examples. Section 5 analyzes the effect of MRS-LTR in principle from the aspects of discovery precision, discovery speed, algorithm function. Section 6 presents the experimental results of the comparison of discovery precision and the comparison of discovery speed. Finally, Section 7 concludes the manuscript.

2. Related work
In this section, the location information in tweets and the interaction between Twitter users are briefly introduced. What is more, the principles and shortcomings of the existing Feedback algorithm are discussed.

2.1. Prearrangement knowledge
Some examples of location information in tweets and interactions between Twitter users are shown in Fig. 1.

A tweet is a text created by a user in 140 characters or less. Users can post whatever they want to share, including things or items around them. Users can choose to attach a geo-tag to their tweets to show their location, as shown in Fig. 1(a). The user’s text content may also contain their geographical location, as shown in Fig. 1(b).

(2) Interaction Between Twitter Users

The interaction between users on Twitter includes the following, mention, retweet, like, etc.

•
Following. A user can follow other users to subscribe their tweets, as shown in Fig. 1(c). The following relationship is one-way. If user1 follows user2, then user1 is called follower, and user2 is followee.

•
Mention. Users can mention another user through @ in their tweets, as shown in Fig. 1(d). If user1 @ user2, Twitter will notify user2 to read the tweet, and user1 can communicate with user2 in the text followed by @. It is observed that friends in real life often mention each other on Twitter.

•
Retweet. When a user is interested in a tweet created by other users, he can share it by retweeting it, as shown in Fig. 1(e).

•
Like. When a user sees a tweet he likes, he can give it a “like”, as shown in Fig. 1(f).

2.2. Principle of feedback algorithm
Most of the existing studies related to social media location focus on the following fields: user’s home location prediction (Lourentzou et al., 2017, Tang et al., 2019), tweet location prediction (Li et al., 2019, Luceri et al., 2019), geographic entity recognition and linking (Han et al., 2018, Xu et al., 2019), event location prediction (Zhang et al., 2015, Zhang et al., 2018), user’s next location prediction (Kumar and Nezhurina, 2019, Singh and Toshniwal, 2018) and so on. These methods can be divided into three categories: text-based methods, network-based methods, and context-based methods. The text-based method uses natural language processing and named entity recognition to mine location information from text. The network-based method is to construct network graph among users, text, entity and geographical location, and then use graph theory, neural network model and so on to get the prediction result. The context-based approach mainly combines time stamps, time zones, geo-tags, user profiles and other information to analyze geographical locations.

The above methods are related to user discovery for target area and have achieved good results, but they cannot be directly used to achieve user discovery. There are few methods designed specifically for user discovery, the most typical of which is the Feedback algorithm (Kotzias et al., 2015), as shown in Fig. 2. It considers the correlation between strong connectivity in social graphs and proximity in the real world, which performs target area-oriented user discovery with great success.

•
Discard users with more than 30,000 followers, i.e., celebrity nodes.

•
Only retain users who stay more than 100 h in A and have tweeted more than 4 times, i.e., delete temporary nodes (such as passengers, business trips, etc.).

•
Discard users that are not included in the largest connected component of the graph, i.e., isolated nodes.

With three-step filtering, it is possible to avoid introducing a large number of non-local users in the process of discovering new users, in addition to reducing the impact of bot users.

Get the friend list of all seed users using API3. Friends that are not in S are called frontier F. Select the user from F with the most connections to S, called winner, and use API to get the winner’s location. Then, fine-tune the weight of the seed users who vote for the winner based on whether the winner is located in A. If the winner is at A, add its friends to F. Repeat the above process until the preset number of API queries is reached.

2.3. Shortcomings of feedback algorithm
Feedback makes full use of the following relationship between users to discover the user set for the target area, but there are some shortcomings as follows.

(1) The precision of discovering users decreases

In recent years, Feedback algorithm has been less accurate in discovering new users. This is mainly because, with the development of Twitter, the number of bots has increased, and so has the proportion of fake followers. According to websites such as Sparktoro,4 between 5% and 30% of existing Twitter users’ followers are fake. Twitter officially says it removes 50–100 million “junk” users every year.5 This change makes the correlation between the following relationship and geographical distance less tight. Therefore, recommending users based only on the following relationship leads to a decrease in precision.

(2) The speed of discovering users is low

Before discovering users, Feedback needs to get a friend list for each seed user. However, Twitter API endpoints strictly limit 15 requests within 15 min to get the friend list. For more massive basic data sets, Feedback needs to spend much time getting the friend lists of seed users, as shown in Table 1.

TTC indicates Theoretical Time Consumption of getting seed users’ friend lists. On the data set used in (Kotzias et al., 2015), Feedback needs to get the friend lists of 13.8k seed users, which takes about 100 days. If performing Feedback on the larger data set collected by this manuscript, it would theoretically take 5 years, which is not practical.


Table 1. Theoretical time consumption of feedback.

Dataset	Number of tweets	Number of users	TTC
Dataset in Kotzias et al. (2015)	4.7M	13.8k	100 days
Dataset in this manuscript	1000M	268M	5 years
2.4. Problems to be solved
Existing algorithms discover users for target area only based on the following relationship. However, due to the increase of robot accounts, there are more fake followers; the establishment of users’ following relationship is one-time and cannot represent the intimacy between users; the user’s following relationship may be established a long time ago and cannot reflect the interaction in the recent time. As a result, the precision of user discovery is low. In addition, because the Twitter API limits the rate at which user following list can be retrieved, the speed of discovery is low.

How to improve the precision and speed of user and tweet discovery is the key of this manuscript, and the solution to this problem will be given in the following sections.

3. Proposal and verification of two sound-reasonable hypotheses
Existing studies show that even when online, users tend to interact with users whose geographic location is closer (Takhteyev et al., 2012, Apreleva and Cantarero, 2015). On this basis, this section presents two hypotheses and verifies them through statistical analysis on the public datasets of Twitter social relationships and tweets.

3.1. The correlation between mention relationship strength and geographical proximity
(Hypothesis 1) The geographical proximity of users is positively correlated with the user’s mention relationship strength in social networks.

UTGEO dataset (Roller et al., 2012) is commonly used in the existing literature and contains 38 million tweets from 449,694 users worldwide. Each user’s information includes the name, latitude–longitude coordinate, text of the user’s tweets, and users mentioned in the tweets, etc. There are a total of 6,472,803 mentioned users. For all mentioned users, the number of mentions received is counted. The statistical result is shown in Fig. 3.

In Fig. 3, the -axis represents the number of mentions receive, and the -axis represents the number of users who are mentioned x times. The distribution in Fig. 3 is in accordance with the Heavy-tailed distribution. In many cases, the right tail of the Heavy-tailed distribution is more important.6 That is, users who are mentioned more times in the right tail are more important than users who are mentioned less in the left head. Therefore, when recommending candidate users, more attention should be paid to users with high mentions.


Fig. 3. The number of users corresponds to the number of mentions received.

We refer to two users whose geographical location are known and mentioned by each other as a user pair. A total of 566,203 such user pairs can be extracted from the UTGEO dataset. Count whether two users of these pairs are in the same city and the number of mentions between the user pair. The results are shown in Fig. 4.

In Fig. 4, the -axis represents the number of mentions among user pairs. -axis represents the proportion of the user pairs with the same location in the user pairs whose mentions are higher than x. As can be seen from Fig. 4, the more mentions between user pairs, the more likely users are to be in the same location. It is proved that the geographic proximity of users is positively correlated with the users’ mention relationship strength in social networks.


Fig. 4. The correlation between geographic proximity and the strength of mention relationship.

3.2. The correlation between location information in tweets and user’s real location
(Hypothesis 2) The more tweets a mentioned user creates containing the location of the target area, the more likely that the user is in the area.

We use the Twitter API to collect the profiles of 118,459 mentioned users and their latest 100 tweets. First, the users mentioned by known users in the target area are collected using the “GET statuses/mentions_timeline”7 function. Then, the latest 100 tweets of the mentioned users are obtained using the “GET statuses/user_timeline”8 function. The returned data is parsed into JSON format.

The text fields of the tweets are extracted for statistical analysis, and 32,639 of these mentioned users’ tweets contain the location of the target area. The profile location fields of these 32,639 users are extracted, and Table 2 shows the number of users whose profile location is in the target region, not in the target region, or empty.

For the 32,639 mentioned users, the proportion of tweets containing the location of the target area in the user’s latest tweets (called the local tweet ratio) is counted. The results are shown in Fig. 5.


Table 2. Statistics of tweets and location profiles.

Statistics	Number of users
Number of users	118,459
Number of users with more than 100 tweets	88,827
Number of users with local tweets	32,639
Number of users whose location field is empty	2,770
Number of users in the target area	21,925
Number of users not in the target area	7,944
In Fig. 5, the -axis represents the local tweet ratio. The -axis represents the statistics of location in users’ profiles whose local tweet ratio is higher than x. The blue/orange/green rectangles respectively represent the number of users in the target area/ not in the target area/ whose profile is empty. The red stars represent the ratio of users in the target area to all users; that is, the probability that the user is in the target area. It can be seen from Fig. 5 that more than 80% of the mentioned users whose tweets contain target area are located in the target area. Moreover, as the local tweet ratio increases, the proportion of users in the target area also gradually increases and approaches 1. It proves that the more tweets a mentioned user create containing the location of the target area, the more likely that the user is in the area.


Fig. 5. The correlation between the ratio of users in the target city and the local tweet ratio.

4. The proposed MRS-LTR algorithm
Existing algorithm only use following relationship to discover users, resulting in low precision and speed. To overcome these shortcomings, this manuscript uses relationship strength and location information in tweets to discover users. Because mention relationship (Ebrahimi et al., 2018, Rahimi et al., 2015a) and location information in users’ tweets (Ren et al., 2012, Li et al., 2019) play a large role in the field of location inference for target user, which is a relative process to user discovery for target area. Therefore, it can be considered that these two kinds of information can also produce good effects in user discovery. In addition, since the acquisition rate of mention relationship is higher than that of following relationship, this manuscript adopts mention relationship to improve the speed of user discovery. Because mention relationship and user’s tweets contain more location information than following relationship, this manuscript uses mention relationship strength and location information in tweets to improve the precision of user discovery.

This section describes in detail the proposed algorithm for users and tweets discovery based on mention relationship strength and local tweet ratio (named MRS-LTR).

4.1. Main steps and basic idea of MRS-LTR
Based on the two hypotheses, we first obtain the initial tweet set in the target area and extract creators as the initial user set. The seed user set and seed tweet set are obtained after filtering. Then we build a user mention graph from the seed tweet set. In each round of recommending new users, we choose users with higher scores as candidate users, according to three indicators: how many users mention it, how many times it is mentioned and local tweet ratio. After that, we get the candidate users’ location and add candidate users in the target area to the seed user set. Repeat the above process until the preset number of recommended users is reached. The seed user and tweet set are the final output. The schematic diagram of the proposed MRS-LTR is shown in Fig. 6.

Step 1: Obtain the initial tweet set of A

Select a suitable center  and radius r in A to delimit a circular area R. Obtain a large number of tweets created in R, called the initial tweet set 
. Each tweet 
 contains creator, mention list, and so on.

Step 2: Extract the seed user set and the seed tweet set of A

Extract the creators of all tweets in 
. Then, a three-layer filtering process is performed to discard celebrity, isolated and temporary nodes. The remaining nodes are called the seed user set 
. The tweets corresponding to seed users in 
 are preprocessed to obtain the seed tweet set 
. Preprocessing of tweets includes: case conversion, data cleaning (delete emoticons, URLs), stop word removal, etc. (Vinayakumar et al., 2019).

Step 3: Build a user mention graph

Build a user interaction graph 
 according to the mention relationship extracted in 
. The mentioned user set is denoted as 
. The mentioned users that are not in 
 are called the extended user set, i.e., 
.

Step 4: Recommend candidate users

For each user 
, calculate the comprehensive score of 
 based on three recommendation indicators, and recommend the top k users as candidate users 
.

Step 5: Verify whether the candidate user is in A

Use Twitter API to get the location profile of the candidate user 
. If 
 is in A, add 
 to 
, and its tweets created in A are added to 
; otherwise, remove 
 from 
.

Step 6: Judge whether the number of recommended users reaches N

If the number of users in 
 reaches the preset N, then output the current
 and 
 as the final user and tweet set of A; otherwise, go to step 3 and update the user mention graph.

In the above steps, step 1 determines the integrity and accuracy of initial data; step 4 is the most critical part of MRS-LTR. These two steps are elaborated in detail in the following sections.

4.2. Obtain the initial tweet set of target area
Twitter API provides a strategy for crawling tweets based on geographic location, as shown in Fig. 7.

The circular crawling strategy shown in Fig. 7(a) delimits a circular area according to the center  and the radius r. The rectangle crawling strategy shown in Fig. 7(b) delimits a rectangular area according to the diagonal lines 
 
, where 
 and 
. Then get the latest tweets within the selected area as the initial tweet set 
.



Fig. 7. Geo-centric tweet crawling strategy.

When implementing MRS-LTR in practice, we can choose an appropriate crawling strategy based on the boundary shape of the target area. For example, Houston, USA (in Fig. 7(a)) is more suitable for the circular crawling strategy; Nara, Japan (in Fig. 7(b)) is more suitable for the rectangular crawling strategies because of the narrow terrain. In addition, we can also divide the target area into multiple small areas and adopt different crawling strategies.

Moreover, if the crawling range is too large, 
 may be adulterated with too much noise data from surrounding areas due to the irregular boundary of the target area. If the crawling range is too small, it will cause too few users in the target area included in 
 to recommend new users. Therefore, the appropriate size of the crawling range is determined by actual requirements. For example, the crawling range can be determined based on: the outermost boundary (plan A in Fig. 7(c)), the innermost boundary (plan B in Fig. 7(c)), etc.

As the above crawling strategy is based on the timeline, it cannot cover all users in the region. In addition, considering the crawling speed of initial tweets, the user discovery algorithm proposed can be used to expand the user set in the region more quickly and accurately on the basis of obtaining a certain amount of initial tweets.

However, the initial tweet set 
 cannot be used directly for user recommendation. Because there are many users whose home locations are not in the target area, but they create tweets in the target area due to work or travel. Therefore, the initial tweet set 
 needs to be filtered.

4.3. Recommend candidate users
The key problem in this work is how to recommend more new users located in the target area based on the known users. Based on the two hypotheses, MRS-LTR mainly uses the following two aspects of information as the recommendation basis, and presents three recommendation indicators to score the mentioned users.

(1) Based on Hypothesis 1, MRS-LTR uses mention relationship strength as the recommendation basis.

The more frequently users interact on Twitter, the closer their geographic locations are likely to be. Besides, the user’s mention list is easier to get than the follower list. Therefore, we select mention relationship strength to measure the interactivity between users. When recommending new users, we only consider the users who are mentioned many times by local users, which can improve the precision and speed of recommending users.

(2) Based on Hypothesis 2, MRS-LTR uses the location information in users’ tweets as the recommendation basis.

Normally, users are more likely to attach a geo-tag or mention the target area multiple times in their tweets if they are in the area. Therefore, the location information of the mentioned users’ tweets is considered to evaluate the likelihood that the user is located in the target area.

(3) MRS-LTR combines the above two aspects of information and puts forward three recommendation indicators.

Sometimes users will mention friends who are far away. Besides, due to privacy settings or other reasons, some users’ tweet information is unavailable. Therefore, hybrid methods based on relationship networks and user text are often more effective than the method based on single information only (Xin et al., 2018). So this manuscript combines the above two aspects of information.

The three recommendation indicators include: how many users mention it, how many mentions receive, and local tweet ratio. For easy reading, the notations used in all the following equations are described in Table 3.

For each extended user 
, the three indicators are defined as follows.


Table 3. List of notations.

Notations	Description
An extended user
The set of extended users
The number of users mention 
The number of elements in the set
The set of seed users who have mentioned 
A seed user
The set of seed users
 has mentioned 
The number of mentions 
 received
A seed user who have mentioned 
The number of times 
 mentions 
Local tweet ratio
The latest L tweets created by 
The set of tweets created by 
 in the target area
A tweet created by 
 in the target area
A	The target area
The comprehensive score of 
, 
, 
The weights of 
, 
 and 
1.
Indicator 1: How many users mention 
, denoted as 
.

 refers to the number of seed users who have mentioned 
, that is: (1)
where  represents the number of elements in the set. 
 is users who have mentioned 
, that is: (2)
where 
 is the set of seed users, and 
 indicates that the seed user 
 has mentioned the extended user 
.

Analysis. The higher 
, the more local users mention 
, indicating that 
 has close interaction with local users, and is more likely to be located in the target area.

2.
Indicator 2: How many mentions 
 received, denoted as 
.

 refers to the total number of times 
 is mentioned by seed users, that is: (3)
where 
 indicates how many times 
 mentions 
.

Analysis. The higher 
, the more time 
 is mentioned by local users, indicating that the mention relationships between 
 and local users are strong. So it is more likely that 
 is in the target area.

3.
Indicator 3: Local tweet ratio, denoted as 
.

 refers to the ratio of tweets created in the target area among 
’s latest L tweets, that is: (4)
 
 
where 
 is the set of latest L tweets created by 
, so 
. 
 is the set of tweets created by 
 in the target area among the L tweets. (5)
For geo-tagged tweet, the location is determined by the geo-tag. For tweet without geo-tag, GeoNames9 is used to identify the location in the tweet content. Although mentioning a geographic name does not mean that the tweet is created in the area, the Indicator 3 is only calculated for users who are mentioned by many local users. For such mentioned users, if his tweet mentions the target area, the tweet is most likely created in the area.

Analysis. The higher 
 is, the more local tweets 
 has created, and 
 is likely to be located in the target area.

When recommending users, rank the extended users based on the comprehensive score in formula (6), and take the top k users as candidate users 
. (6)
 
 where, 
, 
 and 
 are weights, 
.

4.4. Description and example of MRS-LTR
The overall workflow of MRS-LTR is described in Algorithm 1, and the life cycle figure is shown in Fig. 8. Assuming that n is the number of extended users, the time complexity of the proposed algorithm is 
.



2	3	6	–	–	–	–	–	–
–	–	2	8	1	1	5	–	–
–	–	–	–	–	4	1	3	–
–	–	–	–	–	–	–	–	7
 

Table-A: For each user in 
, count how many users mention it and how many mentions it receives. The results are: 
 

Table-B: Execute min–max-Normalization on 
 and 
: 
 
 
 
 

Table-C: Take , collect the latest 100 tweets for each extended user. Suppose the users’ local tweet ratio is: 

Table-D: Take the weight 
, calculate the comprehensive score of extended users: 
 

Table-E: Take , select the top 3 extended users as candidate users 
 based on the comprehensive score: 

Table-F: Get the location profile of candidate users, suppose 
 and 
 are in the target area. Add them to 
 and delete 
. The updated user mention graph is shown in Fig. 10. Then perform a new round of user recommendation. 

5. Algorithm analysis
Existing algorithms use users’ following relationships. The proposed MRS-LTR combines mention relationships strength and location information of tweets, which improves the precision and speed of discovering users and tweets for the target area. This section analyzes MRS-LTR from three aspects: discovery precision, discovery speed, and algorithm function.

5.1. Analysis of discovery precision
The basis of recommending candidate users affects the discovery precision directly. MRS-LTR improves the precision of user discovery from the following aspects:

•
Mention relationship (used in MRS-LTR) can better reflect the relationship of users than the following relationship (used in Feedback). It is because there are many fake followers like bots, and most of the mention relationship is real.

•
MRS-LTR considers the strength of users’ relationship. If the relationship is strong, they are likely to be familiar in real life, so they are more likely to be geographically close.

•
MRS-LTR combines the location information contained in users’ tweets. Because MRS-LTR infers the location of the mentioned users’ tweets, the recommendation process is based on more information, which makes the recommendation results more accurate.

•
MRS-LTR also considers the timeliness of the relationship between users. Once the following relationship is established, it still exists even if the users do not interact with each other for a long time. The mention relationship and tweet location are extracted from the users’ latest tweets, which ensures that the users’ interaction behavior is up to date.

•
MRS-LTR recommends users who frequently interact with local users and create multiple tweets containing the location of the target area. Such users are more likely to be in the target area.

5.2. Analysis of discovery speed
Twitter standard API endpoints have strict rate-limiting.10 Moreover, the rate-limiting for getting different information is different. Table 4 compares the different API endpoints and query rate-limiting that Feedback and MRS-LTR need to use in each step.

As shown in Table 4, the rate-limiting of getting friend list required by Feedback is 15 users/15 min. However, the mention list required by DATA can be obtained directly from the initial tweet set. So the theoretical time consumption of MRS-LTR to get the required information is far less than that of Feedback, which significantly improves the discovery speed.


Table 4. Rate-limiting of different API endpoints used in feedback and MRS-LTR.

Step	Feedback	MRS-LTR
(1) Get the initial data set	search/tweets (180/15 min)	search/tweets (180/15 min)
(2) Build interaction graph	friends/list (15/15 min)	Available from step (1)
(3) Recommend new users	friends/list (15/15 min)	statuses/user_timeline (900/15 min)
(4) Validate candidate users	users/search (900/15 min)	Available from step (3)
We collected about 10 million tweets from three cities (Boston, San Francisco and Houston). The statistical results and the comparison of theoretical time are shown in Table 5.

In Table 5, 
 refers to the number of mentioned users. In the same data set, the number of mentioned users (which MRS-LTR concerns) is less than half the number of basic users (which Feedback concerns), so MRS-LTR is much faster than Feedback. 
 refers to the time required for Feedback to build a user interaction graph, which takes about two years in each of the three cities. 
 refers to the theoretical time required to recommend N users. It can be seen that MRS-LTR is more feasible than Feedback in practical applications.


Table 5. Theoretical time of feedback and MRS-LTR in using API to query information.

City	# Tweets	# Users	
Feedback	MRS-LTR
BOS	3,031k	928k	645	420k		
SF	2,873k	954k	662	382k		
 
HOU	2,087k	806k	559	308k		
5.3. Analysis of algorithm function
Studies related to target area-oriented users and tweets discovery mainly include: home location inference, tweet location inference, location entity recognition and linking, etc. These methods are mainly based on tweet content, Twitter network and tweet context. The functions, methods, and experimental conditions of some related literatures in recent years are summarized in Table 6.

In Table 6, WDR means whether an existing data set is required. Other existing literatures require the support of existing data sets, and MRS-LTR do not need to rely on existing data sets.


Table 6. Summary of existing related literatures.

Work	Function	Method	Information needed	WDR
Lourentzou et al. (2017)	Home location prediction	Content, network	Factor graph, location label	Y
Tang et al. (2019)	Home location prediction	Content	User’s tweets, candidate city set	Y
Li et al. (2019)	Tweet location prediction	Content, context	User’s tweets with timestamps	Y
Luceri et al. (2019)	Tweet location prediction	Network, context	User’s tweets with geo-tag	Y
Han et al. (2018)	Entity recognition and linking	Content, context	User comments	Y
Xu et al. (2019)	Entity recognition and linking	Content	Tweets, CLP(collection of location profiles)	Y
Zhang et al. (2015)	Event location prediction	Context, content	User’s tweets with timestamps	Y
Zhang et al. (2018)	Event location prediction	Context, content	User’s tweets with timestamps	Y
Kumar and Nezhurina (2019)	Next location prediction	Context	Tweets with geo-tag from user timeline	Y
Singh and Toshniwal (2018)	Next location prediction	Content	User’s tweets	Y
Proposed	Discover users and tweets for target area	tie @, strength, tweet	Target area	N
Although there are many related researches, they are not good solutions to users and tweets discovery for target area. And there are few existing literatures. The summary of target area-oriented users and tweets discovery methods is shown in Table 7.


Table 7. Summary of target area-oriented users and tweets discovery methods.

Work	Input	Method	Result
Kotzias et al. (2015)	target city	friendship-only	Precision-infimum=43.2%, modified-Precision=49.82%
Proposed	target city	@ mention, tie strength, tweet	Precision-infimum=57.99%, modified-Precision=81.04%
6. Experimental results and analysis
To verify the effectiveness and feasibility of MRS-LTR, this section compares and analyzes the proposed MRS-LTR with the existing algorithm in terms of precision and speed.

6.1. Experiment setup
Experiments take the location profile as GroundTruth, which is widely used in existing literature (Lourentzou et al., 2017, Tang et al., 2019, Han et al., 2018). The experimental settings are shown in Table 8:


Table 8. Experimental settings.

Parameter	Setup
Crawling strategy	the circular crawling strategy
Rounds of iteration	50000
Select top-k extended users	5
Experimental time in Section 5.2	24 h
Weight of three indicators	
6.1.1. CITA dataset
UTGEO dataset (Roller et al., 2012) provides users’ tweet information and mention lists of the tweets. However, most of the users in the mention list are not in the user set of UTGEO, and their location cannot be known. Besides, (Kotzias et al., 2015) does not provide experimental datasets. Therefore, we use the circular crawling strategy (introduced in Section IV-B page 5–6) to obtain an initial tweet set in three target cities, respectively.

CITA was collected by this manuscript in 2019, and the statistic is shown in Table 9. CITA contains 122,524,092 tweets from 4,367,312 users. Among them, the initial data set includes 10,964,429 tweets from 2,689,515 users. In CITA, tweet information includes: text content, mention list, geo-tag, time, etc.; user information includes: username, location, description, etc.


Table 9. Statistic of CITA dataset.

# Initial user	# Initial tweets	# All users in CITA	# All tweets in CITA
2,689,515	10,964,429	4,367,312	122,524,092
6.1.2. Evaluation metrics
Two proposed metrics Precision-infimum and modified-Precision are used to evaluate the precision of user discovery.

Because only the top k users per round are recommended to be in the target area, the geographic location of a large number of unrecommended users is difficult and unnecessary to verify. So TN (True Negative) and FN (False Negative) is unknown. Therefore, precision is adopted to evaluate the effectiveness of the algorithm, which is defined in formula (7): (7)
 
where 
 is the total number of recommended users, and 
 is the number of users who have been recommended successfully.

However, the location profiles of a small number of users are empty, so there are three cases when verifying the recommended users’ location:

•
Case 1: The user is located in the target area, denoted as 
.

•
Case 3: The user is not in the target area, denoted as 
.

•
Case 2: The user’s location field is empty, denoted as 
.

Suppose all users in 
 are regarded as not in the target area. In that case, the infimum of recommendation precision can be obtained as formula (8). (8)
 
where 
, 
 and 
 represent the number of 
, 
 and 
 in the q-th round of the experiment, respectively.

However, it is possible for a user whose location field is empty to be in the target area. Therefore, the real value of the recommendation precision is higher than Precision-infimum. Besides, users with an empty location profile only account for a small part of the candidate users. So we can approximate the real recommendation precision with modified-Precision, as shown in formula (9). (9)
 
where  is the recommendation precision of the -th round.

The way to calculate the modified-Precision is to treat some users in 
 as 
 with an appropriate strategy. For example, users in 
 can be randomly retained with a probability of , and  is the precision of the previous round of the experiment.Modified-Precision can be used in such scenarios: the task is to get as many users as possible for the target area, and it is permitted that the result is doped with a few users who are not in the target area.

6.1.3. Target area
In order to evaluate the effectiveness of the proposed algorithm at different levels of data sparseness, we select three cities with different population densities, including Boston, San Francisco, and Houston. According to Wikipedia11 in 2018, the population density of the target cities is shown in Table 10.


Table 10. Population density of target cities.

City	Population	Area	Density
Boston	694,583	89.63 sq.mi	14,344/sq.mi
San Francisco	883,305	231.89 sq.mi	18,838/sq.mi
Houston	2,099,451	637.4 sq.mi	3,501/sq.mi
6.1.4. Weights of recommendation indicators
We recommend new users based on the comprehensive score obtained by weighting and summing the three indicators, referring to formula (6). To make the recommendation results more accurate, we select the best weight group 
 through testing experiments. The experiments are conducted on randomly selected training sets, and the weight space of multiple experiments is 0.1. The results are shown in Fig. 11.

Fig. 11 shows the experimental results using a total of 36 different weight weights. When 
, 
, and 
, the Precision-infimum and the modified-Precision are the highest, which are 0.607 and 0.8079 respectively. Therefore, the weight group 
 was selected for subsequent experiments.



Fig. 11. Precision-infimum and modified-Precision with different weight.

6.2. Comparison of discovery precision
On the CITA dataset, we conduct 50,000 rounds of experiments using Feedback and the proposed MRS-LTR. The experimental results are shown in Fig. 12, Fig. 13.

As discussed in Section 2.3 and Section 4.2, the rate-limiting of API endpoint (friends/list - 15/15 min) to be used by Feedback is strict. So using all the users in the CITA as the initial users is not feasible in time. Therefore, we randomly sampled 50,000 users in the dataset for experiments. It can be seen from Fig. 12, Fig. 13, after multiple rounds of experiments, the precision of the algorithm tends to be stable, and in the three cities, the Precision-infimum and the modified-Precision of the proposed algorithm is higher than that of the Feedback algorithm.


Fig. 12. The recommendation precision of Feedback.


Fig. 13. The recommendation precision of MRS-LTR.

To verify the impact of the three recommendation indicators proposed in this manuscript on precision, we also conduct user discovery experiments using the algorithms with single indicator. The experimental results are shown in Fig. 14 and Table 11.

In Fig. 14, the -axis represents different algorithms, and the -axis represents the maximum, minimum, and average values of Precision-infimum and modified-Precision.



Fig. 14. The performance of the proposed algorithm compared to Feedback.


Table 11. Average Precision-infimum and average modified-Precision.

Algorithm	Ave(Precision-infimum)	Ave(modified-Precision)
Feedback (Kotzias et al., 2015)	0.4320	0.4982
Proposed (Indicator 1)	0.2776	0.5776
Proposed (Indicator 2)	0.2220	0.5048
Proposed (Indicator 3)	0.7395	0.7395
Proposed MRS-LTR	0.5799	0.8104
As shown in Fig. 14 and Table 11, the average Precision-infimum of MRS-LTR is 57.99%, and that of Feedback is 43.20%; the average modified-Precision of MRS-LTR is 81.04%, and that of Feedback is 49.82%. That is, the precision of the proposed algorithm is significantly higher than that of the Feedback algorithm.

Analysis 1: The difference in Precision-infimum and modified-Precision is large for MRS-LTR but barely significant for Feedback.

Precision-infimum considers users whose profile location is empty as not in the target area. However, modified-Precision is the approximation of true precision based on the Precision-infimum. In practice, users whose profile location is empty are also likely to be in the target area. Because MRS-LTR has a higher Precision-infimum, the recommended users with an empty profile are more likely to be in the target area than Feedback. So the difference in the two metrics for MRS-LTR is even larger.

Quantitative Analysis. Since MRS-LTR has a higher Precision-infimum than Feedback, the  of each round in Formula (9) is higher for MRS-LTR than for Feedback. Therefore, after multiple rounds of iteration, the difference in the two metrics is progressively larger for MRS-LTR than for Feedback.

Analysis 2: In terms ofPrecision-infimum, Indicator 3 outperforms Indicator 1 and Indicator 2 and their combination. However, MRS-LTR still combines the three indicators.

It can be seen from Fig. 14 and Table 11, the algorithm based on Indicator 3 only is superior to MRS-LTR (based on the comprehensive indicators) in terms of Precision-infimum. However, in terms of the modified-Precision (which is closer to true precision), MRS-LTR works best.

The algorithm based on Indicator 3 recommends users with the highest local tweet ratio. These users may be used to sharing location information, and they are more likely to fill in the profile. Therefore, among the users recommended by the algorithm based on Indicator 1 and Indicator 2, there are more users with empty profile location than the algorithm based on Indicator 3. However, Precision-infimum considers all users with empty profile location as not in the target area, resulting in a very low Precision-infimum of Indicator 1 and Indicator 2.

Quantitative Analysis. The algorithm based on Indicator 1 and Indicator 2 have more users with empty profiles, so they have a higher 
 in Formula (8) than the algorithm based on Indicator 3. When 
 is certain, high 
 will make 
 low, resulting in a low Precision-infimum of the algorithm based on Indicator 1 and Indicator 2.

However, a low Precision-infimum does not mean that true precision is low, and the Precision-infimum of the comprehensive indicators are still higher than Feedback. Besides, it can be seen from the modified-Precision that the algorithm with the combination of the three indicators performs best. Modified-Precision is closer to true precision than Precision-infimum, so it is necessary to combine the three indicators.

6.3. Comparison of discovery speed
In order to compare the discovery speed of Feedback and the proposed MRS-LTR, we conduct users and tweets discovery experiments for 24 h, respectively. The experimental results are shown in Fig. 15.

In Fig. 15, the -axis represents the time after the experiment started, denoted as t. On the -axis, the orange and blue lines are the number of users found by MRS-LTR and Feedback within t minutes, respectively. In addition, MRS-LTR adds tweets created in the target area to the basic tweet set while recommending candidate users. The red line represents the number of local tweets found by MRS-LTR within t minutes.


Fig. 15. Results of comparison experiments on discovery speed.

As can be seen from Fig. 15, within 24 h, Feedback discovers an average of 1139 new users, and MRS-LTR finds an average of 9924 new users and 360,322 new tweets for the target area. The discovery speed of MRS-LTR is significantly higher than the existing algorithm. Besides, the experimental speed of the proposed algorithm is lower than the theoretical speed, which is due to the limitation of the network speed in the actual experiment.

The number of tweets found for the three areas in the experiment is shown in Table 12. The experiment discovers a total of 111,559,663 tweets, of which 4,286,227 are in the target area.

NLTK12 is used to perform named entity recognition on the recommended tweets, and the frequency of words is counted. After the stop words are deleted, the top 20 words are displayed in Fig. 16. It can be seen that there are regional differences in the word clouds of tweets from different locations. For example, the word cloud based on tweets discovered in Boston includes Marty Walsh (mayor of Boston); the word cloud based on tweets discovered in San Francisco contains UCSF (University of California, San Francisco); the word cloud based on tweets discovered in Houston includes Astros (Houston’s baseball team).


Table 12. Number of tweets found by MRS-LTR.

Boston	San Francisco	Houston	Total
# Tweets extended	28,732,334	46,143,067	36,684,262	111,559,663
# Tweets in target area	1,234,003	1,550,640	1,501,584	4,286,227
7. Conclusion
The discovery of Twitter users and tweets for the target area plays an important role in the development of regional disaster monitoring, catering and scenic spot recommendation, etc. Although the existing method can find many users in the target area, they still have the shortcomings of low precision and high time consumption. Therefore, this manuscript put forward and verified two sound-reasonable hypotheses. Based on the two hypotheses, an algorithm for users and tweets discovery based on mention relationship strength and local tweet ratio is proposed. Principle analysis and experimental results show that the proposed MRS-LTR algorithm improves the precision and speed of user and tweet discovery compared with the existing method. However, MRS-LTR still has some limitations and cannot guarantee that all users and tweets in the target area will be discovered. In the future, we will focus on the correlation and models between the strength of interactions between users and geographic proximity, improve the coverage of user discovery, and explore ways to discover users and tweets for target areas more quickly, accurately, and comprehensively.