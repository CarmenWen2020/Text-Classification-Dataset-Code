In the past decade, crypto-currencies such as Bitcoin and Litecoin have developed rapidly. Blockchain as the underlying technology of these digital crypto-currencies has attracted great attention from academia and industry. Blockchain has many good features, such as trust-free, transparency, anonymity, democracy, automation, decentralization and security. Despite these promising features, scalability is still a key barrier when the blockchain technology is widely used in real business environments. In this article, we focus on the scalability issue, and provide a brief survey of recent studies on scalable blockchain systems. We first discuss the scalability issue from the perspectives of throughput, storage and networking. Then, existing enabling technologies for scalable blockchain systems are presented. We also discuss some research challenges and future research directions for scalable blockchain systems.

Introduction
In recent years, blockchain, as the underlying technology of Bitcoin and other crypto-currencies, has attracted significant attention. Academia and industry are trying to apply the promising technology into many areas, such as Internet of Things and smart cities. Blockchain has many good features, such as trust-free, transparency, anonymity, democracy, automation, decentralization and security. Trust-free means that blockchain systems can run normally in a peer-to-peer manner without a reliable third party. Blockchain enables everyone to access all transaction records, which makes it transparent. The anonymity can be realized by recording transactions using public anonymous addresses and keeping nodes' real-world identities hidden. In blockchain systems, decisions are made by all nodes, which makes it democratized. Smart contracts have the ability to perform transaction generation, decision making and data storage automatically. The decentralization of blockchain systems makes it necessary to ensure consistency by running consensus algorithms among decentralized nodes. The security of blockchain systems is related to integrity, confidentiality and authorization.

Although these promising features can promote the implementation of a secure and transparent decentralized system, scalability is still a key barrier when applying blockchain to real business environments. Throughput, storage, and networking are three aspects of scalability. Recently, a number of researchers are studying effective enabling technologies to realize scalable blockchain systems. Nevertheless, most existing enabling technologies only focus on improving scalability but sacrificing other important features, such as decentralization, security, anonymity, or immutability. There is a well known Trilemma in blockchain: a blockchain system can only at most have two of the following three features: decentralization, scalability and security. Thus, there is no one existing enabling technology having all the good features of blockchain. This suggests that when applying these enabling technologies, we should select the most suitable one according to the requirements of applications and the system conditions [1].

In this article, we give a brief survey of recent studies on scalable blockchain systems with proper depth and sufficient breadth. The rest of the article is organized as follows. First, the scalability issue is analyzed from the perspectives of throughput, storage and networking. We then review the existing enabling technologies for scalable blockchain systems. Following that, challenges and future research directions are discussed. Finally, we conclude this article.

The Scalability Issue
Scalability is a key barrier when applying blockchain to real business environments. In this section, we analyze the scalability issue from the perspectives of throughput, storage and networking.

Throughput
Currently, the throughput of the Bitcoin blockchain is restricted to approximately seven transactions per second. In contrast, the VISA system can handle 2000 transactions per second on average. The throughput of blockchain systems is related to the number of transactions in each block and block interval time. Taking the Bitcoin blockchain as an example, the block interval time is approximately 10 minutes, and the number of transactions in each block is restricted by the block size, which is one megabyte (MB). Therefore, in order to sustain a huge volume of real world transactions, proper schemes need to be designed carefully to increase the throughput.

Storage
When applying blockchain to real business environments, a huge quantity of data generated by various devices is processed by the blockchain. In the traditional blockchain systems, each node must process and store the complete transaction back to the genesis block. Thus, it is not possible to directly apply blockchain to real business environments where nodes have limited storage and computing resources. Therefore, it is necessary to study how to store data in blockchain nodes with limited resources effectively.

Networking
Networking is the third factor that affects the scalability of blockchain systems. On one hand, the traditional blockchain network is a broadcast medium, in which each node relays all transactions. This data transmission mode cannot be scaled up to handle a large number of transactions due to the requirement for network bandwidth resources. On the other hand, in traditional blockchain systems, each transaction is transmitted twice to all nodes: when a transaction is generated, it is first broadcast to all nodes, and when a block containing the transaction is mined, it is broadcast to all nodes for the second time. This approach not only consumes a lot of network resources, but also increases the block propagation delay. Therefore, it is necessary to design more efficient data transmission mechanisms.

Enabling Technologies for Scalable Blockchain Systems
Based on the analysis in the previous section, throughput is related to the number of transactions in each block and block interval time; storage is related to the generated data; and networking is related to data transmission. In this section, existing enabling technologies for scalable blockchain systems (Fig. 1) are presented.

Figure 1. - Enabling technologies for scalable blockchain systems.
Figure 1.
Enabling technologies for scalable blockchain systems.

Show All

Enabling Technologies Related to the Number of Transactions in Each Block
Increasing the Block Size
Increasing the block size is an obvious solution to increase throughput by including more transactions in each block. However, this solution increases the block propagation delay and spends more nodes' efforts to process and confirm transactions.

Reducing the Transaction Size
Another obvious solution to increase the number of transactions in each block is to reduce the transaction size. In blockchain systems, digital signatures are used to verify the authentication of transactions, accounting for 60–70 percent of the transaction size. Segregated Witness, also known as SegWit, separates digital signatures from the rest of the transaction data and moves the digital signatures to the end of blocks. In this way, the transaction size is reduced, and one block can contain more transactions.

Reducing the Number of Transactions Processed by Nodes
An alternative to improving the throughput is to reduce the number of transactions processed by nodes. Off-chain transactions, sharding, and decoupling management/control from execution are three solutions.

Off-Chain Transactions
The basic idea of off-chain transactions is that if nodes make frequent transactions, off-chain micropayment channels between nodes are created to handle the multi-signature transactions off the chain instantaneously, and only the final settlement transactions are processed on the blockchain. Lightning Network [2] and Duplex Micropayment Channels [3] are two implementations of off-chain transactions. There is a main difference between them. The Lightning Network needs to commit some information to the blockchain for each update of the micropayment channels. In contrast, Duplex Micropayment Channels supports the atomical update of micropayment channels and enables the transfer of initial funds over the channels off the blockchain many times.

Sharding
Sharding is an effective technique to improve the horizontal scalability of blockchain systems. With blockchain sharding, nodes are separated into different shards. Each shard only processes a small portion of all transactions. In this way, transactions are processed in parallel. Nodes within a shard agree on a set of transactions by running Byzantine consensus algorithms. In order to process the cross-shard transactions, an inter-shard communication protocol needs to be designed. In sharding blockchain systems, the throughput increases linearly as more nodes join the systems. Elastico [4] and OmniLedger [5] are two examples of sharding blockchain systems. The main difference between them is that inter-shard transactions cannot be processed by Elastico, while they can be processed atomically by OmniLedger using an Atomic Commit protocol.

Decoupling Management/Control from Execution
Unlike most existing enabling technologies, Virtualization for Distributed Ledger Technology (vDLT) [6] explicitly considers the QoS requirements of different services and applications by decoupling management/control and execution of smart contracts. The decoupling of management/control from execution can be done via virtualization, with which multiple virtual DLT systems with varying characteristics can be dynamically created on the same substrate DLT system to accommodate different QoS requirements.

Enabling Technologies Related to Block Interval Time
In blockchain systems, block generation includes two operations: leader election and transaction serialization. Leader election is responsible for selecting one or some leader nodes. Transaction serialization means that the selected leader nodes validate transactions and generate new blocks. In order to minimize collisions in leader election, the leader nodes are selected at a low rate. For example, in the Bitcoin blockchain system, the leader node is selected every 10 minutes. In traditional blockchain systems, each leader election can only generate a new block. The coupling of leader election and transaction serialization introduces a long delay in block generation. In order to reduce the block interval time and improve the throughput, slow leader election and fast transaction serialization should be decoupled. The idea has been adopted by many enabling technologies [7]–[8][9][10]. We divide these enabling technologies into three categories according to their different leader election mechanisms.

Fixed Leaders
Hyperledger Fabric [7] designates a fixed set of leader nodes that run the PBFT consensus protocol to validate transactions and decide on new blocks.

A Single Leader
Bitcoin-NG [8] divides time into epochs. The key idea of Bitcoin-NG is that in each epoch, a leader is selected through PoW to generate blocks quickly until a new leader is selected. As shown in Fig. 2, there are two block types in Bitcoin-NG: keyblocks and microblocks. Keyblocks are generated through PoW and are used to select a leader at a low rate, such as every 10 minutes. Microblocks contain transactions and are generated by the selected leader at a fast rate. Between two keyblocks, the selected leader can generate multiple microblocks. Since the selected single leader may be malicious, in order to prevent the double-spending attacks and identify malicious leaders, Bitcoin-NG has a long transaction confirmation time, that is, a maturity period of 100 keyblocks.

Figure 2. - Chain structure of the Bitcoin-NG [8]. The leader's public key is included in the keyblock. Microblocks are signed with the private key that matches the public key in the last keyblock.
Figure 2.
Chain structure of the Bitcoin-NG [8]. The leader's public key is included in the keyblock. Microblocks are signed with the private key that matches the public key in the last keyblock.

Show All

Collective Leaders
To reduce the confirmation time of Bitcoin-NG, ByzCoin [9] and Solida [10] modify the leader election to be committee election. A group of leaders, rather than a single leader, are selected to collectively validate transactions and confirm blocks. Because Byzantine consensus algorithms (e.g., PBFT) enable fast transaction confirmation, both ByzCoin and Solida delegate the transaction validation and block confirmation to Byzantine consensus algorithms. The main difference between ByzCoin and Solida is the committee election mechanism. As shown in Fig. 3, ByzCoin has a fixed-size sliding share window. Each time a node finds a keyblock, the share window is moved one step forward. The node receives a consensus group share and becomes a member of the current committee. In the committee, members' voting power is proportional to the number of their consensus group shares. In this way, the committee members in ByzCoin are dynamically adjusted. Different from ByzCoin, Solida elects the committee members by using Byzantine consensus algorithms. Once a node finds a PoW solution, the reconfiguration event is triggered. The current committee needs to decide whether to add the node as a new member. If this reconfiguration decision is committed, the node becomes the newest committee member, and the oldest committee member is removed from the committee.

Figure 3. - Overview of the committee election mechanism in ByzCoin [9].
Figure 3.
Overview of the committee election mechanism in ByzCoin [9].

Show All

Enabling Technologies Related to Data Storage
The general idea to address the storage challenge is to combine blockchain with existing distributed storage systems, which are capable of storing a large amount of data off the chain.

The authors in [11] design off-chain storage using Distributed Hash Table (DHT). The raw data is stored by the off-chain DHT, while retaining only the data references on the blockchain. The references are the SHA-256 hashes of the raw data.

InterPlanetary File System (IPFS) is a distributed file system. On top of IPFS, Filecoin works as an incentive layer to form an entirely distributed file storage system. Filecoin presents a novel consensus protocol called Proof of Storage, where the node that provides more storage resources has a higher probability to be elected as the leader to create a new block. Based on Ethereum and IPFS, a decentralized service marketplace system called Desema is presented [12]. In Desema, service metadata and large data are stored in the off-chain IPFS, while only the data references are stored on the Ethereum.

BigchainDB [13] is a scalable blockchain database that combines the characteristics of both blockchain and existing distributed databases. There are two databases in BigchainDB. Database S stores the transaction set as a backlog, while database C stores the blocks. The transactions ordered and collected in S can be bundled into a block in database C. BigchainDB logically separates the writing blocks from voting, which means that when a block is added to database C, it has no reference to the previous block, and after the block is voted by signing nodes using the BigchainDB Consensus Algorithm (BCA), it has a reference to the previous block. This mechanism is called “chainification happens at the voting time.”

Enabling Technologies Related to Data Transmission
To transmit the transaction information effectively and reduce the requirement for network bandwidth resources, some enabling technologies have been presented. We divide these enabling technologies into two categories: adopting effective data transmission methods and reducing the amount of data propagated over the blockchain network.

Adopting Effective Data Transmission Methods
Cardano adopts Recursive Inter-Network Architecture (RINA), a new type of network technology, to propagate transaction information. RINA provides a secure and programmable environment to propagate data efficiently.

GeeqChain uses a randomized hub-and-spoke network to minimize the bandwidth requirement. In GeeqChain, miners connect to the relay node closest to them. Relay nodes can propagate block and transaction information to all miners efficiently. The hub-and-spoke model is faster than traditional blockchain peer-to-peer networks.

FIBRE is a high-speed block-relay network for Bitcoin. There are currently six FIBRE nodes, distributed strategically around the globe. Based on the hub-and-spoke model, miners can connect to FIBRE nodes to send and receive blocks.

Reducing the Amount of Data Propagated Over the Blockchain Network
Propagating each transaction only once is an effective way to reduce the amount of propagated data. The general idea is to take advantage of the fact that blockchain nodes have similar transaction data in their memory pools. When a new block is generated, only a sketch of the block is propagated to all nodes. The block sketch contains the block header and shortened transaction information. According to the shortened transaction information, nodes can reconstruct the block.

When a new block is generated, Compact Blocks only propagates compact hashes of transaction data to blockchain nodes. Nodes can use these hashes to determine which transactions are included in the block, and reconstruct the block.

Xtreme Thinblocks is similar to Compact Blocks. As the main difference, Xtreme Thin-blocks uses an extra mathematical method (i.e., Bloom Filters) to communicate transaction hashes. Nodes can use Bloom Filters to determine the missing transactions in other nodes' memory pools. When a block is generated, in addition to the block header and the hashes of transactions, the missing transactions are also propagated.

Lessons Learned
Key lessons learned from the review of existing enabling technologies for scalable blockchain systems are summarized below

Segwit can improve throughput and maintain good compatibility with the Bitcoin blockchain system, but the throughput improvement is limited.

Off-chain transaction systems can reduce the number of transactions processed on the blockchain, but sacrifice transaction security and complicate the user experience. Specifically, off-chain transaction systems raise four technical challenges. First, when an off-chain micropayment channel is attacked, all transactions performed over it are lost. Second, to create an off-chain micropayment channel, blockchain nodes need to deposit some digital currencies. If the deposit is too low, it is difficult to perform large off-chain transactions. If the deposit is too high, too many digital currencies are locked on the channel. Thus, blockchain nodes are responsible for depositing a suitable number of digital currencies. Third, to ensure the authenticity and accuracy of the off-chain transactions, blockchain nodes must proactively check whether the counterparty has broadcast an old channel state to the blockchain. Fourth, the efficacy of off-chain transaction systems depends critically on the properties of the micropayment channel network, such as its topology, the number of digital currencies locked on micropayment channels, and so on.

Sharding improves throughput and reduces the number of transactions processed by each node, but sacrifices global consensus. Although inter-shard transactions can be processed atomically by OmniLedger, it increases the complexity of global consensus and incurs substantial overhead to process inter-shard transactions. Moreover, it is difficult to choose a suitable shard size. A large shard size may affect the performance of Byzantine consensus algorithms that run in each shard, because Byzantine consensus algorithms are effective for reasonably small consensus groups. A small shard size not only has a bad effect on scalability due to a large number of inter-shard transactions, but also reduces the security of the systems. This is because if the total number of nodes remains fixed, it is difficult for a small shard to ensure that less than one-third of the shard members are Byzantine nodes (a lower bound of Byzantine consensus algorithms).

Decoupling management/control from execution supports QoS provisioning and improves decentralization, but increases the complexity of dynamic resource allocation and the decisions on which nodes should execute smart contracts.

Hyperledger Fabric improves throughput, but sacrifices the anonymity requirement. In Hyperledger Fabric, only authorized entities are allowed to participate in the consensus process. Another drawback is that it does not scale in terms of the number of blockchain nodes. This is because a large number of blockchain nodes can greatly degrade the performance of Byzantine Fault Tolerance (BFT)-related algorithms (e.g., PBFT).

Bitcoin-NG achieves throughput improvement, but implies significant compromise on security. If a malicious leader is selected, double-spending attacks may occur.

Both ByzCoin and Solida improve throughput by using Byzantine consensus algorithms (e.g., PBFT in ByzCoin), while keeping the permission-less nature by using PoW for committee election. However, they sacrifice security. Because the committee is always much smaller than the total number of blockchain nodes, it is difficult to guarantee that less than one-third of the committee members are Byzantine nodes. Thus, both ByzCoin and Solida have the probability to elect a committee that does not satisfy the lower bound of Byzantine consensus algorithms.

The general idea to address the storage challenge is to combine blockchain with existing distributed storage systems, such as DHT and IPFS. Off-chain storage solutions can store a large amount of data, but sacrifice immutability. The blockchain nodes cannot control the modification of the off-chain raw data directly. Moreover, off-chain storage solutions also make transaction verification more complex. When verifying transactions, blockchain nodes need to request historical transaction data from the off-chain storage systems.

There are two ways to enhance data transmission efficiency. One way is to use a high-speed relay network for block propagation among blockchain nodes. The relay network significantly reduces block propagation time, but increases centralization and reduces fairness, which means that blockchain nodes outside the relay network are at a disadvantage in block generating. Another way is to propagate each transaction only once, which reduces the bandwidth requirement but increases the complexity of block propagation. After the sketch information of a newly generated block is propagated to all nodes, to reconstruct the block, blockchain nodes need to request their missing transactions.

In summary, existing enabling technologies for scalable blockchain systems are a trade-off among scalability, decentralization, security, anonymity, global consensus, or immutability. In Fig. 4, we give a timeline of the enabling technologies discussed above to reveal the development of scalable blockchain systems. In Table 1, we provide a detailed comparison of the enabling technologies, from the perspectives of permissioned, consensus algorithm, immutability, global consensus, attack, transaction finality and implementation. The performance of enabling technologies is summarized in Table 2.

Figure 4. - Timeline of enabling technologies for scalable blockchain systems.
Figure 4.
Timeline of enabling technologies for scalable blockchain systems.

Show All

Challenges and Future Research Directions
Despite existing works for the scalability improvement of blockchain systems, it is still a new research area full of challenges. There are a lot of research challenges that remain to be addressed. In this section, we discuss some challenges and outline some possible future research directions.

Leader Election Mechanism
An effective method for throughput improvement is to decouple leader election and transaction serialization. The blocks are generated quickly by the elected leaders using Byzantine consensus protocols. Byzantine consensus protocols work on the assumption that less than one-third of the nodes are faulty while all others execute correctly. Thus, an effective leader election mechanism is important. Random leader election is a simple approach, but it cannot ensure that the majority of leaders are honest. ByzCoin and Solida elect leaders based on the computation-intensive PoW, which is not an energy-efficient approach and consumes a lot of electricity energy resources. How to design an energy-efficient leader election mechanism remains an active research direction. One possible approach is to use a reputation scheme. The reputation score of each node is calculated according to its historical contribution and behaviors. The nodes with higher reputation scores have a higher probability to be elected as leaders to create new blocks. In this way, the faulty nodes are less likely to be elected.

Table 1. Enabling technologies for scalable blockchain systems.
Table 1.- Enabling technologies for scalable blockchain systems.
Incentive and Punishment Mechanisms
In blockchain systems, we can assume that nodes are self-interested, so that incentive mechanisms are necessary to motivate nodes to contribute their efforts to verify data. Currency issuance and transaction fees are two common methods. For example, in the Bitcoin blockchain system, once a miner successfully generates a block, it earns 12.5 new bitcoins now. When blocks are generated by a group of leaders collectively, how to allocate currencies and transaction fees among these leaders needs to be designed carefully. On the other hand, to prevent double-spending attacks and punish malicious leaders, punishment mechanisms are also necessary. One approach is to use the confirmation time, which means that the economic incentives of a leader can only be spent after a long confirmation time. During the confirmation time, once a poison transaction (i.e., invalid or double-spending transaction) is found, economic incentives of the malicious leader will be invalidated. Another approach is to use the deposit. Before creating new blocks, the leaders are required to make a deposit to blockchain systems. In case of a poison transaction, the leaders are penalized and lose part of their deposit. A suitable amount of deposit is very important. If the deposit is too low, it has very little effect on malicious leaders. If the deposit is too high, acting as a leader to create new blocks is expensive, and a casual node is not capable of performing the task, which will lead to centralization. Therefore, it is necessary to design effective incentive and punishment mechanisms carefully.

Table 2. Performance of enabling technologies for scalable blockchain systems.
Table 2.- Performance of enabling technologies for scalable blockchain systems.
Data Processing
An analysis of people's personal data can provide personalized services, accelerate innovation and economic growth, predict future market trends, and optimize companies' decision-making process. Data storage-related enabling technologies have solved the scalable data storage problem, but data processing with privacy has not been solved. Enigma [14] is an effective approach to solve this problem. Enigma allows a server to run computations directly on the network in a distributed way by using secure Multi-party Computation (MPC), but never let the server observe the raw data. Despite the high potential of Enigma, many significant problems remain to be addressed. For example, how Enigma interoperates with blockchain systems is a research direction. Designing an effective incentive scheme to motivate nodes to contribute their computational and storage resources to store and process data is another research direction.

Performance Analysis of Blockchain Systems
At present, the performance of many enabling technologies has only been discussed in a qualitative manner, but has not been analyzed in a quantitative manner. Although some attempts [4], [5], [8]–[9][10], [13] have been made to measure the performance of enabling technologies for scalable blockchain systems, the performance analysis is obtained through simulation while explicit quantitative measurement is absent. In [15], the authors provide a methodology to quantify the performance of blockchain systems from the aspects of scalability, decentralization, latency and security. Specifically, scalability is measured by transactional throughput; decentralization is measured by the Gini coefficient; latency is measured by time to finality (TTF), which is defined as the time for transactions written in blockchain to be irreversible and finalized; and security is measured according to the loyalty of validators for BFT-type consensus algorithms. Based on the explicit quantification of these features, a performance optimization framework is designed to address the four-way trade-off issue. Although the work in [15] provides some insights for performance analysis of blockchain systems, it still lacks comprehensiveness and generality. Therefore, it is interesting to study the comprehensive and general quantitative methodology to evaluate the performance of blockchain systems.

Conclusion
In this article, we studied the scalability issue of blockchain systems, which is becoming a major concern when applying blockchain to real business environments. We first analyzed the scalability issue from the perspectives of throughput, storage and networking. Next, we presented existing enabling technologies for scalable blockchain systems, that are related to the number of transactions in each block, block interval time, data storage and data transmission. Finally, research challenges and future research directions for scalable blockchain systems were discussed.